/*! For license information please see main.786e0c8d.js.LICENSE.txt */
(()=>{var e={540:(e,t)=>{"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,o=n?Symbol.for("react.fragment"):60107,s=n?Symbol.for("react.strict_mode"):60108,a=n?Symbol.for("react.profiler"):60114,c=n?Symbol.for("react.provider"):60109,l=n?Symbol.for("react.context"):60110,u=n?Symbol.for("react.async_mode"):60111,h=n?Symbol.for("react.concurrent_mode"):60111,d=n?Symbol.for("react.forward_ref"):60112,f=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,m=n?Symbol.for("react.memo"):60115,g=n?Symbol.for("react.lazy"):60116,v=n?Symbol.for("react.block"):60121,y=n?Symbol.for("react.fundamental"):60117,w=n?Symbol.for("react.responder"):60118,b=n?Symbol.for("react.scope"):60119;function _(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case u:case h:case o:case a:case s:case f:return e;default:switch(e=e&&e.$$typeof){case l:case d:case g:case m:case c:return e;default:return t}}case i:return t}}}function E(e){return _(e)===h}t.isForwardRef=function(e){return _(e)===d}},904:(e,t,n)=>{"use strict";e.exports=n(540)},172:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(396);n(554);var i=n(43);function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),e}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function f(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}var p=function(){function e(t){s(this,e),l(this,"handlers",void 0),this.handlers=t.slice(0)}return c(e,[{key:"addHandlers",value:function(t){for(var n=this.handlers.slice(0),r=t.length,i=0;i<r;i+=1)n.push(t[i]);return new e(n)}},{key:"dispatchEvent",value:function(e,t){var n=this.handlers.length-1;if(t){for(var r=n;r>=0;r-=1)this.handlers[r].called||(this.handlers[r].called=!0,this.handlers[r](e));for(var i=n;i>=0;i-=1)this.handlers[i].called=!1}else(0,this.handlers[n])(e)}},{key:"hasHandlers",value:function(){return this.handlers.length>0}},{key:"removeHandlers",value:function(t){for(var n=[],r=this.handlers.length,i=0;i<r;i+=1){var o=this.handlers[i];-1===t.indexOf(o)&&n.push(o)}return new e(n)}}]),e}();function m(e){var t=new Map;return e.forEach((function(e,n){t.set(n,e)})),t}function g(e){return Array.isArray(e)?e:[e]}function v(e){return"document"===e?document:"window"===e?window:function(e){return null!==e&&"object"===o(e)&&e.hasOwnProperty("current")}(e)?e.current||document:e||document}var y=function(){function e(t,n){s(this,e),l(this,"handlerSets",void 0),l(this,"poolName",void 0),this.handlerSets=n,this.poolName=t}return c(e,[{key:"addHandlers",value:function(t,n){var r=m(this.handlerSets);if(r.has(t)){var i=r.get(t);r.set(t,i.addHandlers(n))}else r.set(t,new p(n));return new e(this.poolName,r)}},{key:"dispatchEvent",value:function(e,t){var n=this.handlerSets.get(e),r="default"===this.poolName;n&&n.dispatchEvent(t,r)}},{key:"hasHandlers",value:function(e){if(!e)return this.handlerSets.size>0;var t=this.handlerSets.get(e);return!!t&&t.hasHandlers()}},{key:"removeHandlers",value:function(t,n){var r=m(this.handlerSets);if(!r.has(t))return new e(this.poolName,r);var i=r.get(t).removeHandlers(n);return i.hasHandlers()?r.set(t,i):r.delete(t),new e(this.poolName,r)}}]),e}();l(y,"createByType",(function(e,t,n){var r=new Map;return r.set(t,new p(n)),new y(e,r)}));var w=function(){function e(t){var n=this;s(this,e),l(this,"handlers",new Map),l(this,"pools",new Map),l(this,"target",void 0),l(this,"createEmitter",(function(e){return function(t){n.pools.forEach((function(n){n.dispatchEvent(e,t)}))}})),this.target=t}return c(e,[{key:"addHandlers",value:function(e,t,n){if(this.pools.has(e)){var r=this.pools.get(e);this.pools.set(e,r.addHandlers(t,n))}else this.pools.set(e,y.createByType(e,t,n));this.handlers.has(t)||this.addTargetHandler(t)}},{key:"hasHandlers",value:function(){return this.handlers.size>0}},{key:"removeHandlers",value:function(e,t,n){if(this.pools.has(e)){var r=this.pools.get(e).removeHandlers(t,n);r.hasHandlers()?this.pools.set(e,r):this.pools.delete(e);var i=!1;this.pools.forEach((function(e){return i=i||e.hasHandlers(t)})),i||this.removeTargetHandler(t)}}},{key:"addTargetHandler",value:function(e){var t=this.createEmitter(e);this.handlers.set(e,t),this.target.addEventListener(e,t,!0)}},{key:"removeTargetHandler",value:function(e){this.handlers.has(e)&&(this.target.removeEventListener(e,this.handlers.get(e),!0),this.handlers.delete(e))}}]),e}(),b=new(function(){function e(){var t=this;s(this,e),l(this,"targets",new Map),l(this,"getTarget",(function(e){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=v(e);if(t.targets.has(r))return t.targets.get(r);if(!n)return null;var i=new w(r);return t.targets.set(r,i),i})),l(this,"removeTarget",(function(e){t.targets.delete(v(e))}))}return c(e,[{key:"sub",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(r.canUseDOM){var i=n.target,o=void 0===i?document:i,s=n.pool,a=void 0===s?"default":s;this.getTarget(o).addHandlers(a,e,g(t))}}},{key:"unsub",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(r.canUseDOM){var i=n.target,o=void 0===i?document:i,s=n.pool,a=void 0===s?"default":s,c=this.getTarget(o,!1);c&&(c.removeHandlers(a,e,g(t)),c.hasHandlers()||this.removeTarget(o))}}}]),e}()),_=function(e){function t(){return s(this,t),f(this,h(t).apply(this,arguments))}return u(t,i.PureComponent),c(t,[{key:"componentDidMount",value:function(){this.subscribe(this.props)}},{key:"componentDidUpdate",value:function(e){this.unsubscribe(e),this.subscribe(this.props)}},{key:"componentWillUnmount",value:function(){this.unsubscribe(this.props)}},{key:"subscribe",value:function(e){var t=e.name,n=e.on,r=e.pool,i=e.target;b.sub(t,n,{pool:r,target:i})}},{key:"unsubscribe",value:function(e){var t=e.name,n=e.on,r=e.pool,i=e.target;b.unsub(t,n,{pool:r,target:i})}},{key:"render",value:function(){return null}}]),t}();l(_,"defaultProps",{pool:"default",target:"document"}),_.propTypes={},t.instance=b,t.default=_},173:(e,t,n)=>{"use strict";var r;r=n(172),e.exports=r.default,e.exports.instance=r.instance},651:function(e){e.exports=function(){"use strict";function e(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function t(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function n(n){for(var r=1;r<arguments.length;r++){var i=null!=arguments[r]?arguments[r]:{};r%2?t(Object(i),!0).forEach((function(t){e(n,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(i)):t(Object(i)).forEach((function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(i,e))}))}return n}function r(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)){var n=[],r=!0,i=!1,o=void 0;try{for(var s,a=e[Symbol.iterator]();!(r=(s=a.next()).done)&&(n.push(s.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==a.return||a.return()}finally{if(i)throw o}}return n}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function o(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function s(e){var t,n="algoliasearch-client-js-".concat(e.key),r=function(){return void 0===t&&(t=e.localStorage||window.localStorage),t},o=function(){return JSON.parse(r().getItem(n)||"{}")},s=function(e){r().setItem(n,JSON.stringify(e))},a=function(){var t=e.timeToLive?1e3*e.timeToLive:null,n=o(),r=Object.fromEntries(Object.entries(n).filter((function(e){return void 0!==i(e,2)[1].timestamp})));if(s(r),t){var a=Object.fromEntries(Object.entries(r).filter((function(e){var n=i(e,2)[1],r=(new Date).getTime();return!(n.timestamp+t<r)})));s(a)}};return{get:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{miss:function(){return Promise.resolve()}};return Promise.resolve().then((function(){a();var t=JSON.stringify(e);return o()[t]})).then((function(e){return Promise.all([e?e.value:t(),void 0!==e])})).then((function(e){var t=i(e,2),r=t[0],o=t[1];return Promise.all([r,o||n.miss(r)])})).then((function(e){return i(e,1)[0]}))},set:function(e,t){return Promise.resolve().then((function(){var i=o();return i[JSON.stringify(e)]={timestamp:(new Date).getTime(),value:t},r().setItem(n,JSON.stringify(i)),t}))},delete:function(e){return Promise.resolve().then((function(){var t=o();delete t[JSON.stringify(e)],r().setItem(n,JSON.stringify(t))}))},clear:function(){return Promise.resolve().then((function(){r().removeItem(n)}))}}}function a(e){var t=o(e.caches),n=t.shift();return void 0===n?{get:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{miss:function(){return Promise.resolve()}};return t().then((function(e){return Promise.all([e,n.miss(e)])})).then((function(e){return i(e,1)[0]}))},set:function(e,t){return Promise.resolve(t)},delete:function(e){return Promise.resolve()},clear:function(){return Promise.resolve()}}:{get:function(e,r){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{miss:function(){return Promise.resolve()}};return n.get(e,r,i).catch((function(){return a({caches:t}).get(e,r,i)}))},set:function(e,r){return n.set(e,r).catch((function(){return a({caches:t}).set(e,r)}))},delete:function(e){return n.delete(e).catch((function(){return a({caches:t}).delete(e)}))},clear:function(){return n.clear().catch((function(){return a({caches:t}).clear()}))}}}function c(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{serializable:!0},t={};return{get:function(n,r){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{miss:function(){return Promise.resolve()}},o=JSON.stringify(n);if(o in t)return Promise.resolve(e.serializable?JSON.parse(t[o]):t[o]);var s=r(),a=i&&i.miss||function(){return Promise.resolve()};return s.then((function(e){return a(e)})).then((function(){return s}))},set:function(n,r){return t[JSON.stringify(n)]=e.serializable?JSON.stringify(r):r,Promise.resolve(r)},delete:function(e){return delete t[JSON.stringify(e)],Promise.resolve()},clear:function(){return t={},Promise.resolve()}}}function l(e,t,n){var r={"x-algolia-api-key":n,"x-algolia-application-id":t};return{headers:function(){return e===m.WithinHeaders?r:{}},queryParameters:function(){return e===m.WithinQueryParameters?r:{}}}}function u(e){var t=0;return e((function n(){return t++,new Promise((function(r){setTimeout((function(){r(e(n))}),Math.min(100*t,1e3))}))}))}function h(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(e,t){return Promise.resolve()};return Object.assign(e,{wait:function(n){return h(e.then((function(e){return Promise.all([t(e,n),e])})).then((function(e){return e[1]})))}})}function d(e){for(var t=e.length-1;t>0;t--){var n=Math.floor(Math.random()*(t+1)),r=e[t];e[t]=e[n],e[n]=r}return e}function f(e,t){return t?(Object.keys(t).forEach((function(n){e[n]=t[n](e)})),e):e}function p(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=0;return e.replace(/%s/g,(function(){return encodeURIComponent(n[i++])}))}var m={WithinQueryParameters:0,WithinHeaders:1};function g(e,t){var n=e||{},r=n.data||{};return Object.keys(n).forEach((function(e){-1===["timeout","headers","queryParameters","data","cacheable"].indexOf(e)&&(r[e]=n[e])})),{data:Object.entries(r).length>0?r:void 0,timeout:n.timeout||t,headers:n.headers||{},queryParameters:n.queryParameters||{},cacheable:n.cacheable}}var v={Read:1,Write:2,Any:3},y=1,w=2,b=3;function _(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:y;return n(n({},e),{},{status:t,lastUpdate:Date.now()})}function E(e){return"string"==typeof e?{protocol:"https",url:e,accept:v.Any}:{protocol:e.protocol||"https",url:e.url,accept:e.accept||v.Any}}var I="DELETE",T="GET",S="POST",k="PUT";function C(e,t){return Promise.all(t.map((function(t){return e.get(t,(function(){return Promise.resolve(_(t))}))}))).then((function(e){var n=e.filter((function(e){return function(e){return e.status===y||Date.now()-e.lastUpdate>12e4}(e)})),r=e.filter((function(e){return function(e){return e.status===b&&Date.now()-e.lastUpdate<=12e4}(e)})),i=[].concat(o(n),o(r));return{getTimeout:function(e,t){return(0===r.length&&0===e?1:r.length+3+e)*t},statelessHosts:i.length>0?i.map((function(e){return E(e)})):t}}))}function x(e,t,r,i){var s=[],a=function(e,t){if(e.method!==T&&(void 0!==e.data||void 0!==t.data)){var r=Array.isArray(e.data)?e.data:n(n({},e.data),t.data);return JSON.stringify(r)}}(r,i),c=function(e,t){var r=n(n({},e.headers),t.headers),i={};return Object.keys(r).forEach((function(e){var t=r[e];i[e.toLowerCase()]=t})),i}(e,i),l=r.method,u=r.method!==T?{}:n(n({},r.data),i.data),h=n(n(n({"x-algolia-agent":e.userAgent.value},e.queryParameters),u),i.queryParameters),d=0,f=function t(n,o){var u=n.pop();if(void 0===u)throw{name:"RetryError",message:"Unreachable hosts - your application id may be incorrect. If the error persists, contact support@algolia.com.",transporterStackTrace:O(s)};var f={data:a,headers:c,method:l,url:P(u,r.path,h),connectTimeout:o(d,e.timeouts.connect),responseTimeout:o(d,i.timeout)},p=function(e){var t={request:f,response:e,host:u,triesLeft:n.length};return s.push(t),t},m={onSuccess:function(e){return function(e){try{return JSON.parse(e.content)}catch(t){throw function(e,t){return{name:"DeserializationError",message:e,response:t}}(t.message,e)}}(e)},onRetry:function(r){var i=p(r);return r.isTimedOut&&d++,Promise.all([e.logger.info("Retryable failure",D(i)),e.hostsCache.set(u,_(u,r.isTimedOut?b:w))]).then((function(){return t(n,o)}))},onFail:function(e){throw p(e),function(e,t){var n=e.content,r=e.status,i=n;try{i=JSON.parse(n).message}catch(e){}return function(e,t,n){return{name:"ApiError",message:e,status:t,transporterStackTrace:n}}(i,r,t)}(e,O(s))}};return e.requester.send(f).then((function(e){return function(e,t){return function(e){var t=e.status;return e.isTimedOut||function(e){var t=e.isTimedOut,n=e.status;return!t&&0==~~n}(e)||2!=~~(t/100)&&4!=~~(t/100)}(e)?t.onRetry(e):2==~~(e.status/100)?t.onSuccess(e):t.onFail(e)}(e,m)}))};return C(e.hostsCache,t).then((function(e){return f(o(e.statelessHosts).reverse(),e.getTimeout)}))}function N(e){var t=e.hostsCache,n=e.logger,r=e.requester,o=e.requestsCache,s=e.responsesCache,a=e.timeouts,c=e.userAgent,l=e.hosts,u=e.queryParameters,h={hostsCache:t,logger:n,requester:r,requestsCache:o,responsesCache:s,timeouts:a,userAgent:c,headers:e.headers,queryParameters:u,hosts:l.map((function(e){return E(e)})),read:function(e,t){var n=g(t,h.timeouts.read),r=function(){return x(h,h.hosts.filter((function(e){return 0!=(e.accept&v.Read)})),e,n)};if(!0!==(void 0!==n.cacheable?n.cacheable:e.cacheable))return r();var o={request:e,mappedRequestOptions:n,transporter:{queryParameters:h.queryParameters,headers:h.headers}};return h.responsesCache.get(o,(function(){return h.requestsCache.get(o,(function(){return h.requestsCache.set(o,r()).then((function(e){return Promise.all([h.requestsCache.delete(o),e])}),(function(e){return Promise.all([h.requestsCache.delete(o),Promise.reject(e)])})).then((function(e){var t=i(e,2);return t[0],t[1]}))}))}),{miss:function(e){return h.responsesCache.set(o,e)}})},write:function(e,t){return x(h,h.hosts.filter((function(e){return 0!=(e.accept&v.Write)})),e,g(t,h.timeouts.write))}};return h}function A(e){var t={value:"Algolia for JavaScript (".concat(e,")"),add:function(e){var n="; ".concat(e.segment).concat(void 0!==e.version?" (".concat(e.version,")"):"");return-1===t.value.indexOf(n)&&(t.value="".concat(t.value).concat(n)),t}};return t}function P(e,t,n){var r=R(n),i="".concat(e.protocol,"://").concat(e.url,"/").concat("/"===t.charAt(0)?t.substr(1):t);return r.length&&(i+="?".concat(r)),i}function R(e){return Object.keys(e).map((function(t){return p("%s=%s",t,(n=e[t],"[object Object]"===Object.prototype.toString.call(n)||"[object Array]"===Object.prototype.toString.call(n)?JSON.stringify(e[t]):e[t]));var n})).join("&")}function O(e){return e.map((function(e){return D(e)}))}function D(e){var t=e.request.headers["x-algolia-api-key"]?{"x-algolia-api-key":"*****"}:{};return n(n({},e),{},{request:n(n({},e.request),{},{headers:n(n({},e.request.headers),t)})})}var L=function(e){return function(t,n){return e.transporter.write({method:S,path:"2/abtests",data:t},n)}},M=function(e){return function(t,n){return e.transporter.write({method:I,path:p("2/abtests/%s",t)},n)}},F=function(e){return function(t,n){return e.transporter.read({method:T,path:p("2/abtests/%s",t)},n)}},U=function(e){return function(t){return e.transporter.read({method:T,path:"2/abtests"},t)}},j=function(e){return function(t,n){return e.transporter.write({method:S,path:p("2/abtests/%s/stop",t)},n)}},V=function(e){return function(t){return e.transporter.read({method:T,path:"1/strategies/personalization"},t)}},z=function(e){return function(t,n){return e.transporter.write({method:S,path:"1/strategies/personalization",data:t},n)}};function B(e){return function t(n){return e.request(n).then((function(r){if(void 0!==e.batch&&e.batch(r.hits),!e.shouldStop(r))return r.cursor?t({cursor:r.cursor}):t({page:(n.page||0)+1})}))}({})}var q=function(e){return function(t,i){var o=i||{},s=o.queryParameters,a=r(o,["queryParameters"]),c=n({acl:t},void 0!==s?{queryParameters:s}:{});return h(e.transporter.write({method:S,path:"1/keys",data:c},a),(function(t,n){return u((function(r){return ee(e)(t.key,n).catch((function(e){if(404!==e.status)throw e;return r()}))}))}))}},K=function(e){return function(t,n,r){var i=g(r);return i.queryParameters["X-Algolia-User-ID"]=t,e.transporter.write({method:S,path:"1/clusters/mapping",data:{cluster:n}},i)}},H=function(e){return function(t,n,r){return e.transporter.write({method:S,path:"1/clusters/mapping/batch",data:{users:t,cluster:n}},r)}},G=function(e){return function(t,n){return h(e.transporter.write({method:S,path:p("/1/dictionaries/%s/batch",t),data:{clearExistingDictionaryEntries:!0,requests:{action:"addEntry",body:[]}}},n),(function(t,n){return Se(e)(t.taskID,n)}))}},W=function(e){return function(t,n,r){return h(e.transporter.write({method:S,path:p("1/indexes/%s/operation",t),data:{operation:"copy",destination:n}},r),(function(n,r){return ae(e)(t,{methods:{waitTask:ht}}).waitTask(n.taskID,r)}))}},Q=function(e){return function(t,r,i){return W(e)(t,r,n(n({},i),{},{scope:[ft.Rules]}))}},J=function(e){return function(t,r,i){return W(e)(t,r,n(n({},i),{},{scope:[ft.Settings]}))}},$=function(e){return function(t,r,i){return W(e)(t,r,n(n({},i),{},{scope:[ft.Synonyms]}))}},Y=function(e){return function(t,n){return t.method===T?e.transporter.read(t,n):e.transporter.write(t,n)}},X=function(e){return function(t,n){return h(e.transporter.write({method:I,path:p("1/keys/%s",t)},n),(function(n,r){return u((function(n){return ee(e)(t,r).then(n).catch((function(e){if(404!==e.status)throw e}))}))}))}},Z=function(e){return function(t,n,r){var i=n.map((function(e){return{action:"deleteEntry",body:{objectID:e}}}));return h(e.transporter.write({method:S,path:p("/1/dictionaries/%s/batch",t),data:{clearExistingDictionaryEntries:!1,requests:i}},r),(function(t,n){return Se(e)(t.taskID,n)}))}},ee=function(e){return function(t,n){return e.transporter.read({method:T,path:p("1/keys/%s",t)},n)}},te=function(e){return function(t,n){return e.transporter.read({method:T,path:p("1/task/%s",t.toString())},n)}},ne=function(e){return function(t){return e.transporter.read({method:T,path:"/1/dictionaries/*/settings"},t)}},re=function(e){return function(t){return e.transporter.read({method:T,path:"1/logs"},t)}},ie=function(e){return function(t){return e.transporter.read({method:T,path:"1/clusters/mapping/top"},t)}},oe=function(e){return function(t,n){return e.transporter.read({method:T,path:p("1/clusters/mapping/%s",t)},n)}},se=function(e){return function(t){var n=t||{},i=n.retrieveMappings,o=r(n,["retrieveMappings"]);return!0===i&&(o.getClusters=!0),e.transporter.read({method:T,path:"1/clusters/mapping/pending"},o)}},ae=function(e){return function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return f({transporter:e.transporter,appId:e.appId,indexName:t},n.methods)}},ce=function(e){return function(t){return e.transporter.read({method:T,path:"1/keys"},t)}},le=function(e){return function(t){return e.transporter.read({method:T,path:"1/clusters"},t)}},ue=function(e){return function(t){return e.transporter.read({method:T,path:"1/indexes"},t)}},he=function(e){return function(t){return e.transporter.read({method:T,path:"1/clusters/mapping"},t)}},de=function(e){return function(t,n,r){return h(e.transporter.write({method:S,path:p("1/indexes/%s/operation",t),data:{operation:"move",destination:n}},r),(function(n,r){return ae(e)(t,{methods:{waitTask:ht}}).waitTask(n.taskID,r)}))}},fe=function(e){return function(t,n){return h(e.transporter.write({method:S,path:"1/indexes/*/batch",data:{requests:t}},n),(function(t,n){return Promise.all(Object.keys(t.taskID).map((function(r){return ae(e)(r,{methods:{waitTask:ht}}).waitTask(t.taskID[r],n)})))}))}},pe=function(e){return function(t,n){return e.transporter.read({method:S,path:"1/indexes/*/objects",data:{requests:t}},n)}},me=function(e){return function(t,r){var i=t.map((function(e){return n(n({},e),{},{params:R(e.params||{})})}));return e.transporter.read({method:S,path:"1/indexes/*/queries",data:{requests:i},cacheable:!0},r)}},ge=function(e){return function(t,i){return Promise.all(t.map((function(t){var o=t.params,s=o.facetName,a=o.facetQuery,c=r(o,["facetName","facetQuery"]);return ae(e)(t.indexName,{methods:{searchForFacetValues:at}}).searchForFacetValues(s,a,n(n({},i),c))})))}},ve=function(e){return function(t,n){var r=g(n);return r.queryParameters["X-Algolia-User-ID"]=t,e.transporter.write({method:I,path:"1/clusters/mapping"},r)}},ye=function(e){return function(t,n,r){var i=n.map((function(e){return{action:"addEntry",body:e}}));return h(e.transporter.write({method:S,path:p("/1/dictionaries/%s/batch",t),data:{clearExistingDictionaryEntries:!0,requests:i}},r),(function(t,n){return Se(e)(t.taskID,n)}))}},we=function(e){return function(t,n){return h(e.transporter.write({method:S,path:p("1/keys/%s/restore",t)},n),(function(n,r){return u((function(n){return ee(e)(t,r).catch((function(e){if(404!==e.status)throw e;return n()}))}))}))}},be=function(e){return function(t,n,r){var i=n.map((function(e){return{action:"addEntry",body:e}}));return h(e.transporter.write({method:S,path:p("/1/dictionaries/%s/batch",t),data:{clearExistingDictionaryEntries:!1,requests:i}},r),(function(t,n){return Se(e)(t.taskID,n)}))}},_e=function(e){return function(t,n,r){return e.transporter.read({method:S,path:p("/1/dictionaries/%s/search",t),data:{query:n},cacheable:!0},r)}},Ee=function(e){return function(t,n){return e.transporter.read({method:S,path:"1/clusters/mapping/search",data:{query:t}},n)}},Ie=function(e){return function(t,n){return h(e.transporter.write({method:k,path:"/1/dictionaries/*/settings",data:t},n),(function(t,n){return Se(e)(t.taskID,n)}))}},Te=function(e){return function(t,n){var i=Object.assign({},n),o=n||{},s=o.queryParameters,a=r(o,["queryParameters"]),c=s?{queryParameters:s}:{},l=["acl","indexes","referers","restrictSources","queryParameters","description","maxQueriesPerIPPerHour","maxHitsPerQuery"];return h(e.transporter.write({method:k,path:p("1/keys/%s",t),data:c},a),(function(n,r){return u((function(n){return ee(e)(t,r).then((function(e){return function(e){return Object.keys(i).filter((function(e){return-1!==l.indexOf(e)})).every((function(t){if(Array.isArray(e[t])&&Array.isArray(i[t])){var n=e[t];return n.length===i[t].length&&n.every((function(e,n){return e===i[t][n]}))}return e[t]===i[t]}))}(e)?Promise.resolve():n()}))}))}))}},Se=function(e){return function(t,n){return u((function(r){return te(e)(t,n).then((function(e){return"published"!==e.status?r():void 0}))}))}},ke=function(e){return function(t,n){return h(e.transporter.write({method:S,path:p("1/indexes/%s/batch",e.indexName),data:{requests:t}},n),(function(t,n){return ht(e)(t.taskID,n)}))}},Ce=function(e){return function(t){return B(n(n({shouldStop:function(e){return void 0===e.cursor}},t),{},{request:function(n){return e.transporter.read({method:S,path:p("1/indexes/%s/browse",e.indexName),data:n},t)}}))}},xe=function(e){return function(t){var r=n({hitsPerPage:1e3},t);return B(n(n({shouldStop:function(e){return e.hits.length<r.hitsPerPage}},r),{},{request:function(t){return ct(e)("",n(n({},r),t)).then((function(e){return n(n({},e),{},{hits:e.hits.map((function(e){return delete e._highlightResult,e}))})}))}}))}},Ne=function(e){return function(t){var r=n({hitsPerPage:1e3},t);return B(n(n({shouldStop:function(e){return e.hits.length<r.hitsPerPage}},r),{},{request:function(t){return lt(e)("",n(n({},r),t)).then((function(e){return n(n({},e),{},{hits:e.hits.map((function(e){return delete e._highlightResult,e}))})}))}}))}},Ae=function(e){return function(t,n,i){var o=i||{},s=o.batchSize,a=r(o,["batchSize"]),c={taskIDs:[],objectIDs:[]};return h(function r(){var i,o=[];for(i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;i<t.length&&(o.push(t[i]),o.length!==(s||1e3));i++);return 0===o.length?Promise.resolve(c):ke(e)(o.map((function(e){return{action:n,body:e}})),a).then((function(e){return c.objectIDs=c.objectIDs.concat(e.objectIDs),c.taskIDs.push(e.taskID),i++,r(i)}))}(),(function(t,n){return Promise.all(t.taskIDs.map((function(t){return ht(e)(t,n)})))}))}},Pe=function(e){return function(t){return h(e.transporter.write({method:S,path:p("1/indexes/%s/clear",e.indexName)},t),(function(t,n){return ht(e)(t.taskID,n)}))}},Re=function(e){return function(t){var n=t||{},i=n.forwardToReplicas,o=g(r(n,["forwardToReplicas"]));return i&&(o.queryParameters.forwardToReplicas=1),h(e.transporter.write({method:S,path:p("1/indexes/%s/rules/clear",e.indexName)},o),(function(t,n){return ht(e)(t.taskID,n)}))}},Oe=function(e){return function(t){var n=t||{},i=n.forwardToReplicas,o=g(r(n,["forwardToReplicas"]));return i&&(o.queryParameters.forwardToReplicas=1),h(e.transporter.write({method:S,path:p("1/indexes/%s/synonyms/clear",e.indexName)},o),(function(t,n){return ht(e)(t.taskID,n)}))}},De=function(e){return function(t,n){return h(e.transporter.write({method:S,path:p("1/indexes/%s/deleteByQuery",e.indexName),data:t},n),(function(t,n){return ht(e)(t.taskID,n)}))}},Le=function(e){return function(t){return h(e.transporter.write({method:I,path:p("1/indexes/%s",e.indexName)},t),(function(t,n){return ht(e)(t.taskID,n)}))}},Me=function(e){return function(t,n){return h(Fe(e)([t],n).then((function(e){return{taskID:e.taskIDs[0]}})),(function(t,n){return ht(e)(t.taskID,n)}))}},Fe=function(e){return function(t,n){var r=t.map((function(e){return{objectID:e}}));return Ae(e)(r,dt.DeleteObject,n)}},Ue=function(e){return function(t,n){var i=n||{},o=i.forwardToReplicas,s=g(r(i,["forwardToReplicas"]));return o&&(s.queryParameters.forwardToReplicas=1),h(e.transporter.write({method:I,path:p("1/indexes/%s/rules/%s",e.indexName,t)},s),(function(t,n){return ht(e)(t.taskID,n)}))}},je=function(e){return function(t,n){var i=n||{},o=i.forwardToReplicas,s=g(r(i,["forwardToReplicas"]));return o&&(s.queryParameters.forwardToReplicas=1),h(e.transporter.write({method:I,path:p("1/indexes/%s/synonyms/%s",e.indexName,t)},s),(function(t,n){return ht(e)(t.taskID,n)}))}},Ve=function(e){return function(t){return We(e)(t).then((function(){return!0})).catch((function(e){if(404!==e.status)throw e;return!1}))}},ze=function(e){return function(t,n,r){return e.transporter.read({method:S,path:p("1/answers/%s/prediction",e.indexName),data:{query:t,queryLanguages:n},cacheable:!0},r)}},Be=function(e){return function(t,o){var s=o||{},a=s.query,c=s.paginate,l=r(s,["query","paginate"]),u=0;return function r(){return st(e)(a||"",n(n({},l),{},{page:u})).then((function(e){for(var n=0,o=Object.entries(e.hits);n<o.length;n++){var s=i(o[n],2),a=s[0],l=s[1];if(t(l))return{object:l,position:parseInt(a,10),page:u}}if(u++,!1===c||u>=e.nbPages)throw{name:"ObjectNotFoundError",message:"Object not found."};return r()}))}()}},qe=function(e){return function(t,n){return e.transporter.read({method:T,path:p("1/indexes/%s/%s",e.indexName,t)},n)}},Ke=function(){return function(e,t){for(var n=0,r=Object.entries(e.hits);n<r.length;n++){var o=i(r[n],2),s=o[0];if(o[1].objectID===t)return parseInt(s,10)}return-1}},He=function(e){return function(t,i){var o=i||{},s=o.attributesToRetrieve,a=r(o,["attributesToRetrieve"]),c=t.map((function(t){return n({indexName:e.indexName,objectID:t},s?{attributesToRetrieve:s}:{})}));return e.transporter.read({method:S,path:"1/indexes/*/objects",data:{requests:c}},a)}},Ge=function(e){return function(t,n){return e.transporter.read({method:T,path:p("1/indexes/%s/rules/%s",e.indexName,t)},n)}},We=function(e){return function(t){return e.transporter.read({method:T,path:p("1/indexes/%s/settings",e.indexName),data:{getVersion:2}},t)}},Qe=function(e){return function(t,n){return e.transporter.read({method:T,path:p("1/indexes/%s/synonyms/%s",e.indexName,t)},n)}},Je=function(e){return function(t,n){return h($e(e)([t],n).then((function(e){return{objectID:e.objectIDs[0],taskID:e.taskIDs[0]}})),(function(t,n){return ht(e)(t.taskID,n)}))}},$e=function(e){return function(t,n){var i=n||{},o=i.createIfNotExists,s=r(i,["createIfNotExists"]),a=o?dt.PartialUpdateObject:dt.PartialUpdateObjectNoCreate;return Ae(e)(t,a,s)}},Ye=function(e){return function(t,s){var a=s||{},c=a.safe,l=a.autoGenerateObjectIDIfNotExist,u=a.batchSize,d=r(a,["safe","autoGenerateObjectIDIfNotExist","batchSize"]),f=function(t,n,r,i){return h(e.transporter.write({method:S,path:p("1/indexes/%s/operation",t),data:{operation:r,destination:n}},i),(function(t,n){return ht(e)(t.taskID,n)}))},m=Math.random().toString(36).substring(7),g="".concat(e.indexName,"_tmp_").concat(m),v=tt({appId:e.appId,transporter:e.transporter,indexName:g}),y=[],w=f(e.indexName,g,"copy",n(n({},d),{},{scope:["settings","synonyms","rules"]}));return y.push(w),h((c?w.wait(d):w).then((function(){var e=v(t,n(n({},d),{},{autoGenerateObjectIDIfNotExist:l,batchSize:u}));return y.push(e),c?e.wait(d):e})).then((function(){var t=f(g,e.indexName,"move",d);return y.push(t),c?t.wait(d):t})).then((function(){return Promise.all(y)})).then((function(e){var t=i(e,3),n=t[0],r=t[1],s=t[2];return{objectIDs:r.objectIDs,taskIDs:[n.taskID].concat(o(r.taskIDs),[s.taskID])}})),(function(e,t){return Promise.all(y.map((function(e){return e.wait(t)})))}))}},Xe=function(e){return function(t,r){return rt(e)(t,n(n({},r),{},{clearExistingRules:!0}))}},Ze=function(e){return function(t,r){return ot(e)(t,n(n({},r),{},{clearExistingSynonyms:!0}))}},et=function(e){return function(t,n){return h(tt(e)([t],n).then((function(e){return{objectID:e.objectIDs[0],taskID:e.taskIDs[0]}})),(function(t,n){return ht(e)(t.taskID,n)}))}},tt=function(e){return function(t,n){var i=n||{},o=i.autoGenerateObjectIDIfNotExist,s=r(i,["autoGenerateObjectIDIfNotExist"]),a=o?dt.AddObject:dt.UpdateObject;if(a===dt.UpdateObject){var c=!0,l=!1,u=void 0;try{for(var d,f=t[Symbol.iterator]();!(c=(d=f.next()).done);c=!0)if(void 0===d.value.objectID)return h(Promise.reject({name:"MissingObjectIDError",message:"All objects must have an unique objectID (like a primary key) to be valid. Algolia is also able to generate objectIDs automatically but *it's not recommended*. To do it, use the `{'autoGenerateObjectIDIfNotExist': true}` option."}))}catch(e){l=!0,u=e}finally{try{c||null==f.return||f.return()}finally{if(l)throw u}}}return Ae(e)(t,a,s)}},nt=function(e){return function(t,n){return rt(e)([t],n)}},rt=function(e){return function(t,n){var i=n||{},o=i.forwardToReplicas,s=i.clearExistingRules,a=g(r(i,["forwardToReplicas","clearExistingRules"]));return o&&(a.queryParameters.forwardToReplicas=1),s&&(a.queryParameters.clearExistingRules=1),h(e.transporter.write({method:S,path:p("1/indexes/%s/rules/batch",e.indexName),data:t},a),(function(t,n){return ht(e)(t.taskID,n)}))}},it=function(e){return function(t,n){return ot(e)([t],n)}},ot=function(e){return function(t,n){var i=n||{},o=i.forwardToReplicas,s=i.clearExistingSynonyms,a=i.replaceExistingSynonyms,c=g(r(i,["forwardToReplicas","clearExistingSynonyms","replaceExistingSynonyms"]));return o&&(c.queryParameters.forwardToReplicas=1),(a||s)&&(c.queryParameters.replaceExistingSynonyms=1),h(e.transporter.write({method:S,path:p("1/indexes/%s/synonyms/batch",e.indexName),data:t},c),(function(t,n){return ht(e)(t.taskID,n)}))}},st=function(e){return function(t,n){return e.transporter.read({method:S,path:p("1/indexes/%s/query",e.indexName),data:{query:t},cacheable:!0},n)}},at=function(e){return function(t,n,r){return e.transporter.read({method:S,path:p("1/indexes/%s/facets/%s/query",e.indexName,t),data:{facetQuery:n},cacheable:!0},r)}},ct=function(e){return function(t,n){return e.transporter.read({method:S,path:p("1/indexes/%s/rules/search",e.indexName),data:{query:t}},n)}},lt=function(e){return function(t,n){return e.transporter.read({method:S,path:p("1/indexes/%s/synonyms/search",e.indexName),data:{query:t}},n)}},ut=function(e){return function(t,n){var i=n||{},o=i.forwardToReplicas,s=g(r(i,["forwardToReplicas"]));return o&&(s.queryParameters.forwardToReplicas=1),h(e.transporter.write({method:k,path:p("1/indexes/%s/settings",e.indexName),data:t},s),(function(t,n){return ht(e)(t.taskID,n)}))}},ht=function(e){return function(t,n){return u((function(r){return function(e){return function(t,n){return e.transporter.read({method:T,path:p("1/indexes/%s/task/%s",e.indexName,t.toString())},n)}}(e)(t,n).then((function(e){return"published"!==e.status?r():void 0}))}))}},dt={AddObject:"addObject",UpdateObject:"updateObject",PartialUpdateObject:"partialUpdateObject",PartialUpdateObjectNoCreate:"partialUpdateObjectNoCreate",DeleteObject:"deleteObject",DeleteIndex:"delete",ClearIndex:"clear"},ft={Settings:"settings",Synonyms:"synonyms",Rules:"rules"},pt=1,mt=2,gt=3,vt=function(e){return function(t,r){var i=t.map((function(e){return n(n({},e),{},{threshold:e.threshold||0})}));return e.transporter.read({method:S,path:"1/indexes/*/recommendations",data:{requests:i},cacheable:!0},r)}},yt=function(e){return function(t,r){return vt(e)(t.map((function(e){return n(n({},e),{},{fallbackParameters:{},model:"bought-together"})})),r)}},wt=function(e){return function(t,r){return vt(e)(t.map((function(e){return n(n({},e),{},{model:"related-products"})})),r)}},bt=function(e){return function(t,r){var i=t.map((function(e){return n(n({},e),{},{model:"trending-facets",threshold:e.threshold||0})}));return e.transporter.read({method:S,path:"1/indexes/*/recommendations",data:{requests:i},cacheable:!0},r)}},_t=function(e){return function(t,r){var i=t.map((function(e){return n(n({},e),{},{model:"trending-items",threshold:e.threshold||0})}));return e.transporter.read({method:S,path:"1/indexes/*/recommendations",data:{requests:i},cacheable:!0},r)}},Et=function(e){return function(t,r){return vt(e)(t.map((function(e){return n(n({},e),{},{model:"looking-similar"})})),r)}},It=function(e){return function(t,r){var i=t.map((function(e){return n(n({},e),{},{model:"recommended-for-you",threshold:e.threshold||0})}));return e.transporter.read({method:S,path:"1/indexes/*/recommendations",data:{requests:i},cacheable:!0},r)}};function Tt(e,t,r){var i,o={appId:e,apiKey:t,timeouts:{connect:1,read:2,write:30},requester:{send:function(e){return new Promise((function(t){var n=new XMLHttpRequest;n.open(e.method,e.url,!0),Object.keys(e.headers).forEach((function(t){return n.setRequestHeader(t,e.headers[t])}));var r,i=function(e,r){return setTimeout((function(){n.abort(),t({status:0,content:r,isTimedOut:!0})}),1e3*e)},o=i(e.connectTimeout,"Connection timeout");n.onreadystatechange=function(){n.readyState>n.OPENED&&void 0===r&&(clearTimeout(o),r=i(e.responseTimeout,"Socket timeout"))},n.onerror=function(){0===n.status&&(clearTimeout(o),clearTimeout(r),t({content:n.responseText||"Network request failed",status:n.status,isTimedOut:!1}))},n.onload=function(){clearTimeout(o),clearTimeout(r),t({content:n.responseText,status:n.status,isTimedOut:!1})},n.send(e.data)}))}},logger:(i=gt,{debug:function(e,t){return pt>=i&&console.debug(e,t),Promise.resolve()},info:function(e,t){return mt>=i&&console.info(e,t),Promise.resolve()},error:function(e,t){return console.error(e,t),Promise.resolve()}}),responsesCache:c(),requestsCache:c({serializable:!1}),hostsCache:a({caches:[s({key:"".concat("4.23.3","-").concat(e)}),c()]}),userAgent:A("4.23.3").add({segment:"Browser"})},u=n(n({},o),r),h=function(){return function(e){return function(e){var t=e.region||"us",r=l(m.WithinHeaders,e.appId,e.apiKey),i=N(n(n({hosts:[{url:"personalization.".concat(t,".algolia.com")}]},e),{},{headers:n(n(n({},r.headers()),{"content-type":"application/json"}),e.headers),queryParameters:n(n({},r.queryParameters()),e.queryParameters)}));return f({appId:e.appId,transporter:i},e.methods)}(n(n(n({},o),e),{},{methods:{getPersonalizationStrategy:V,setPersonalizationStrategy:z}}))}};return function(e){var t=e.appId,r=l(void 0!==e.authMode?e.authMode:m.WithinHeaders,t,e.apiKey),i=N(n(n({hosts:[{url:"".concat(t,"-dsn.algolia.net"),accept:v.Read},{url:"".concat(t,".algolia.net"),accept:v.Write}].concat(d([{url:"".concat(t,"-1.algolianet.com")},{url:"".concat(t,"-2.algolianet.com")},{url:"".concat(t,"-3.algolianet.com")}]))},e),{},{headers:n(n(n({},r.headers()),{"content-type":"application/x-www-form-urlencoded"}),e.headers),queryParameters:n(n({},r.queryParameters()),e.queryParameters)}));return f({transporter:i,appId:t,addAlgoliaAgent:function(e,t){i.userAgent.add({segment:e,version:t})},clearCache:function(){return Promise.all([i.requestsCache.clear(),i.responsesCache.clear()]).then((function(){}))}},e.methods)}(n(n({},u),{},{methods:{search:me,searchForFacetValues:ge,multipleBatch:fe,multipleGetObjects:pe,multipleQueries:me,copyIndex:W,copySettings:J,copySynonyms:$,copyRules:Q,moveIndex:de,listIndices:ue,getLogs:re,listClusters:le,multipleSearchForFacetValues:ge,getApiKey:ee,addApiKey:q,listApiKeys:ce,updateApiKey:Te,deleteApiKey:X,restoreApiKey:we,assignUserID:K,assignUserIDs:H,getUserID:oe,searchUserIDs:Ee,listUserIDs:he,getTopUserIDs:ie,removeUserID:ve,hasPendingMappings:se,clearDictionaryEntries:G,deleteDictionaryEntries:Z,getDictionarySettings:ne,getAppTask:te,replaceDictionaryEntries:ye,saveDictionaryEntries:be,searchDictionaryEntries:_e,setDictionarySettings:Ie,waitAppTask:Se,customRequest:Y,initIndex:function(e){return function(t){return ae(e)(t,{methods:{batch:ke,delete:Le,findAnswers:ze,getObject:qe,getObjects:He,saveObject:et,saveObjects:tt,search:st,searchForFacetValues:at,waitTask:ht,setSettings:ut,getSettings:We,partialUpdateObject:Je,partialUpdateObjects:$e,deleteObject:Me,deleteObjects:Fe,deleteBy:De,clearObjects:Pe,browseObjects:Ce,getObjectPosition:Ke,findObject:Be,exists:Ve,saveSynonym:it,saveSynonyms:ot,getSynonym:Qe,searchSynonyms:lt,browseSynonyms:Ne,deleteSynonym:je,clearSynonyms:Oe,replaceAllObjects:Ye,replaceAllSynonyms:Ze,searchRules:ct,getRule:Ge,deleteRule:Ue,saveRule:nt,saveRules:rt,replaceAllRules:Xe,browseRules:xe,clearRules:Re}})}},initAnalytics:function(){return function(e){return function(e){var t=e.region||"us",r=l(m.WithinHeaders,e.appId,e.apiKey),i=N(n(n({hosts:[{url:"analytics.".concat(t,".algolia.com")}]},e),{},{headers:n(n(n({},r.headers()),{"content-type":"application/json"}),e.headers),queryParameters:n(n({},r.queryParameters()),e.queryParameters)}));return f({appId:e.appId,transporter:i},e.methods)}(n(n(n({},o),e),{},{methods:{addABTest:L,getABTest:F,getABTests:U,stopABTest:j,deleteABTest:M}}))}},initPersonalization:h,initRecommendation:function(){return function(e){return u.logger.info("The `initRecommendation` method is deprecated. Use `initPersonalization` instead."),h()(e)}},getRecommendations:vt,getFrequentlyBoughtTogether:yt,getLookingSimilar:Et,getRecommendedForYou:It,getRelatedProducts:wt,getTrendingFacets:bt,getTrendingItems:_t}}))}return Tt.version="4.23.3",Tt}()},396:(e,t,n)=>{var r;!function(){"use strict";var i=!("undefined"===typeof window||!window.document||!window.document.createElement),o={canUseDOM:i,canUseWorkers:"undefined"!==typeof Worker,canUseEventListeners:i&&!(!window.addEventListener&&!window.attachEvent),canUseViewport:i&&!!window.screen};void 0===(r=function(){return o}.call(t,n,t,e))||(e.exports=r)}()},90:e=>{"use strict";for(var t=function(e){return null!==e&&!Array.isArray(e)&&"object"===typeof e},n={3:"Cancel",6:"Help",8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",28:"Convert",29:"NonConvert",30:"Accept",31:"ModeChange",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",41:"Select",42:"Print",43:"Execute",44:"PrintScreen",45:"Insert",46:"Delete",48:["0",")"],49:["1","!"],50:["2","@"],51:["3","#"],52:["4","$"],53:["5","%"],54:["6","^"],55:["7","&"],56:["8","*"],57:["9","("],91:"OS",93:"ContextMenu",144:"NumLock",145:"ScrollLock",181:"VolumeMute",182:"VolumeDown",183:"VolumeUp",186:[";",":"],187:["=","+"],188:[",","<"],189:["-","_"],190:[".",">"],191:["/","?"],192:["`","~"],219:["[","{"],220:["\\","|"],221:["]","}"],222:["'",'"'],224:"Meta",225:"AltGraph",246:"Attn",247:"CrSel",248:"ExSel",249:"EraseEof",250:"Play",251:"ZoomOut"},r=0;r<24;r+=1)n[112+r]="F"+(r+1);for(var i=0;i<26;i+=1){var o=i+65;n[o]=[String.fromCharCode(o+32),String.fromCharCode(o)]}var s={codes:n,getCode:function(e){return t(e)?e.keyCode||e.which||this[e.key]:this[e]},getKey:function(e){var r=t(e);if(r&&e.key)return e.key;var i=n[r?e.keyCode||e.which:e];return Array.isArray(i)&&(i=r?i[e.shiftKey?1:0]:i[0]),i},Cancel:3,Help:6,Backspace:8,Tab:9,Clear:12,Enter:13,Shift:16,Control:17,Alt:18,Pause:19,CapsLock:20,Escape:27,Convert:28,NonConvert:29,Accept:30,ModeChange:31," ":32,PageUp:33,PageDown:34,End:35,Home:36,ArrowLeft:37,ArrowUp:38,ArrowRight:39,ArrowDown:40,Select:41,Print:42,Execute:43,PrintScreen:44,Insert:45,Delete:46,0:48,")":48,1:49,"!":49,2:50,"@":50,3:51,"#":51,4:52,$:52,5:53,"%":53,6:54,"^":54,7:55,"&":55,8:56,"*":56,9:57,"(":57,a:65,A:65,b:66,B:66,c:67,C:67,d:68,D:68,e:69,E:69,f:70,F:70,g:71,G:71,h:72,H:72,i:73,I:73,j:74,J:74,k:75,K:75,l:76,L:76,m:77,M:77,n:78,N:78,o:79,O:79,p:80,P:80,q:81,Q:81,r:82,R:82,s:83,S:83,t:84,T:84,u:85,U:85,v:86,V:86,w:87,W:87,x:88,X:88,y:89,Y:89,z:90,Z:90,OS:91,ContextMenu:93,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,F13:124,F14:125,F15:126,F16:127,F17:128,F18:129,F19:130,F20:131,F21:132,F22:133,F23:134,F24:135,NumLock:144,ScrollLock:145,VolumeMute:181,VolumeDown:182,VolumeUp:183,";":186,":":186,"=":187,"+":187,",":188,"<":188,"-":189,_:189,".":190,">":190,"/":191,"?":191,"`":192,"~":192,"[":219,"{":219,"\\":220,"|":220,"]":221,"}":221,"'":222,'"':222,Meta:224,AltGraph:225,Attn:246,CrSel:247,ExSel:248,EraseEof:249,Play:250,ZoomOut:251};s.Spacebar=s[" "],s.Digit0=s[0],s.Digit1=s[1],s.Digit2=s[2],s.Digit3=s[3],s.Digit4=s[4],s.Digit5=s[5],s.Digit6=s[6],s.Digit7=s[7],s.Digit8=s[8],s.Digit9=s[9],s.Tilde=s["~"],s.GraveAccent=s["`"],s.ExclamationPoint=s["!"],s.AtSign=s["@"],s.PoundSign=s["#"],s.PercentSign=s["%"],s.Caret=s["^"],s.Ampersand=s["&"],s.PlusSign=s["+"],s.MinusSign=s["-"],s.EqualsSign=s["="],s.DivisionSign=s["/"],s.MultiplicationSign=s["*"],s.Comma=s[","],s.Decimal=s["."],s.Colon=s[":"],s.Semicolon=s[";"],s.Pipe=s["|"],s.BackSlash=s["\\"],s.QuestionMark=s["?"],s.SingleQuote=s["'"],s.DoubleQuote=s['"'],s.LeftCurlyBrace=s["{"],s.RightCurlyBrace=s["}"],s.LeftParenthesis=s["("],s.RightParenthesis=s[")"],s.LeftAngleBracket=s["<"],s.RightAngleBracket=s[">"],s.LeftSquareBracket=s["["],s.RightSquareBracket=s["]"],e.exports=s},497:(e,t,n)=>{"use strict";var r=n(218);function i(){}function o(){}o.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,o,s){if(s!==r){var a=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw a.name="Invariant Violation",a}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:i};return n.PropTypes=n,n}},554:(e,t,n)=>{e.exports=n(497)()},218:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},730:(e,t,n)=>{"use strict";var r=n(43),i=n(853);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,a={};function c(e,t){l(e,t),l(e+"Capture",t)}function l(e,t){for(a[e]=t,e=0;e<t.length;e++)s.add(t[e])}var u=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),h=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},p={};function m(e,t,n,r,i,o,s){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=s}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){g[e]=new m(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];g[t]=new m(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){g[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){g[e]=new m(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){g[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){g[e]=new m(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){g[e]=new m(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){g[e]=new m(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){g[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)}));var v=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function w(e,t,n,r){var i=g.hasOwnProperty(t)?g[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!h.call(p,e)||!h.call(f,e)&&(d.test(e)?p[e]=!0:(f[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)})),g.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)}));var b=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,_=Symbol.for("react.element"),E=Symbol.for("react.portal"),I=Symbol.for("react.fragment"),T=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),k=Symbol.for("react.provider"),C=Symbol.for("react.context"),x=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),A=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),R=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var O=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var D=Symbol.iterator;function L(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=D&&e[D]||e["@@iterator"])?e:null}var M,F=Object.assign;function U(e){if(void 0===M)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);M=t&&t[1]||""}return"\n"+M+e}var j=!1;function V(e,t){if(!e||j)return"";j=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(l){var r=l}Reflect.construct(e,[],t)}else{try{t.call()}catch(l){r=l}e.call(t.prototype)}else{try{throw Error()}catch(l){r=l}e()}}catch(l){if(l&&r&&"string"===typeof l.stack){for(var i=l.stack.split("\n"),o=r.stack.split("\n"),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(1!==s||1!==a)do{if(s--,0>--a||i[s]!==o[a]){var c="\n"+i[s].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}}while(1<=s&&0<=a);break}}}finally{j=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?U(e):""}function z(e){switch(e.tag){case 5:return U(e.type);case 16:return U("Lazy");case 13:return U("Suspense");case 19:return U("SuspenseList");case 0:case 2:case 15:return e=V(e.type,!1);case 11:return e=V(e.type.render,!1);case 1:return e=V(e.type,!0);default:return""}}function B(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case I:return"Fragment";case E:return"Portal";case S:return"Profiler";case T:return"StrictMode";case N:return"Suspense";case A:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case C:return(e.displayName||"Context")+".Consumer";case k:return(e._context.displayName||"Context")+".Provider";case x:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case P:return null!==(t=e.displayName||null)?t:B(e.type)||"Memo";case R:t=e._payload,e=e._init;try{return B(e(t))}catch(n){}}return null}function q(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return B(t);case 8:return t===T?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function K(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function H(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function G(e){e._valueTracker||(e._valueTracker=function(e){var t=H(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function W(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=H(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Q(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function J(e,t){var n=t.checked;return F({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function $(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=K(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Y(e,t){null!=(t=t.checked)&&w(e,"checked",t,!1)}function X(e,t){Y(e,t);var n=K(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,K(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Q(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+K(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return F({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(te(n)){if(1<n.length)throw Error(o(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:K(n)}}function oe(e,t){var n=K(t.value),r=K(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function se(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ae(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ce(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ae(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var le,ue,he=(ue=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((le=le||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=le.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ue(e,t)}))}:ue);function de(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var fe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function me(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||fe.hasOwnProperty(e)&&fe[e]?(""+t).trim():t+"px"}function ge(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=me(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(fe).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),fe[t]=fe[e]}))}));var ve=F({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(ve[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(o(62))}}function we(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var be=null;function _e(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Ee=null,Ie=null,Te=null;function Se(e){if(e=wi(e)){if("function"!==typeof Ee)throw Error(o(280));var t=e.stateNode;t&&(t=_i(t),Ee(e.stateNode,e.type,t))}}function ke(e){Ie?Te?Te.push(e):Te=[e]:Ie=e}function Ce(){if(Ie){var e=Ie,t=Te;if(Te=Ie=null,Se(e),t)for(e=0;e<t.length;e++)Se(t[e])}}function xe(e,t){return e(t)}function Ne(){}var Ae=!1;function Pe(e,t,n){if(Ae)return e(t,n);Ae=!0;try{return xe(e,t,n)}finally{Ae=!1,(null!==Ie||null!==Te)&&(Ne(),Ce())}}function Re(e,t){var n=e.stateNode;if(null===n)return null;var r=_i(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}var Oe=!1;if(u)try{var De={};Object.defineProperty(De,"passive",{get:function(){Oe=!0}}),window.addEventListener("test",De,De),window.removeEventListener("test",De,De)}catch(ue){Oe=!1}function Le(e,t,n,r,i,o,s,a,c){var l=Array.prototype.slice.call(arguments,3);try{t.apply(n,l)}catch(u){this.onError(u)}}var Me=!1,Fe=null,Ue=!1,je=null,Ve={onError:function(e){Me=!0,Fe=e}};function ze(e,t,n,r,i,o,s,a,c){Me=!1,Fe=null,Le.apply(Ve,arguments)}function Be(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function qe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Ke(e){if(Be(e)!==e)throw Error(o(188))}function He(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Be(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var s=i.alternate;if(null===s){if(null!==(r=i.return)){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return Ke(i),e;if(s===r)return Ke(i),t;s=s.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=s;else{for(var a=!1,c=i.child;c;){if(c===n){a=!0,n=i,r=s;break}if(c===r){a=!0,r=i,n=s;break}c=c.sibling}if(!a){for(c=s.child;c;){if(c===n){a=!0,n=s,r=i;break}if(c===r){a=!0,r=s,n=i;break}c=c.sibling}if(!a)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(e))?Ge(e):null}function Ge(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ge(e);if(null!==t)return t;e=e.sibling}return null}var We=i.unstable_scheduleCallback,Qe=i.unstable_cancelCallback,Je=i.unstable_shouldYield,$e=i.unstable_requestPaint,Ye=i.unstable_now,Xe=i.unstable_getCurrentPriorityLevel,Ze=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,ot=null;var st=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(at(e)/ct|0)|0},at=Math.log,ct=Math.LN2;var lt=64,ut=4194304;function ht(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function dt(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,o=e.pingedLanes,s=268435455&n;if(0!==s){var a=s&~i;0!==a?r=ht(a):0!==(o&=s)&&(r=ht(o))}else 0!==(s=n&~i)?r=ht(s):0!==o&&(r=ht(o));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(o=t&-t)||16===i&&0!==(4194240&o)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-st(t)),r|=e[n],t&=~i;return r}function ft(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function mt(){var e=lt;return 0===(4194240&(lt<<=1))&&(lt=64),e}function gt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function vt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-st(t)]=n}function yt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-st(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var wt=0;function bt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var _t,Et,It,Tt,St,kt=!1,Ct=[],xt=null,Nt=null,At=null,Pt=new Map,Rt=new Map,Ot=[],Dt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Lt(e,t){switch(e){case"focusin":case"focusout":xt=null;break;case"dragenter":case"dragleave":Nt=null;break;case"mouseover":case"mouseout":At=null;break;case"pointerover":case"pointerout":Pt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Rt.delete(t.pointerId)}}function Mt(e,t,n,r,i,o){return null===e||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},null!==t&&(null!==(t=wi(t))&&Et(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Ft(e){var t=yi(e.target);if(null!==t){var n=Be(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=qe(n)))return e.blockedOn=t,void St(e.priority,(function(){It(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ut(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Jt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=wi(n))&&Et(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);be=r,n.target.dispatchEvent(r),be=null,t.shift()}return!0}function jt(e,t,n){Ut(e)&&n.delete(t)}function Vt(){kt=!1,null!==xt&&Ut(xt)&&(xt=null),null!==Nt&&Ut(Nt)&&(Nt=null),null!==At&&Ut(At)&&(At=null),Pt.forEach(jt),Rt.forEach(jt)}function zt(e,t){e.blockedOn===t&&(e.blockedOn=null,kt||(kt=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Vt)))}function Bt(e){function t(t){return zt(t,e)}if(0<Ct.length){zt(Ct[0],e);for(var n=1;n<Ct.length;n++){var r=Ct[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==xt&&zt(xt,e),null!==Nt&&zt(Nt,e),null!==At&&zt(At,e),Pt.forEach(t),Rt.forEach(t),n=0;n<Ot.length;n++)(r=Ot[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Ot.length&&null===(n=Ot[0]).blockedOn;)Ft(n),null===n.blockedOn&&Ot.shift()}var qt=b.ReactCurrentBatchConfig,Kt=!0;function Ht(e,t,n,r){var i=wt,o=qt.transition;qt.transition=null;try{wt=1,Wt(e,t,n,r)}finally{wt=i,qt.transition=o}}function Gt(e,t,n,r){var i=wt,o=qt.transition;qt.transition=null;try{wt=4,Wt(e,t,n,r)}finally{wt=i,qt.transition=o}}function Wt(e,t,n,r){if(Kt){var i=Jt(e,t,n,r);if(null===i)Kr(e,t,r,Qt,n),Lt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return xt=Mt(xt,e,t,n,r,i),!0;case"dragenter":return Nt=Mt(Nt,e,t,n,r,i),!0;case"mouseover":return At=Mt(At,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return Pt.set(o,Mt(Pt.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Rt.set(o,Mt(Rt.get(o)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Lt(e,r),4&t&&-1<Dt.indexOf(e)){for(;null!==i;){var o=wi(i);if(null!==o&&_t(o),null===(o=Jt(e,t,n,r))&&Kr(e,t,r,Qt,n),o===i)break;i=o}null!==i&&r.stopPropagation()}else Kr(e,t,r,null,n)}}var Qt=null;function Jt(e,t,n,r){if(Qt=null,null!==(e=yi(e=_e(r))))if(null===(t=Be(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=qe(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Qt=e,null}function $t(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Xe()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Yt=null,Xt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Xt,r=n.length,i="value"in Yt?Yt.value:Yt.textContent,o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var s=r-e;for(t=1;t<=s&&n[r-t]===i[o-t];t++);return Zt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function on(e){function t(t,n,r,i,o){for(var s in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(s)&&(t=e[s],this[s]=t?t(i):i[s]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return F(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var sn,an,cn,ln={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},un=on(ln),hn=F({},ln,{view:0,detail:0}),dn=on(hn),fn=F({},hn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Sn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==cn&&(cn&&"mousemove"===e.type?(sn=e.screenX-cn.screenX,an=e.screenY-cn.screenY):an=sn=0,cn=e),sn)},movementY:function(e){return"movementY"in e?e.movementY:an}}),pn=on(fn),mn=on(F({},fn,{dataTransfer:0})),gn=on(F({},hn,{relatedTarget:0})),vn=on(F({},ln,{animationName:0,elapsedTime:0,pseudoElement:0})),yn=F({},ln,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),wn=on(yn),bn=on(F({},ln,{data:0})),_n={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},En={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},In={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Tn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=In[e])&&!!t[e]}function Sn(){return Tn}var kn=F({},hn,{key:function(e){if(e.key){var t=_n[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?En[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Sn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Cn=on(kn),xn=on(F({},fn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Nn=on(F({},hn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Sn})),An=on(F({},ln,{propertyName:0,elapsedTime:0,pseudoElement:0})),Pn=F({},fn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Rn=on(Pn),On=[9,13,27,32],Dn=u&&"CompositionEvent"in window,Ln=null;u&&"documentMode"in document&&(Ln=document.documentMode);var Mn=u&&"TextEvent"in window&&!Ln,Fn=u&&(!Dn||Ln&&8<Ln&&11>=Ln),Un=String.fromCharCode(32),jn=!1;function Vn(e,t){switch(e){case"keyup":return-1!==On.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Bn=!1;var qn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Kn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!qn[e.type]:"textarea"===t}function Hn(e,t,n,r){ke(r),0<(t=Gr(t,"onChange")).length&&(n=new un("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Gn=null,Wn=null;function Qn(e){Ur(e,0)}function Jn(e){if(W(bi(e)))return e}function $n(e,t){if("change"===e)return t}var Yn=!1;if(u){var Xn;if(u){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}Xn=Zn}else Xn=!1;Yn=Xn&&(!document.documentMode||9<document.documentMode)}function tr(){Gn&&(Gn.detachEvent("onpropertychange",nr),Wn=Gn=null)}function nr(e){if("value"===e.propertyName&&Jn(Wn)){var t=[];Hn(t,Wn,e,_e(e)),Pe(Qn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Wn=n,(Gn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Jn(Wn)}function or(e,t){if("click"===e)return Jn(t)}function sr(e,t){if("input"===e||"change"===e)return Jn(t)}var ar="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function cr(e,t){if(ar(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!h.call(t,i)||!ar(e[i],t[i]))return!1}return!0}function lr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ur(e,t){var n,r=lr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=lr(r)}}function hr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?hr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function dr(){for(var e=window,t=Q();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Q((e=t.contentWindow).document)}return t}function fr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=dr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&hr(n.ownerDocument.documentElement,n)){if(null!==r&&fr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=void 0===r.end?o:Math.min(r.end,i),!e.extend&&o>r&&(i=r,r=o,o=i),i=ur(n,o);var s=ur(n,r);i&&s&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var mr=u&&"documentMode"in document&&11>=document.documentMode,gr=null,vr=null,yr=null,wr=!1;function br(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;wr||null==gr||gr!==Q(r)||("selectionStart"in(r=gr)&&fr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},yr&&cr(yr,r)||(yr=r,0<(r=Gr(vr,"onSelect")).length&&(t=new un("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=gr)))}function _r(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Er={animationend:_r("Animation","AnimationEnd"),animationiteration:_r("Animation","AnimationIteration"),animationstart:_r("Animation","AnimationStart"),transitionend:_r("Transition","TransitionEnd")},Ir={},Tr={};function Sr(e){if(Ir[e])return Ir[e];if(!Er[e])return e;var t,n=Er[e];for(t in n)if(n.hasOwnProperty(t)&&t in Tr)return Ir[e]=n[t];return e}u&&(Tr=document.createElement("div").style,"AnimationEvent"in window||(delete Er.animationend.animation,delete Er.animationiteration.animation,delete Er.animationstart.animation),"TransitionEvent"in window||delete Er.transitionend.transition);var kr=Sr("animationend"),Cr=Sr("animationiteration"),xr=Sr("animationstart"),Nr=Sr("transitionend"),Ar=new Map,Pr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Rr(e,t){Ar.set(e,t),c(t,[e])}for(var Or=0;Or<Pr.length;Or++){var Dr=Pr[Or];Rr(Dr.toLowerCase(),"on"+(Dr[0].toUpperCase()+Dr.slice(1)))}Rr(kr,"onAnimationEnd"),Rr(Cr,"onAnimationIteration"),Rr(xr,"onAnimationStart"),Rr("dblclick","onDoubleClick"),Rr("focusin","onFocus"),Rr("focusout","onBlur"),Rr(Nr,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Lr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Mr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Lr));function Fr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,s,a,c,l){if(ze.apply(this,arguments),Me){if(!Me)throw Error(o(198));var u=Fe;Me=!1,Fe=null,Ue||(Ue=!0,je=u)}}(r,t,void 0,e),e.currentTarget=null}function Ur(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var s=r.length-1;0<=s;s--){var a=r[s],c=a.instance,l=a.currentTarget;if(a=a.listener,c!==o&&i.isPropagationStopped())break e;Fr(i,a,l),o=c}else for(s=0;s<r.length;s++){if(c=(a=r[s]).instance,l=a.currentTarget,a=a.listener,c!==o&&i.isPropagationStopped())break e;Fr(i,a,l),o=c}}}if(Ue)throw e=je,Ue=!1,je=null,e}function jr(e,t){var n=t[mi];void 0===n&&(n=t[mi]=new Set);var r=e+"__bubble";n.has(r)||(qr(t,e,2,!1),n.add(r))}function Vr(e,t,n){var r=0;t&&(r|=4),qr(n,e,r,t)}var zr="_reactListening"+Math.random().toString(36).slice(2);function Br(e){if(!e[zr]){e[zr]=!0,s.forEach((function(t){"selectionchange"!==t&&(Mr.has(t)||Vr(t,!1,e),Vr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[zr]||(t[zr]=!0,Vr("selectionchange",!1,t))}}function qr(e,t,n,r){switch($t(t)){case 1:var i=Ht;break;case 4:i=Gt;break;default:i=Wt}n=i.bind(null,t,n,e),i=void 0,!Oe||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Kr(e,t,n,r,i){var o=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var s=r.tag;if(3===s||4===s){var a=r.stateNode.containerInfo;if(a===i||8===a.nodeType&&a.parentNode===i)break;if(4===s)for(s=r.return;null!==s;){var c=s.tag;if((3===c||4===c)&&((c=s.stateNode.containerInfo)===i||8===c.nodeType&&c.parentNode===i))return;s=s.return}for(;null!==a;){if(null===(s=yi(a)))return;if(5===(c=s.tag)||6===c){r=o=s;continue e}a=a.parentNode}}r=r.return}Pe((function(){var r=o,i=_e(n),s=[];e:{var a=Ar.get(e);if(void 0!==a){var c=un,l=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":c=Cn;break;case"focusin":l="focus",c=gn;break;case"focusout":l="blur",c=gn;break;case"beforeblur":case"afterblur":c=gn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":c=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":c=mn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":c=Nn;break;case kr:case Cr:case xr:c=vn;break;case Nr:c=An;break;case"scroll":c=dn;break;case"wheel":c=Rn;break;case"copy":case"cut":case"paste":c=wn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":c=xn}var u=0!==(4&t),h=!u&&"scroll"===e,d=u?null!==a?a+"Capture":null:a;u=[];for(var f,p=r;null!==p;){var m=(f=p).stateNode;if(5===f.tag&&null!==m&&(f=m,null!==d&&(null!=(m=Re(p,d))&&u.push(Hr(p,m,f)))),h)break;p=p.return}0<u.length&&(a=new c(a,l,null,n,i),s.push({event:a,listeners:u}))}}if(0===(7&t)){if(c="mouseout"===e||"pointerout"===e,(!(a="mouseover"===e||"pointerover"===e)||n===be||!(l=n.relatedTarget||n.fromElement)||!yi(l)&&!l[pi])&&(c||a)&&(a=i.window===i?i:(a=i.ownerDocument)?a.defaultView||a.parentWindow:window,c?(c=r,null!==(l=(l=n.relatedTarget||n.toElement)?yi(l):null)&&(l!==(h=Be(l))||5!==l.tag&&6!==l.tag)&&(l=null)):(c=null,l=r),c!==l)){if(u=pn,m="onMouseLeave",d="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(u=xn,m="onPointerLeave",d="onPointerEnter",p="pointer"),h=null==c?a:bi(c),f=null==l?a:bi(l),(a=new u(m,p+"leave",c,n,i)).target=h,a.relatedTarget=f,m=null,yi(i)===r&&((u=new u(d,p+"enter",l,n,i)).target=f,u.relatedTarget=h,m=u),h=m,c&&l)e:{for(d=l,p=0,f=u=c;f;f=Wr(f))p++;for(f=0,m=d;m;m=Wr(m))f++;for(;0<p-f;)u=Wr(u),p--;for(;0<f-p;)d=Wr(d),f--;for(;p--;){if(u===d||null!==d&&u===d.alternate)break e;u=Wr(u),d=Wr(d)}u=null}else u=null;null!==c&&Qr(s,a,c,u,!1),null!==l&&null!==h&&Qr(s,h,l,u,!0)}if("select"===(c=(a=r?bi(r):window).nodeName&&a.nodeName.toLowerCase())||"input"===c&&"file"===a.type)var g=$n;else if(Kn(a))if(Yn)g=sr;else{g=ir;var v=rr}else(c=a.nodeName)&&"input"===c.toLowerCase()&&("checkbox"===a.type||"radio"===a.type)&&(g=or);switch(g&&(g=g(e,r))?Hn(s,g,n,i):(v&&v(e,a,r),"focusout"===e&&(v=a._wrapperState)&&v.controlled&&"number"===a.type&&ee(a,"number",a.value)),v=r?bi(r):window,e){case"focusin":(Kn(v)||"true"===v.contentEditable)&&(gr=v,vr=r,yr=null);break;case"focusout":yr=vr=gr=null;break;case"mousedown":wr=!0;break;case"contextmenu":case"mouseup":case"dragend":wr=!1,br(s,n,i);break;case"selectionchange":if(mr)break;case"keydown":case"keyup":br(s,n,i)}var y;if(Dn)e:{switch(e){case"compositionstart":var w="onCompositionStart";break e;case"compositionend":w="onCompositionEnd";break e;case"compositionupdate":w="onCompositionUpdate";break e}w=void 0}else Bn?Vn(e,n)&&(w="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(w="onCompositionStart");w&&(Fn&&"ko"!==n.locale&&(Bn||"onCompositionStart"!==w?"onCompositionEnd"===w&&Bn&&(y=en()):(Xt="value"in(Yt=i)?Yt.value:Yt.textContent,Bn=!0)),0<(v=Gr(r,w)).length&&(w=new bn(w,e,null,n,i),s.push({event:w,listeners:v}),y?w.data=y:null!==(y=zn(n))&&(w.data=y))),(y=Mn?function(e,t){switch(e){case"compositionend":return zn(t);case"keypress":return 32!==t.which?null:(jn=!0,Un);case"textInput":return(e=t.data)===Un&&jn?null:e;default:return null}}(e,n):function(e,t){if(Bn)return"compositionend"===e||!Dn&&Vn(e,t)?(e=en(),Zt=Xt=Yt=null,Bn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Fn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Gr(r,"onBeforeInput")).length&&(i=new bn("onBeforeInput","beforeinput",null,n,i),s.push({event:i,listeners:r}),i.data=y))}Ur(s,t)}))}function Hr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Gr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,o=i.stateNode;5===i.tag&&null!==o&&(i=o,null!=(o=Re(e,n))&&r.unshift(Hr(e,o,i)),null!=(o=Re(e,t))&&r.push(Hr(e,o,i))),e=e.return}return r}function Wr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Qr(e,t,n,r,i){for(var o=t._reactName,s=[];null!==n&&n!==r;){var a=n,c=a.alternate,l=a.stateNode;if(null!==c&&c===r)break;5===a.tag&&null!==l&&(a=l,i?null!=(c=Re(n,o))&&s.unshift(Hr(n,c,a)):i||null!=(c=Re(n,o))&&s.push(Hr(n,c,a))),n=n.return}0!==s.length&&e.push({event:t,listeners:s})}var Jr=/\r\n?/g,$r=/\u0000|\uFFFD/g;function Yr(e){return("string"===typeof e?e:""+e).replace(Jr,"\n").replace($r,"")}function Xr(e,t,n){if(t=Yr(t),Yr(e)!==t&&n)throw Error(o(425))}function Zr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,oi="function"===typeof Promise?Promise:void 0,si="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof oi?function(e){return oi.resolve(null).then(e).catch(ai)}:ri;function ai(e){setTimeout((function(){throw e}))}function ci(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Bt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Bt(t)}function li(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ui(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var hi=Math.random().toString(36).slice(2),di="__reactFiber$"+hi,fi="__reactProps$"+hi,pi="__reactContainer$"+hi,mi="__reactEvents$"+hi,gi="__reactListeners$"+hi,vi="__reactHandles$"+hi;function yi(e){var t=e[di];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[di]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ui(e);null!==e;){if(n=e[di])return n;e=ui(e)}return t}n=(e=n).parentNode}return null}function wi(e){return!(e=e[di]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function bi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function _i(e){return e[fi]||null}var Ei=[],Ii=-1;function Ti(e){return{current:e}}function Si(e){0>Ii||(e.current=Ei[Ii],Ei[Ii]=null,Ii--)}function ki(e,t){Ii++,Ei[Ii]=e.current,e.current=t}var Ci={},xi=Ti(Ci),Ni=Ti(!1),Ai=Ci;function Pi(e,t){var n=e.type.contextTypes;if(!n)return Ci;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function Ri(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Oi(){Si(Ni),Si(xi)}function Di(e,t,n){if(xi.current!==Ci)throw Error(o(168));ki(xi,t),ki(Ni,n)}function Li(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(o(108,q(e)||"Unknown",i));return F({},n,r)}function Mi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ci,Ai=xi.current,ki(xi,e),ki(Ni,Ni.current),!0}function Fi(e,t,n){var r=e.stateNode;if(!r)throw Error(o(169));n?(e=Li(e,t,Ai),r.__reactInternalMemoizedMergedChildContext=e,Si(Ni),Si(xi),ki(xi,e)):Si(Ni),ki(Ni,n)}var Ui=null,ji=!1,Vi=!1;function zi(e){null===Ui?Ui=[e]:Ui.push(e)}function Bi(){if(!Vi&&null!==Ui){Vi=!0;var e=0,t=wt;try{var n=Ui;for(wt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Ui=null,ji=!1}catch(i){throw null!==Ui&&(Ui=Ui.slice(e+1)),We(Ze,Bi),i}finally{wt=t,Vi=!1}}return null}var qi=[],Ki=0,Hi=null,Gi=0,Wi=[],Qi=0,Ji=null,$i=1,Yi="";function Xi(e,t){qi[Ki++]=Gi,qi[Ki++]=Hi,Hi=e,Gi=t}function Zi(e,t,n){Wi[Qi++]=$i,Wi[Qi++]=Yi,Wi[Qi++]=Ji,Ji=e;var r=$i;e=Yi;var i=32-st(r)-1;r&=~(1<<i),n+=1;var o=32-st(t)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,$i=1<<32-st(t)+i|n<<i|r,Yi=o+e}else $i=1<<o|n<<i|r,Yi=e}function eo(e){null!==e.return&&(Xi(e,1),Zi(e,1,0))}function to(e){for(;e===Hi;)Hi=qi[--Ki],qi[Ki]=null,Gi=qi[--Ki],qi[Ki]=null;for(;e===Ji;)Ji=Wi[--Qi],Wi[Qi]=null,Yi=Wi[--Qi],Wi[Qi]=null,$i=Wi[--Qi],Wi[Qi]=null}var no=null,ro=null,io=!1,oo=null;function so(e,t){var n=Pl(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function ao(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,no=e,ro=li(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,no=e,ro=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Ji?{id:$i,overflow:Yi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Pl(18,null,null,0)).stateNode=t,n.return=e,e.child=n,no=e,ro=null,!0);default:return!1}}function co(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function lo(e){if(io){var t=ro;if(t){var n=t;if(!ao(e,t)){if(co(e))throw Error(o(418));t=li(n.nextSibling);var r=no;t&&ao(e,t)?so(r,n):(e.flags=-4097&e.flags|2,io=!1,no=e)}}else{if(co(e))throw Error(o(418));e.flags=-4097&e.flags|2,io=!1,no=e}}}function uo(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;no=e}function ho(e){if(e!==no)return!1;if(!io)return uo(e),io=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ro)){if(co(e))throw fo(),Error(o(418));for(;t;)so(e,t),t=li(t.nextSibling)}if(uo(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ro=li(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ro=null}}else ro=no?li(e.stateNode.nextSibling):null;return!0}function fo(){for(var e=ro;e;)e=li(e.nextSibling)}function po(){ro=no=null,io=!1}function mo(e){null===oo?oo=[e]:oo.push(e)}var go=b.ReactCurrentBatchConfig;function vo(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,e));var i=r,s=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===s?t.ref:(t=function(e){var t=i.refs;null===e?delete t[s]:t[s]=e},t._stringRef=s,t)}if("string"!==typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function yo(e,t){throw e=Object.prototype.toString.call(t),Error(o(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function wo(e){return(0,e._init)(e._payload)}function bo(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Ol(e,t)).index=0,e.sibling=null,e}function s(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function a(t){return e&&null===t.alternate&&(t.flags|=2),t}function c(e,t,n,r){return null===t||6!==t.tag?((t=Fl(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function l(e,t,n,r){var o=n.type;return o===I?h(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===o||"object"===typeof o&&null!==o&&o.$$typeof===R&&wo(o)===t.type)?((r=i(t,n.props)).ref=vo(e,t,n),r.return=e,r):((r=Dl(n.type,n.key,n.props,null,e.mode,r)).ref=vo(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Ul(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function h(e,t,n,r,o){return null===t||7!==t.tag?((t=Ll(n,e.mode,r,o)).return=e,t):((t=i(t,n)).return=e,t)}function d(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Fl(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case _:return(n=Dl(t.type,t.key,t.props,null,e.mode,n)).ref=vo(e,null,t),n.return=e,n;case E:return(t=Ul(t,e.mode,n)).return=e,t;case R:return d(e,(0,t._init)(t._payload),n)}if(te(t)||L(t))return(t=Ll(t,e.mode,n,null)).return=e,t;yo(e,t)}return null}function f(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:c(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case _:return n.key===i?l(e,t,n,r):null;case E:return n.key===i?u(e,t,n,r):null;case R:return f(e,t,(i=n._init)(n._payload),r)}if(te(n)||L(n))return null!==i?null:h(e,t,n,r,null);yo(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return c(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case _:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case E:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case R:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||L(r))return h(t,e=e.get(n)||null,r,i,null);yo(t,r)}return null}function m(i,o,a,c){for(var l=null,u=null,h=o,m=o=0,g=null;null!==h&&m<a.length;m++){h.index>m?(g=h,h=null):g=h.sibling;var v=f(i,h,a[m],c);if(null===v){null===h&&(h=g);break}e&&h&&null===v.alternate&&t(i,h),o=s(v,o,m),null===u?l=v:u.sibling=v,u=v,h=g}if(m===a.length)return n(i,h),io&&Xi(i,m),l;if(null===h){for(;m<a.length;m++)null!==(h=d(i,a[m],c))&&(o=s(h,o,m),null===u?l=h:u.sibling=h,u=h);return io&&Xi(i,m),l}for(h=r(i,h);m<a.length;m++)null!==(g=p(h,i,m,a[m],c))&&(e&&null!==g.alternate&&h.delete(null===g.key?m:g.key),o=s(g,o,m),null===u?l=g:u.sibling=g,u=g);return e&&h.forEach((function(e){return t(i,e)})),io&&Xi(i,m),l}function g(i,a,c,l){var u=L(c);if("function"!==typeof u)throw Error(o(150));if(null==(c=u.call(c)))throw Error(o(151));for(var h=u=null,m=a,g=a=0,v=null,y=c.next();null!==m&&!y.done;g++,y=c.next()){m.index>g?(v=m,m=null):v=m.sibling;var w=f(i,m,y.value,l);if(null===w){null===m&&(m=v);break}e&&m&&null===w.alternate&&t(i,m),a=s(w,a,g),null===h?u=w:h.sibling=w,h=w,m=v}if(y.done)return n(i,m),io&&Xi(i,g),u;if(null===m){for(;!y.done;g++,y=c.next())null!==(y=d(i,y.value,l))&&(a=s(y,a,g),null===h?u=y:h.sibling=y,h=y);return io&&Xi(i,g),u}for(m=r(i,m);!y.done;g++,y=c.next())null!==(y=p(m,i,g,y.value,l))&&(e&&null!==y.alternate&&m.delete(null===y.key?g:y.key),a=s(y,a,g),null===h?u=y:h.sibling=y,h=y);return e&&m.forEach((function(e){return t(i,e)})),io&&Xi(i,g),u}return function e(r,o,s,c){if("object"===typeof s&&null!==s&&s.type===I&&null===s.key&&(s=s.props.children),"object"===typeof s&&null!==s){switch(s.$$typeof){case _:e:{for(var l=s.key,u=o;null!==u;){if(u.key===l){if((l=s.type)===I){if(7===u.tag){n(r,u.sibling),(o=i(u,s.props.children)).return=r,r=o;break e}}else if(u.elementType===l||"object"===typeof l&&null!==l&&l.$$typeof===R&&wo(l)===u.type){n(r,u.sibling),(o=i(u,s.props)).ref=vo(r,u,s),o.return=r,r=o;break e}n(r,u);break}t(r,u),u=u.sibling}s.type===I?((o=Ll(s.props.children,r.mode,c,s.key)).return=r,r=o):((c=Dl(s.type,s.key,s.props,null,r.mode,c)).ref=vo(r,o,s),c.return=r,r=c)}return a(r);case E:e:{for(u=s.key;null!==o;){if(o.key===u){if(4===o.tag&&o.stateNode.containerInfo===s.containerInfo&&o.stateNode.implementation===s.implementation){n(r,o.sibling),(o=i(o,s.children||[])).return=r,r=o;break e}n(r,o);break}t(r,o),o=o.sibling}(o=Ul(s,r.mode,c)).return=r,r=o}return a(r);case R:return e(r,o,(u=s._init)(s._payload),c)}if(te(s))return m(r,o,s,c);if(L(s))return g(r,o,s,c);yo(r,s)}return"string"===typeof s&&""!==s||"number"===typeof s?(s=""+s,null!==o&&6===o.tag?(n(r,o.sibling),(o=i(o,s)).return=r,r=o):(n(r,o),(o=Fl(s,r.mode,c)).return=r,r=o),a(r)):n(r,o)}}var _o=bo(!0),Eo=bo(!1),Io=Ti(null),To=null,So=null,ko=null;function Co(){ko=So=To=null}function xo(e){var t=Io.current;Si(Io),e._currentValue=t}function No(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ao(e,t){To=e,ko=So=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(wa=!0),e.firstContext=null)}function Po(e){var t=e._currentValue;if(ko!==e)if(e={context:e,memoizedValue:t,next:null},null===So){if(null===To)throw Error(o(308));So=e,To.dependencies={lanes:0,firstContext:e}}else So=So.next=e;return t}var Ro=null;function Oo(e){null===Ro?Ro=[e]:Ro.push(e)}function Do(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Oo(t)):(n.next=i.next,i.next=n),t.interleaved=n,Lo(e,r)}function Lo(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Mo=!1;function Fo(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Uo(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function jo(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Vo(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&xc)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Lo(e,n)}return null===(i=r.interleaved)?(t.next=t,Oo(r)):(t.next=i.next,i.next=t),r.interleaved=t,Lo(e,n)}function zo(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}function Bo(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?i=o=s:o=o.next=s,n=n.next}while(null!==n);null===o?i=o=t:o=o.next=t}else i=o=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function qo(e,t,n,r){var i=e.updateQueue;Mo=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(null!==a){i.shared.pending=null;var c=a,l=c.next;c.next=null,null===s?o=l:s.next=l,s=c;var u=e.alternate;null!==u&&((a=(u=u.updateQueue).lastBaseUpdate)!==s&&(null===a?u.firstBaseUpdate=l:a.next=l,u.lastBaseUpdate=c))}if(null!==o){var h=i.baseState;for(s=0,u=l=c=null,a=o;;){var d=a.lane,f=a.eventTime;if((r&d)===d){null!==u&&(u=u.next={eventTime:f,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=e,m=a;switch(d=t,f=n,m.tag){case 1:if("function"===typeof(p=m.payload)){h=p.call(f,h,d);break e}h=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(d="function"===typeof(p=m.payload)?p.call(f,h,d):p)||void 0===d)break e;h=F({},h,d);break e;case 2:Mo=!0}}null!==a.callback&&0!==a.lane&&(e.flags|=64,null===(d=i.effects)?i.effects=[a]:d.push(a))}else f={eventTime:f,lane:d,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===u?(l=u=f,c=h):u=u.next=f,s|=d;if(null===(a=a.next)){if(null===(a=i.shared.pending))break;a=(d=a).next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}if(null===u&&(c=h),i.baseState=c,i.firstBaseUpdate=l,i.lastBaseUpdate=u,null!==(t=i.shared.interleaved)){i=t;do{s|=i.lane,i=i.next}while(i!==t)}else null===o&&(i.shared.lanes=0);Mc|=s,e.lanes=s,e.memoizedState=h}}function Ko(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(o(191,i));i.call(r)}}}var Ho={},Go=Ti(Ho),Wo=Ti(Ho),Qo=Ti(Ho);function Jo(e){if(e===Ho)throw Error(o(174));return e}function $o(e,t){switch(ki(Qo,t),ki(Wo,e),ki(Go,Ho),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ce(null,"");break;default:t=ce(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Si(Go),ki(Go,t)}function Yo(){Si(Go),Si(Wo),Si(Qo)}function Xo(e){Jo(Qo.current);var t=Jo(Go.current),n=ce(t,e.type);t!==n&&(ki(Wo,e),ki(Go,n))}function Zo(e){Wo.current===e&&(Si(Go),Si(Wo))}var es=Ti(0);function ts(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ns=[];function rs(){for(var e=0;e<ns.length;e++)ns[e]._workInProgressVersionPrimary=null;ns.length=0}var is=b.ReactCurrentDispatcher,os=b.ReactCurrentBatchConfig,ss=0,as=null,cs=null,ls=null,us=!1,hs=!1,ds=0,fs=0;function ps(){throw Error(o(321))}function ms(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ar(e[n],t[n]))return!1;return!0}function gs(e,t,n,r,i,s){if(ss=s,as=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,is.current=null===e||null===e.memoizedState?Zs:ea,e=n(r,i),hs){s=0;do{if(hs=!1,ds=0,25<=s)throw Error(o(301));s+=1,ls=cs=null,t.updateQueue=null,is.current=ta,e=n(r,i)}while(hs)}if(is.current=Xs,t=null!==cs&&null!==cs.next,ss=0,ls=cs=as=null,us=!1,t)throw Error(o(300));return e}function vs(){var e=0!==ds;return ds=0,e}function ys(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ls?as.memoizedState=ls=e:ls=ls.next=e,ls}function ws(){if(null===cs){var e=as.alternate;e=null!==e?e.memoizedState:null}else e=cs.next;var t=null===ls?as.memoizedState:ls.next;if(null!==t)ls=t,cs=e;else{if(null===e)throw Error(o(310));e={memoizedState:(cs=e).memoizedState,baseState:cs.baseState,baseQueue:cs.baseQueue,queue:cs.queue,next:null},null===ls?as.memoizedState=ls=e:ls=ls.next=e}return ls}function bs(e,t){return"function"===typeof t?t(e):t}function _s(e){var t=ws(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=cs,i=r.baseQueue,s=n.pending;if(null!==s){if(null!==i){var a=i.next;i.next=s.next,s.next=a}r.baseQueue=i=s,n.pending=null}if(null!==i){s=i.next,r=r.baseState;var c=a=null,l=null,u=s;do{var h=u.lane;if((ss&h)===h)null!==l&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var d={lane:h,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===l?(c=l=d,a=r):l=l.next=d,as.lanes|=h,Mc|=h}u=u.next}while(null!==u&&u!==s);null===l?a=r:l.next=c,ar(r,t.memoizedState)||(wa=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=l,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{s=i.lane,as.lanes|=s,Mc|=s,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Es(e){var t=ws(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,s=t.memoizedState;if(null!==i){n.pending=null;var a=i=i.next;do{s=e(s,a.action),a=a.next}while(a!==i);ar(s,t.memoizedState)||(wa=!0),t.memoizedState=s,null===t.baseQueue&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function Is(){}function Ts(e,t){var n=as,r=ws(),i=t(),s=!ar(r.memoizedState,i);if(s&&(r.memoizedState=i,wa=!0),r=r.queue,Ms(Cs.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||null!==ls&&1&ls.memoizedState.tag){if(n.flags|=2048,Ps(9,ks.bind(null,n,r,i,t),void 0,null),null===Nc)throw Error(o(349));0!==(30&ss)||Ss(n,t,i)}return i}function Ss(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=as.updateQueue)?(t={lastEffect:null,stores:null},as.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function ks(e,t,n,r){t.value=n,t.getSnapshot=r,xs(t)&&Ns(e)}function Cs(e,t,n){return n((function(){xs(t)&&Ns(e)}))}function xs(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ar(e,n)}catch(r){return!0}}function Ns(e){var t=Lo(e,1);null!==t&&nl(t,e,1,-1)}function As(e){var t=ys();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:bs,lastRenderedState:e},t.queue=e,e=e.dispatch=Qs.bind(null,as,e),[t.memoizedState,e]}function Ps(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=as.updateQueue)?(t={lastEffect:null,stores:null},as.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Rs(){return ws().memoizedState}function Os(e,t,n,r){var i=ys();as.flags|=e,i.memoizedState=Ps(1|t,n,void 0,void 0===r?null:r)}function Ds(e,t,n,r){var i=ws();r=void 0===r?null:r;var o=void 0;if(null!==cs){var s=cs.memoizedState;if(o=s.destroy,null!==r&&ms(r,s.deps))return void(i.memoizedState=Ps(t,n,o,r))}as.flags|=e,i.memoizedState=Ps(1|t,n,o,r)}function Ls(e,t){return Os(8390656,8,e,t)}function Ms(e,t){return Ds(2048,8,e,t)}function Fs(e,t){return Ds(4,2,e,t)}function Us(e,t){return Ds(4,4,e,t)}function js(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Vs(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Ds(4,4,js.bind(null,t,e),n)}function zs(){}function Bs(e,t){var n=ws();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ms(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function qs(e,t){var n=ws();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ms(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Ks(e,t,n){return 0===(21&ss)?(e.baseState&&(e.baseState=!1,wa=!0),e.memoizedState=n):(ar(n,t)||(n=mt(),as.lanes|=n,Mc|=n,e.baseState=!0),t)}function Hs(e,t){var n=wt;wt=0!==n&&4>n?n:4,e(!0);var r=os.transition;os.transition={};try{e(!1),t()}finally{wt=n,os.transition=r}}function Gs(){return ws().memoizedState}function Ws(e,t,n){var r=tl(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Js(e))$s(t,n);else if(null!==(n=Do(e,t,n,r))){nl(n,e,r,el()),Ys(n,t,r)}}function Qs(e,t,n){var r=tl(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Js(e))$s(t,i);else{var o=e.alternate;if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var s=t.lastRenderedState,a=o(s,n);if(i.hasEagerState=!0,i.eagerState=a,ar(a,s)){var c=t.interleaved;return null===c?(i.next=i,Oo(t)):(i.next=c.next,c.next=i),void(t.interleaved=i)}}catch(l){}null!==(n=Do(e,t,i,r))&&(nl(n,e,r,i=el()),Ys(n,t,r))}}function Js(e){var t=e.alternate;return e===as||null!==t&&t===as}function $s(e,t){hs=us=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Ys(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}var Xs={readContext:Po,useCallback:ps,useContext:ps,useEffect:ps,useImperativeHandle:ps,useInsertionEffect:ps,useLayoutEffect:ps,useMemo:ps,useReducer:ps,useRef:ps,useState:ps,useDebugValue:ps,useDeferredValue:ps,useTransition:ps,useMutableSource:ps,useSyncExternalStore:ps,useId:ps,unstable_isNewReconciler:!1},Zs={readContext:Po,useCallback:function(e,t){return ys().memoizedState=[e,void 0===t?null:t],e},useContext:Po,useEffect:Ls,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Os(4194308,4,js.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Os(4194308,4,e,t)},useInsertionEffect:function(e,t){return Os(4,2,e,t)},useMemo:function(e,t){var n=ys();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=ys();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Ws.bind(null,as,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},ys().memoizedState=e},useState:As,useDebugValue:zs,useDeferredValue:function(e){return ys().memoizedState=e},useTransition:function(){var e=As(!1),t=e[0];return e=Hs.bind(null,e[1]),ys().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=as,i=ys();if(io){if(void 0===n)throw Error(o(407));n=n()}else{if(n=t(),null===Nc)throw Error(o(349));0!==(30&ss)||Ss(r,t,n)}i.memoizedState=n;var s={value:n,getSnapshot:t};return i.queue=s,Ls(Cs.bind(null,r,s,e),[e]),r.flags|=2048,Ps(9,ks.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=ys(),t=Nc.identifierPrefix;if(io){var n=Yi;t=":"+t+"R"+(n=($i&~(1<<32-st($i)-1)).toString(32)+n),0<(n=ds++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=fs++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},ea={readContext:Po,useCallback:Bs,useContext:Po,useEffect:Ms,useImperativeHandle:Vs,useInsertionEffect:Fs,useLayoutEffect:Us,useMemo:qs,useReducer:_s,useRef:Rs,useState:function(){return _s(bs)},useDebugValue:zs,useDeferredValue:function(e){return Ks(ws(),cs.memoizedState,e)},useTransition:function(){return[_s(bs)[0],ws().memoizedState]},useMutableSource:Is,useSyncExternalStore:Ts,useId:Gs,unstable_isNewReconciler:!1},ta={readContext:Po,useCallback:Bs,useContext:Po,useEffect:Ms,useImperativeHandle:Vs,useInsertionEffect:Fs,useLayoutEffect:Us,useMemo:qs,useReducer:Es,useRef:Rs,useState:function(){return Es(bs)},useDebugValue:zs,useDeferredValue:function(e){var t=ws();return null===cs?t.memoizedState=e:Ks(t,cs.memoizedState,e)},useTransition:function(){return[Es(bs)[0],ws().memoizedState]},useMutableSource:Is,useSyncExternalStore:Ts,useId:Gs,unstable_isNewReconciler:!1};function na(e,t){if(e&&e.defaultProps){for(var n in t=F({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function ra(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:F({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var ia={isMounted:function(e){return!!(e=e._reactInternals)&&Be(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=el(),i=tl(e),o=jo(r,i);o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=Vo(e,o,i))&&(nl(t,e,i,r),zo(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=el(),i=tl(e),o=jo(r,i);o.tag=1,o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=Vo(e,o,i))&&(nl(t,e,i,r),zo(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=el(),r=tl(e),i=jo(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Vo(e,i,r))&&(nl(t,e,r,n),zo(t,e,r))}};function oa(e,t,n,r,i,o,s){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,s):!t.prototype||!t.prototype.isPureReactComponent||(!cr(n,r)||!cr(i,o))}function sa(e,t,n){var r=!1,i=Ci,o=t.contextType;return"object"===typeof o&&null!==o?o=Po(o):(i=Ri(t)?Ai:xi.current,o=(r=null!==(r=t.contextTypes)&&void 0!==r)?Pi(e,i):Ci),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ia,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function aa(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ia.enqueueReplaceState(t,t.state,null)}function ca(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},Fo(e);var o=t.contextType;"object"===typeof o&&null!==o?i.context=Po(o):(o=Ri(t)?Ai:xi.current,i.context=Pi(e,o)),i.state=e.memoizedState,"function"===typeof(o=t.getDerivedStateFromProps)&&(ra(e,t,o,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&ia.enqueueReplaceState(i,i.state,null),qo(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function la(e,t){try{var n="",r=t;do{n+=z(r),r=r.return}while(r);var i=n}catch(o){i="\nError generating stack: "+o.message+"\n"+o.stack}return{value:e,source:t,stack:i,digest:null}}function ua(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function ha(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var da="function"===typeof WeakMap?WeakMap:Map;function fa(e,t,n){(n=jo(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Kc||(Kc=!0,Hc=r),ha(0,t)},n}function pa(e,t,n){(n=jo(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){ha(0,t)}}var o=e.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(n.callback=function(){ha(0,t),"function"!==typeof r&&(null===Gc?Gc=new Set([this]):Gc.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function ma(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new da;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Sl.bind(null,e,t,n),t.then(e,e))}function ga(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function va(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=jo(-1,1)).tag=2,Vo(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var ya=b.ReactCurrentOwner,wa=!1;function ba(e,t,n,r){t.child=null===e?Eo(t,null,n,r):_o(t,e.child,n,r)}function _a(e,t,n,r,i){n=n.render;var o=t.ref;return Ao(t,i),r=gs(e,t,n,r,o,i),n=vs(),null===e||wa?(io&&n&&eo(t),t.flags|=1,ba(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ka(e,t,i))}function Ea(e,t,n,r,i){if(null===e){var o=n.type;return"function"!==typeof o||Rl(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Dl(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,Ia(e,t,o,r,i))}if(o=e.child,0===(e.lanes&i)){var s=o.memoizedProps;if((n=null!==(n=n.compare)?n:cr)(s,r)&&e.ref===t.ref)return Ka(e,t,i)}return t.flags|=1,(e=Ol(o,r)).ref=t.ref,e.return=t,t.child=e}function Ia(e,t,n,r,i){if(null!==e){var o=e.memoizedProps;if(cr(o,r)&&e.ref===t.ref){if(wa=!1,t.pendingProps=r=o,0===(e.lanes&i))return t.lanes=e.lanes,Ka(e,t,i);0!==(131072&e.flags)&&(wa=!0)}}return ka(e,t,n,r,i)}function Ta(e,t,n){var r=t.pendingProps,i=r.children,o=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ki(Oc,Rc),Rc|=n;else{if(0===(1073741824&n))return e=null!==o?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ki(Oc,Rc),Rc|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==o?o.baseLanes:n,ki(Oc,Rc),Rc|=r}else null!==o?(r=o.baseLanes|n,t.memoizedState=null):r=n,ki(Oc,Rc),Rc|=r;return ba(e,t,i,n),t.child}function Sa(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function ka(e,t,n,r,i){var o=Ri(n)?Ai:xi.current;return o=Pi(t,o),Ao(t,i),n=gs(e,t,n,r,o,i),r=vs(),null===e||wa?(io&&r&&eo(t),t.flags|=1,ba(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ka(e,t,i))}function Ca(e,t,n,r,i){if(Ri(n)){var o=!0;Mi(t)}else o=!1;if(Ao(t,i),null===t.stateNode)qa(e,t),sa(t,n,r),ca(t,n,r,i),r=!0;else if(null===e){var s=t.stateNode,a=t.memoizedProps;s.props=a;var c=s.context,l=n.contextType;"object"===typeof l&&null!==l?l=Po(l):l=Pi(t,l=Ri(n)?Ai:xi.current);var u=n.getDerivedStateFromProps,h="function"===typeof u||"function"===typeof s.getSnapshotBeforeUpdate;h||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(a!==r||c!==l)&&aa(t,s,r,l),Mo=!1;var d=t.memoizedState;s.state=d,qo(t,r,s,i),c=t.memoizedState,a!==r||d!==c||Ni.current||Mo?("function"===typeof u&&(ra(t,n,u,r),c=t.memoizedState),(a=Mo||oa(t,n,a,r,d,c,l))?(h||"function"!==typeof s.UNSAFE_componentWillMount&&"function"!==typeof s.componentWillMount||("function"===typeof s.componentWillMount&&s.componentWillMount(),"function"===typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount()),"function"===typeof s.componentDidMount&&(t.flags|=4194308)):("function"===typeof s.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),s.props=r,s.state=c,s.context=l,r=a):("function"===typeof s.componentDidMount&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,Uo(e,t),a=t.memoizedProps,l=t.type===t.elementType?a:na(t.type,a),s.props=l,h=t.pendingProps,d=s.context,"object"===typeof(c=n.contextType)&&null!==c?c=Po(c):c=Pi(t,c=Ri(n)?Ai:xi.current);var f=n.getDerivedStateFromProps;(u="function"===typeof f||"function"===typeof s.getSnapshotBeforeUpdate)||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(a!==h||d!==c)&&aa(t,s,r,c),Mo=!1,d=t.memoizedState,s.state=d,qo(t,r,s,i);var p=t.memoizedState;a!==h||d!==p||Ni.current||Mo?("function"===typeof f&&(ra(t,n,f,r),p=t.memoizedState),(l=Mo||oa(t,n,l,r,d,p,c)||!1)?(u||"function"!==typeof s.UNSAFE_componentWillUpdate&&"function"!==typeof s.componentWillUpdate||("function"===typeof s.componentWillUpdate&&s.componentWillUpdate(r,p,c),"function"===typeof s.UNSAFE_componentWillUpdate&&s.UNSAFE_componentWillUpdate(r,p,c)),"function"===typeof s.componentDidUpdate&&(t.flags|=4),"function"===typeof s.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof s.componentDidUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),s.props=r,s.state=p,s.context=c,r=l):("function"!==typeof s.componentDidUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return xa(e,t,n,r,o,i)}function xa(e,t,n,r,i,o){Sa(e,t);var s=0!==(128&t.flags);if(!r&&!s)return i&&Fi(t,n,!1),Ka(e,t,o);r=t.stateNode,ya.current=t;var a=s&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&s?(t.child=_o(t,e.child,null,o),t.child=_o(t,null,a,o)):ba(e,t,a,o),t.memoizedState=r.state,i&&Fi(t,n,!0),t.child}function Na(e){var t=e.stateNode;t.pendingContext?Di(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Di(0,t.context,!1),$o(e,t.containerInfo)}function Aa(e,t,n,r,i){return po(),mo(i),t.flags|=256,ba(e,t,n,r),t.child}var Pa,Ra,Oa,Da,La={dehydrated:null,treeContext:null,retryLane:0};function Ma(e){return{baseLanes:e,cachePool:null,transitions:null}}function Fa(e,t,n){var r,i=t.pendingProps,s=es.current,a=!1,c=0!==(128&t.flags);if((r=c)||(r=(null===e||null!==e.memoizedState)&&0!==(2&s)),r?(a=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(s|=1),ki(es,1&s),null===e)return lo(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(c=i.children,e=i.fallback,a?(i=t.mode,a=t.child,c={mode:"hidden",children:c},0===(1&i)&&null!==a?(a.childLanes=0,a.pendingProps=c):a=Ml(c,i,0,null),e=Ll(e,i,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=Ma(n),t.memoizedState=La,e):Ua(t,c));if(null!==(s=e.memoizedState)&&null!==(r=s.dehydrated))return function(e,t,n,r,i,s,a){if(n)return 256&t.flags?(t.flags&=-257,ja(e,t,a,r=ua(Error(o(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(s=r.fallback,i=t.mode,r=Ml({mode:"visible",children:r.children},i,0,null),(s=Ll(s,i,a,null)).flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,0!==(1&t.mode)&&_o(t,e.child,null,a),t.child.memoizedState=Ma(a),t.memoizedState=La,s);if(0===(1&t.mode))return ja(e,t,a,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var c=r.dgst;return r=c,ja(e,t,a,r=ua(s=Error(o(419)),r,void 0))}if(c=0!==(a&e.childLanes),wa||c){if(null!==(r=Nc)){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|a))?0:i)&&i!==s.retryLane&&(s.retryLane=i,Lo(e,i),nl(r,e,i,-1))}return ml(),ja(e,t,a,r=ua(Error(o(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Cl.bind(null,e),i._reactRetry=t,null):(e=s.treeContext,ro=li(i.nextSibling),no=t,io=!0,oo=null,null!==e&&(Wi[Qi++]=$i,Wi[Qi++]=Yi,Wi[Qi++]=Ji,$i=e.id,Yi=e.overflow,Ji=t),t=Ua(t,r.children),t.flags|=4096,t)}(e,t,c,i,r,s,n);if(a){a=i.fallback,c=t.mode,r=(s=e.child).sibling;var l={mode:"hidden",children:i.children};return 0===(1&c)&&t.child!==s?((i=t.child).childLanes=0,i.pendingProps=l,t.deletions=null):(i=Ol(s,l)).subtreeFlags=14680064&s.subtreeFlags,null!==r?a=Ol(r,a):(a=Ll(a,c,n,null)).flags|=2,a.return=t,i.return=t,i.sibling=a,t.child=i,i=a,a=t.child,c=null===(c=e.child.memoizedState)?Ma(n):{baseLanes:c.baseLanes|n,cachePool:null,transitions:c.transitions},a.memoizedState=c,a.childLanes=e.childLanes&~n,t.memoizedState=La,i}return e=(a=e.child).sibling,i=Ol(a,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Ua(e,t){return(t=Ml({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function ja(e,t,n,r){return null!==r&&mo(r),_o(t,e.child,null,n),(e=Ua(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Va(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),No(e.return,t,n)}function za(e,t,n,r,i){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function Ba(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(ba(e,t,r.children,n),0!==(2&(r=es.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Va(e,n,t);else if(19===e.tag)Va(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(ki(es,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===ts(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),za(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===ts(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}za(t,!0,n,null,o);break;case"together":za(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function qa(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ka(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Mc|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=Ol(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Ol(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Ha(e,t){if(!io)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ga(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Wa(e,t,n){var r=t.pendingProps;switch(to(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ga(t),null;case 1:case 17:return Ri(t.type)&&Oi(),Ga(t),null;case 3:return r=t.stateNode,Yo(),Si(Ni),Si(xi),rs(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(ho(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==oo&&(sl(oo),oo=null))),Ra(e,t),Ga(t),null;case 5:Zo(t);var i=Jo(Qo.current);if(n=t.type,null!==e&&null!=t.stateNode)Oa(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(o(166));return Ga(t),null}if(e=Jo(Go.current),ho(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[di]=t,r[fi]=s,e=0!==(1&t.mode),n){case"dialog":jr("cancel",r),jr("close",r);break;case"iframe":case"object":case"embed":jr("load",r);break;case"video":case"audio":for(i=0;i<Lr.length;i++)jr(Lr[i],r);break;case"source":jr("error",r);break;case"img":case"image":case"link":jr("error",r),jr("load",r);break;case"details":jr("toggle",r);break;case"input":$(r,s),jr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},jr("invalid",r);break;case"textarea":ie(r,s),jr("invalid",r)}for(var c in ye(n,s),i=null,s)if(s.hasOwnProperty(c)){var l=s[c];"children"===c?"string"===typeof l?r.textContent!==l&&(!0!==s.suppressHydrationWarning&&Xr(r.textContent,l,e),i=["children",l]):"number"===typeof l&&r.textContent!==""+l&&(!0!==s.suppressHydrationWarning&&Xr(r.textContent,l,e),i=["children",""+l]):a.hasOwnProperty(c)&&null!=l&&"onScroll"===c&&jr("scroll",r)}switch(n){case"input":G(r),Z(r,s,!0);break;case"textarea":G(r),se(r);break;case"select":case"option":break;default:"function"===typeof s.onClick&&(r.onclick=Zr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{c=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ae(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=c.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=c.createElement(n,{is:r.is}):(e=c.createElement(n),"select"===n&&(c=e,r.multiple?c.multiple=!0:r.size&&(c.size=r.size))):e=c.createElementNS(e,n),e[di]=t,e[fi]=r,Pa(e,t,!1,!1),t.stateNode=e;e:{switch(c=we(n,r),n){case"dialog":jr("cancel",e),jr("close",e),i=r;break;case"iframe":case"object":case"embed":jr("load",e),i=r;break;case"video":case"audio":for(i=0;i<Lr.length;i++)jr(Lr[i],e);i=r;break;case"source":jr("error",e),i=r;break;case"img":case"image":case"link":jr("error",e),jr("load",e),i=r;break;case"details":jr("toggle",e),i=r;break;case"input":$(e,r),i=J(e,r),jr("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=F({},r,{value:void 0}),jr("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),jr("invalid",e)}for(s in ye(n,i),l=i)if(l.hasOwnProperty(s)){var u=l[s];"style"===s?ge(e,u):"dangerouslySetInnerHTML"===s?null!=(u=u?u.__html:void 0)&&he(e,u):"children"===s?"string"===typeof u?("textarea"!==n||""!==u)&&de(e,u):"number"===typeof u&&de(e,""+u):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(a.hasOwnProperty(s)?null!=u&&"onScroll"===s&&jr("scroll",e):null!=u&&w(e,s,u,c))}switch(n){case"input":G(e),Z(e,r,!1);break;case"textarea":G(e),se(e);break;case"option":null!=r.value&&e.setAttribute("value",""+K(r.value));break;case"select":e.multiple=!!r.multiple,null!=(s=r.value)?ne(e,!!r.multiple,s,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Ga(t),null;case 6:if(e&&null!=t.stateNode)Da(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(o(166));if(n=Jo(Qo.current),Jo(Go.current),ho(t)){if(r=t.stateNode,n=t.memoizedProps,r[di]=t,(s=r.nodeValue!==n)&&null!==(e=no))switch(e.tag){case 3:Xr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Xr(r.nodeValue,n,0!==(1&e.mode))}s&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[di]=t,t.stateNode=r}return Ga(t),null;case 13:if(Si(es),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(io&&null!==ro&&0!==(1&t.mode)&&0===(128&t.flags))fo(),po(),t.flags|=98560,s=!1;else if(s=ho(t),null!==r&&null!==r.dehydrated){if(null===e){if(!s)throw Error(o(318));if(!(s=null!==(s=t.memoizedState)?s.dehydrated:null))throw Error(o(317));s[di]=t}else po(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Ga(t),s=!1}else null!==oo&&(sl(oo),oo=null),s=!0;if(!s)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&es.current)?0===Dc&&(Dc=3):ml())),null!==t.updateQueue&&(t.flags|=4),Ga(t),null);case 4:return Yo(),Ra(e,t),null===e&&Br(t.stateNode.containerInfo),Ga(t),null;case 10:return xo(t.type._context),Ga(t),null;case 19:if(Si(es),null===(s=t.memoizedState))return Ga(t),null;if(r=0!==(128&t.flags),null===(c=s.rendering))if(r)Ha(s,!1);else{if(0!==Dc||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(c=ts(e))){for(t.flags|=128,Ha(s,!1),null!==(r=c.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(s=n).flags&=14680066,null===(c=s.alternate)?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=c.childLanes,s.lanes=c.lanes,s.child=c.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=c.memoizedProps,s.memoizedState=c.memoizedState,s.updateQueue=c.updateQueue,s.type=c.type,e=c.dependencies,s.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ki(es,1&es.current|2),t.child}e=e.sibling}null!==s.tail&&Ye()>Bc&&(t.flags|=128,r=!0,Ha(s,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=ts(c))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Ha(s,!0),null===s.tail&&"hidden"===s.tailMode&&!c.alternate&&!io)return Ga(t),null}else 2*Ye()-s.renderingStartTime>Bc&&1073741824!==n&&(t.flags|=128,r=!0,Ha(s,!1),t.lanes=4194304);s.isBackwards?(c.sibling=t.child,t.child=c):(null!==(n=s.last)?n.sibling=c:t.child=c,s.last=c)}return null!==s.tail?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=Ye(),t.sibling=null,n=es.current,ki(es,r?1&n|2:1&n),t):(Ga(t),null);case 22:case 23:return hl(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Rc)&&(Ga(t),6&t.subtreeFlags&&(t.flags|=8192)):Ga(t),null;case 24:case 25:return null}throw Error(o(156,t.tag))}function Qa(e,t){switch(to(t),t.tag){case 1:return Ri(t.type)&&Oi(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Yo(),Si(Ni),Si(xi),rs(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Zo(t),null;case 13:if(Si(es),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(o(340));po()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Si(es),null;case 4:return Yo(),null;case 10:return xo(t.type._context),null;case 22:case 23:return hl(),null;default:return null}}Pa=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ra=function(){},Oa=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Jo(Go.current);var o,s=null;switch(n){case"input":i=J(e,i),r=J(e,r),s=[];break;case"select":i=F({},i,{value:void 0}),r=F({},r,{value:void 0}),s=[];break;case"textarea":i=re(e,i),r=re(e,r),s=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(u in ye(n,r),n=null,i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&null!=i[u])if("style"===u){var c=i[u];for(o in c)c.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(a.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var l=r[u];if(c=null!=i?i[u]:void 0,r.hasOwnProperty(u)&&l!==c&&(null!=l||null!=c))if("style"===u)if(c){for(o in c)!c.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&c[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(u,n)),n=l;else"dangerouslySetInnerHTML"===u?(l=l?l.__html:void 0,c=c?c.__html:void 0,null!=l&&c!==l&&(s=s||[]).push(u,l)):"children"===u?"string"!==typeof l&&"number"!==typeof l||(s=s||[]).push(u,""+l):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(a.hasOwnProperty(u)?(null!=l&&"onScroll"===u&&jr("scroll",e),s||c===l||(s=[])):(s=s||[]).push(u,l))}n&&(s=s||[]).push("style",n);var u=s;(t.updateQueue=u)&&(t.flags|=4)}},Da=function(e,t,n,r){n!==r&&(t.flags|=4)};var Ja=!1,$a=!1,Ya="function"===typeof WeakSet?WeakSet:Set,Xa=null;function Za(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Tl(e,t,r)}else n.current=null}function ec(e,t,n){try{n()}catch(r){Tl(e,t,r)}}var tc=!1;function nc(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,void 0!==o&&ec(t,n,o)}i=i.next}while(i!==r)}}function rc(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function ic(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function oc(e){var t=e.alternate;null!==t&&(e.alternate=null,oc(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[di],delete t[fi],delete t[mi],delete t[gi],delete t[vi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function sc(e){return 5===e.tag||3===e.tag||4===e.tag}function ac(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||sc(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function cc(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(cc(e,t,n),e=e.sibling;null!==e;)cc(e,t,n),e=e.sibling}function lc(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(lc(e,t,n),e=e.sibling;null!==e;)lc(e,t,n),e=e.sibling}var uc=null,hc=!1;function dc(e,t,n){for(n=n.child;null!==n;)fc(e,t,n),n=n.sibling}function fc(e,t,n){if(ot&&"function"===typeof ot.onCommitFiberUnmount)try{ot.onCommitFiberUnmount(it,n)}catch(a){}switch(n.tag){case 5:$a||Za(n,t);case 6:var r=uc,i=hc;uc=null,dc(e,t,n),hc=i,null!==(uc=r)&&(hc?(e=uc,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):uc.removeChild(n.stateNode));break;case 18:null!==uc&&(hc?(e=uc,n=n.stateNode,8===e.nodeType?ci(e.parentNode,n):1===e.nodeType&&ci(e,n),Bt(e)):ci(uc,n.stateNode));break;case 4:r=uc,i=hc,uc=n.stateNode.containerInfo,hc=!0,dc(e,t,n),uc=r,hc=i;break;case 0:case 11:case 14:case 15:if(!$a&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,void 0!==s&&(0!==(2&o)||0!==(4&o))&&ec(n,t,s),i=i.next}while(i!==r)}dc(e,t,n);break;case 1:if(!$a&&(Za(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Tl(n,t,a)}dc(e,t,n);break;case 21:dc(e,t,n);break;case 22:1&n.mode?($a=(r=$a)||null!==n.memoizedState,dc(e,t,n),$a=r):dc(e,t,n);break;default:dc(e,t,n)}}function pc(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Ya),t.forEach((function(t){var r=xl.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function mc(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var s=e,a=t,c=a;e:for(;null!==c;){switch(c.tag){case 5:uc=c.stateNode,hc=!1;break e;case 3:case 4:uc=c.stateNode.containerInfo,hc=!0;break e}c=c.return}if(null===uc)throw Error(o(160));fc(s,a,i),uc=null,hc=!1;var l=i.alternate;null!==l&&(l.return=null),i.return=null}catch(u){Tl(i,t,u)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)gc(t,e),t=t.sibling}function gc(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(mc(t,e),vc(e),4&r){try{nc(3,e,e.return),rc(3,e)}catch(g){Tl(e,e.return,g)}try{nc(5,e,e.return)}catch(g){Tl(e,e.return,g)}}break;case 1:mc(t,e),vc(e),512&r&&null!==n&&Za(n,n.return);break;case 5:if(mc(t,e),vc(e),512&r&&null!==n&&Za(n,n.return),32&e.flags){var i=e.stateNode;try{de(i,"")}catch(g){Tl(e,e.return,g)}}if(4&r&&null!=(i=e.stateNode)){var s=e.memoizedProps,a=null!==n?n.memoizedProps:s,c=e.type,l=e.updateQueue;if(e.updateQueue=null,null!==l)try{"input"===c&&"radio"===s.type&&null!=s.name&&Y(i,s),we(c,a);var u=we(c,s);for(a=0;a<l.length;a+=2){var h=l[a],d=l[a+1];"style"===h?ge(i,d):"dangerouslySetInnerHTML"===h?he(i,d):"children"===h?de(i,d):w(i,h,d,u)}switch(c){case"input":X(i,s);break;case"textarea":oe(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var p=s.value;null!=p?ne(i,!!s.multiple,p,!1):f!==!!s.multiple&&(null!=s.defaultValue?ne(i,!!s.multiple,s.defaultValue,!0):ne(i,!!s.multiple,s.multiple?[]:"",!1))}i[fi]=s}catch(g){Tl(e,e.return,g)}}break;case 6:if(mc(t,e),vc(e),4&r){if(null===e.stateNode)throw Error(o(162));i=e.stateNode,s=e.memoizedProps;try{i.nodeValue=s}catch(g){Tl(e,e.return,g)}}break;case 3:if(mc(t,e),vc(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Bt(t.containerInfo)}catch(g){Tl(e,e.return,g)}break;case 4:default:mc(t,e),vc(e);break;case 13:mc(t,e),vc(e),8192&(i=e.child).flags&&(s=null!==i.memoizedState,i.stateNode.isHidden=s,!s||null!==i.alternate&&null!==i.alternate.memoizedState||(zc=Ye())),4&r&&pc(e);break;case 22:if(h=null!==n&&null!==n.memoizedState,1&e.mode?($a=(u=$a)||h,mc(t,e),$a=u):mc(t,e),vc(e),8192&r){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!h&&0!==(1&e.mode))for(Xa=e,h=e.child;null!==h;){for(d=Xa=h;null!==Xa;){switch(p=(f=Xa).child,f.tag){case 0:case 11:case 14:case 15:nc(4,f,f.return);break;case 1:Za(f,f.return);var m=f.stateNode;if("function"===typeof m.componentWillUnmount){r=f,n=f.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(g){Tl(r,n,g)}}break;case 5:Za(f,f.return);break;case 22:if(null!==f.memoizedState){_c(d);continue}}null!==p?(p.return=f,Xa=p):_c(d)}h=h.sibling}e:for(h=null,d=e;;){if(5===d.tag){if(null===h){h=d;try{i=d.stateNode,u?"function"===typeof(s=i.style).setProperty?s.setProperty("display","none","important"):s.display="none":(c=d.stateNode,a=void 0!==(l=d.memoizedProps.style)&&null!==l&&l.hasOwnProperty("display")?l.display:null,c.style.display=me("display",a))}catch(g){Tl(e,e.return,g)}}}else if(6===d.tag){if(null===h)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(g){Tl(e,e.return,g)}}else if((22!==d.tag&&23!==d.tag||null===d.memoizedState||d===e)&&null!==d.child){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;null===d.sibling;){if(null===d.return||d.return===e)break e;h===d&&(h=null),d=d.return}h===d&&(h=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:mc(t,e),vc(e),4&r&&pc(e);case 21:}}function vc(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(sc(n)){var r=n;break e}n=n.return}throw Error(o(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(de(i,""),r.flags&=-33),lc(e,ac(e),i);break;case 3:case 4:var s=r.stateNode.containerInfo;cc(e,ac(e),s);break;default:throw Error(o(161))}}catch(a){Tl(e,e.return,a)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function yc(e,t,n){Xa=e,wc(e,t,n)}function wc(e,t,n){for(var r=0!==(1&e.mode);null!==Xa;){var i=Xa,o=i.child;if(22===i.tag&&r){var s=null!==i.memoizedState||Ja;if(!s){var a=i.alternate,c=null!==a&&null!==a.memoizedState||$a;a=Ja;var l=$a;if(Ja=s,($a=c)&&!l)for(Xa=i;null!==Xa;)c=(s=Xa).child,22===s.tag&&null!==s.memoizedState?Ec(i):null!==c?(c.return=s,Xa=c):Ec(i);for(;null!==o;)Xa=o,wc(o,t,n),o=o.sibling;Xa=i,Ja=a,$a=l}bc(e)}else 0!==(8772&i.subtreeFlags)&&null!==o?(o.return=i,Xa=o):bc(e)}}function bc(e){for(;null!==Xa;){var t=Xa;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:$a||rc(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!$a)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:na(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;null!==s&&Ko(t,s,r);break;case 3:var a=t.updateQueue;if(null!==a){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Ko(t,a,n)}break;case 5:var c=t.stateNode;if(null===n&&4&t.flags){n=c;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var h=u.memoizedState;if(null!==h){var d=h.dehydrated;null!==d&&Bt(d)}}}break;default:throw Error(o(163))}$a||512&t.flags&&ic(t)}catch(f){Tl(t,t.return,f)}}if(t===e){Xa=null;break}if(null!==(n=t.sibling)){n.return=t.return,Xa=n;break}Xa=t.return}}function _c(e){for(;null!==Xa;){var t=Xa;if(t===e){Xa=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Xa=n;break}Xa=t.return}}function Ec(e){for(;null!==Xa;){var t=Xa;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{rc(4,t)}catch(c){Tl(t,n,c)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(c){Tl(t,i,c)}}var o=t.return;try{ic(t)}catch(c){Tl(t,o,c)}break;case 5:var s=t.return;try{ic(t)}catch(c){Tl(t,s,c)}}}catch(c){Tl(t,t.return,c)}if(t===e){Xa=null;break}var a=t.sibling;if(null!==a){a.return=t.return,Xa=a;break}Xa=t.return}}var Ic,Tc=Math.ceil,Sc=b.ReactCurrentDispatcher,kc=b.ReactCurrentOwner,Cc=b.ReactCurrentBatchConfig,xc=0,Nc=null,Ac=null,Pc=0,Rc=0,Oc=Ti(0),Dc=0,Lc=null,Mc=0,Fc=0,Uc=0,jc=null,Vc=null,zc=0,Bc=1/0,qc=null,Kc=!1,Hc=null,Gc=null,Wc=!1,Qc=null,Jc=0,$c=0,Yc=null,Xc=-1,Zc=0;function el(){return 0!==(6&xc)?Ye():-1!==Xc?Xc:Xc=Ye()}function tl(e){return 0===(1&e.mode)?1:0!==(2&xc)&&0!==Pc?Pc&-Pc:null!==go.transition?(0===Zc&&(Zc=mt()),Zc):0!==(e=wt)?e:e=void 0===(e=window.event)?16:$t(e.type)}function nl(e,t,n,r){if(50<$c)throw $c=0,Yc=null,Error(o(185));vt(e,n,r),0!==(2&xc)&&e===Nc||(e===Nc&&(0===(2&xc)&&(Fc|=n),4===Dc&&al(e,Pc)),rl(e,r),1===n&&0===xc&&0===(1&t.mode)&&(Bc=Ye()+500,ji&&Bi()))}function rl(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var s=31-st(o),a=1<<s,c=i[s];-1===c?0!==(a&n)&&0===(a&r)||(i[s]=ft(a,t)):c<=t&&(e.expiredLanes|=a),o&=~a}}(e,t);var r=dt(e,e===Nc?Pc:0);if(0===r)null!==n&&Qe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Qe(n),1===t)0===e.tag?function(e){ji=!0,zi(e)}(cl.bind(null,e)):zi(cl.bind(null,e)),si((function(){0===(6&xc)&&Bi()})),n=null;else{switch(bt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Nl(n,il.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function il(e,t){if(Xc=-1,Zc=0,0!==(6&xc))throw Error(o(327));var n=e.callbackNode;if(El()&&e.callbackNode!==n)return null;var r=dt(e,e===Nc?Pc:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=gl(e,r);else{t=r;var i=xc;xc|=2;var s=pl();for(Nc===e&&Pc===t||(qc=null,Bc=Ye()+500,dl(e,t));;)try{yl();break}catch(c){fl(e,c)}Co(),Sc.current=s,xc=i,null!==Ac?t=0:(Nc=null,Pc=0,t=Dc)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=ol(e,i))),1===t)throw n=Lc,dl(e,0),al(e,r),rl(e,Ye()),n;if(6===t)al(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!ar(o(),i))return!1}catch(a){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=gl(e,r))&&(0!==(s=pt(e))&&(r=s,t=ol(e,s))),1===t))throw n=Lc,dl(e,0),al(e,r),rl(e,Ye()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(o(345));case 2:case 5:_l(e,Vc,qc);break;case 3:if(al(e,r),(130023424&r)===r&&10<(t=zc+500-Ye())){if(0!==dt(e,0))break;if(((i=e.suspendedLanes)&r)!==r){el(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(_l.bind(null,e,Vc,qc),t);break}_l(e,Vc,qc);break;case 4:if(al(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var a=31-st(r);s=1<<a,(a=t[a])>i&&(i=a),r&=~s}if(r=i,10<(r=(120>(r=Ye()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Tc(r/1960))-r)){e.timeoutHandle=ri(_l.bind(null,e,Vc,qc),r);break}_l(e,Vc,qc);break;default:throw Error(o(329))}}}return rl(e,Ye()),e.callbackNode===n?il.bind(null,e):null}function ol(e,t){var n=jc;return e.current.memoizedState.isDehydrated&&(dl(e,t).flags|=256),2!==(e=gl(e,t))&&(t=Vc,Vc=n,null!==t&&sl(t)),e}function sl(e){null===Vc?Vc=e:Vc.push.apply(Vc,e)}function al(e,t){for(t&=~Uc,t&=~Fc,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-st(t),r=1<<n;e[n]=-1,t&=~r}}function cl(e){if(0!==(6&xc))throw Error(o(327));El();var t=dt(e,0);if(0===(1&t))return rl(e,Ye()),null;var n=gl(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=ol(e,r))}if(1===n)throw n=Lc,dl(e,0),al(e,t),rl(e,Ye()),n;if(6===n)throw Error(o(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,_l(e,Vc,qc),rl(e,Ye()),null}function ll(e,t){var n=xc;xc|=1;try{return e(t)}finally{0===(xc=n)&&(Bc=Ye()+500,ji&&Bi())}}function ul(e){null!==Qc&&0===Qc.tag&&0===(6&xc)&&El();var t=xc;xc|=1;var n=Cc.transition,r=wt;try{if(Cc.transition=null,wt=1,e)return e()}finally{wt=r,Cc.transition=n,0===(6&(xc=t))&&Bi()}}function hl(){Rc=Oc.current,Si(Oc)}function dl(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Ac)for(n=Ac.return;null!==n;){var r=n;switch(to(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Oi();break;case 3:Yo(),Si(Ni),Si(xi),rs();break;case 5:Zo(r);break;case 4:Yo();break;case 13:case 19:Si(es);break;case 10:xo(r.type._context);break;case 22:case 23:hl()}n=n.return}if(Nc=e,Ac=e=Ol(e.current,null),Pc=Rc=t,Dc=0,Lc=null,Uc=Fc=Mc=0,Vc=jc=null,null!==Ro){for(t=0;t<Ro.length;t++)if(null!==(r=(n=Ro[t]).interleaved)){n.interleaved=null;var i=r.next,o=n.pending;if(null!==o){var s=o.next;o.next=i,r.next=s}n.pending=r}Ro=null}return e}function fl(e,t){for(;;){var n=Ac;try{if(Co(),is.current=Xs,us){for(var r=as.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}us=!1}if(ss=0,ls=cs=as=null,hs=!1,ds=0,kc.current=null,null===n||null===n.return){Dc=1,Lc=t,Ac=null;break}e:{var s=e,a=n.return,c=n,l=t;if(t=Pc,c.flags|=32768,null!==l&&"object"===typeof l&&"function"===typeof l.then){var u=l,h=c,d=h.tag;if(0===(1&h.mode)&&(0===d||11===d||15===d)){var f=h.alternate;f?(h.updateQueue=f.updateQueue,h.memoizedState=f.memoizedState,h.lanes=f.lanes):(h.updateQueue=null,h.memoizedState=null)}var p=ga(a);if(null!==p){p.flags&=-257,va(p,a,c,0,t),1&p.mode&&ma(s,u,t),l=u;var m=(t=p).updateQueue;if(null===m){var g=new Set;g.add(l),t.updateQueue=g}else m.add(l);break e}if(0===(1&t)){ma(s,u,t),ml();break e}l=Error(o(426))}else if(io&&1&c.mode){var v=ga(a);if(null!==v){0===(65536&v.flags)&&(v.flags|=256),va(v,a,c,0,t),mo(la(l,c));break e}}s=l=la(l,c),4!==Dc&&(Dc=2),null===jc?jc=[s]:jc.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t,Bo(s,fa(0,l,t));break e;case 1:c=l;var y=s.type,w=s.stateNode;if(0===(128&s.flags)&&("function"===typeof y.getDerivedStateFromError||null!==w&&"function"===typeof w.componentDidCatch&&(null===Gc||!Gc.has(w)))){s.flags|=65536,t&=-t,s.lanes|=t,Bo(s,pa(s,c,t));break e}}s=s.return}while(null!==s)}bl(n)}catch(b){t=b,Ac===n&&null!==n&&(Ac=n=n.return);continue}break}}function pl(){var e=Sc.current;return Sc.current=Xs,null===e?Xs:e}function ml(){0!==Dc&&3!==Dc&&2!==Dc||(Dc=4),null===Nc||0===(268435455&Mc)&&0===(268435455&Fc)||al(Nc,Pc)}function gl(e,t){var n=xc;xc|=2;var r=pl();for(Nc===e&&Pc===t||(qc=null,dl(e,t));;)try{vl();break}catch(i){fl(e,i)}if(Co(),xc=n,Sc.current=r,null!==Ac)throw Error(o(261));return Nc=null,Pc=0,Dc}function vl(){for(;null!==Ac;)wl(Ac)}function yl(){for(;null!==Ac&&!Je();)wl(Ac)}function wl(e){var t=Ic(e.alternate,e,Rc);e.memoizedProps=e.pendingProps,null===t?bl(e):Ac=t,kc.current=null}function bl(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Wa(n,t,Rc)))return void(Ac=n)}else{if(null!==(n=Qa(n,t)))return n.flags&=32767,void(Ac=n);if(null===e)return Dc=6,void(Ac=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Ac=t);Ac=t=e}while(null!==t);0===Dc&&(Dc=5)}function _l(e,t,n){var r=wt,i=Cc.transition;try{Cc.transition=null,wt=1,function(e,t,n,r){do{El()}while(null!==Qc);if(0!==(6&xc))throw Error(o(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(o(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-st(n),o=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~o}}(e,s),e===Nc&&(Ac=Nc=null,Pc=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Wc||(Wc=!0,Nl(tt,(function(){return El(),null}))),s=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||s){s=Cc.transition,Cc.transition=null;var a=wt;wt=1;var c=xc;xc|=4,kc.current=null,function(e,t){if(ei=Kt,fr(e=dr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch(_){n=null;break e}var a=0,c=-1,l=-1,u=0,h=0,d=e,f=null;t:for(;;){for(var p;d!==n||0!==i&&3!==d.nodeType||(c=a+i),d!==s||0!==r&&3!==d.nodeType||(l=a+r),3===d.nodeType&&(a+=d.nodeValue.length),null!==(p=d.firstChild);)f=d,d=p;for(;;){if(d===e)break t;if(f===n&&++u===i&&(c=a),f===s&&++h===r&&(l=a),null!==(p=d.nextSibling))break;f=(d=f).parentNode}d=p}n=-1===c||-1===l?null:{start:c,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Kt=!1,Xa=t;null!==Xa;)if(e=(t=Xa).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Xa=e;else for(;null!==Xa;){t=Xa;try{var m=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var g=m.memoizedProps,v=m.memoizedState,y=t.stateNode,w=y.getSnapshotBeforeUpdate(t.elementType===t.type?g:na(t.type,g),v);y.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var b=t.stateNode.containerInfo;1===b.nodeType?b.textContent="":9===b.nodeType&&b.documentElement&&b.removeChild(b.documentElement);break;default:throw Error(o(163))}}catch(_){Tl(t,t.return,_)}if(null!==(e=t.sibling)){e.return=t.return,Xa=e;break}Xa=t.return}m=tc,tc=!1}(e,n),gc(n,e),pr(ti),Kt=!!ei,ti=ei=null,e.current=n,yc(n,e,i),$e(),xc=c,wt=a,Cc.transition=s}else e.current=n;if(Wc&&(Wc=!1,Qc=e,Jc=i),s=e.pendingLanes,0===s&&(Gc=null),function(e){if(ot&&"function"===typeof ot.onCommitFiberRoot)try{ot.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),rl(e,Ye()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Kc)throw Kc=!1,e=Hc,Hc=null,e;0!==(1&Jc)&&0!==e.tag&&El(),s=e.pendingLanes,0!==(1&s)?e===Yc?$c++:($c=0,Yc=e):$c=0,Bi()}(e,t,n,r)}finally{Cc.transition=i,wt=r}return null}function El(){if(null!==Qc){var e=bt(Jc),t=Cc.transition,n=wt;try{if(Cc.transition=null,wt=16>e?16:e,null===Qc)var r=!1;else{if(e=Qc,Qc=null,Jc=0,0!==(6&xc))throw Error(o(331));var i=xc;for(xc|=4,Xa=e.current;null!==Xa;){var s=Xa,a=s.child;if(0!==(16&Xa.flags)){var c=s.deletions;if(null!==c){for(var l=0;l<c.length;l++){var u=c[l];for(Xa=u;null!==Xa;){var h=Xa;switch(h.tag){case 0:case 11:case 15:nc(8,h,s)}var d=h.child;if(null!==d)d.return=h,Xa=d;else for(;null!==Xa;){var f=(h=Xa).sibling,p=h.return;if(oc(h),h===u){Xa=null;break}if(null!==f){f.return=p,Xa=f;break}Xa=p}}}var m=s.alternate;if(null!==m){var g=m.child;if(null!==g){m.child=null;do{var v=g.sibling;g.sibling=null,g=v}while(null!==g)}}Xa=s}}if(0!==(2064&s.subtreeFlags)&&null!==a)a.return=s,Xa=a;else e:for(;null!==Xa;){if(0!==(2048&(s=Xa).flags))switch(s.tag){case 0:case 11:case 15:nc(9,s,s.return)}var y=s.sibling;if(null!==y){y.return=s.return,Xa=y;break e}Xa=s.return}}var w=e.current;for(Xa=w;null!==Xa;){var b=(a=Xa).child;if(0!==(2064&a.subtreeFlags)&&null!==b)b.return=a,Xa=b;else e:for(a=w;null!==Xa;){if(0!==(2048&(c=Xa).flags))try{switch(c.tag){case 0:case 11:case 15:rc(9,c)}}catch(E){Tl(c,c.return,E)}if(c===a){Xa=null;break e}var _=c.sibling;if(null!==_){_.return=c.return,Xa=_;break e}Xa=c.return}}if(xc=i,Bi(),ot&&"function"===typeof ot.onPostCommitFiberRoot)try{ot.onPostCommitFiberRoot(it,e)}catch(E){}r=!0}return r}finally{wt=n,Cc.transition=t}}return!1}function Il(e,t,n){e=Vo(e,t=fa(0,t=la(n,t),1),1),t=el(),null!==e&&(vt(e,1,t),rl(e,t))}function Tl(e,t,n){if(3===e.tag)Il(e,e,n);else for(;null!==t;){if(3===t.tag){Il(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Gc||!Gc.has(r))){t=Vo(t,e=pa(t,e=la(n,e),1),1),e=el(),null!==t&&(vt(t,1,e),rl(t,e));break}}t=t.return}}function Sl(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=el(),e.pingedLanes|=e.suspendedLanes&n,Nc===e&&(Pc&n)===n&&(4===Dc||3===Dc&&(130023424&Pc)===Pc&&500>Ye()-zc?dl(e,0):Uc|=n),rl(e,t)}function kl(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ut,0===(130023424&(ut<<=1))&&(ut=4194304)));var n=el();null!==(e=Lo(e,t))&&(vt(e,t,n),rl(e,n))}function Cl(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),kl(e,n)}function xl(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(o(314))}null!==r&&r.delete(t),kl(e,n)}function Nl(e,t){return We(e,t)}function Al(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pl(e,t,n,r){return new Al(e,t,n,r)}function Rl(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Ol(e,t){var n=e.alternate;return null===n?((n=Pl(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Dl(e,t,n,r,i,s){var a=2;if(r=e,"function"===typeof e)Rl(e)&&(a=1);else if("string"===typeof e)a=5;else e:switch(e){case I:return Ll(n.children,i,s,t);case T:a=8,i|=8;break;case S:return(e=Pl(12,n,t,2|i)).elementType=S,e.lanes=s,e;case N:return(e=Pl(13,n,t,i)).elementType=N,e.lanes=s,e;case A:return(e=Pl(19,n,t,i)).elementType=A,e.lanes=s,e;case O:return Ml(n,i,s,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case k:a=10;break e;case C:a=9;break e;case x:a=11;break e;case P:a=14;break e;case R:a=16,r=null;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=Pl(a,n,t,i)).elementType=e,t.type=r,t.lanes=s,t}function Ll(e,t,n,r){return(e=Pl(7,e,r,t)).lanes=n,e}function Ml(e,t,n,r){return(e=Pl(22,e,r,t)).elementType=O,e.lanes=n,e.stateNode={isHidden:!1},e}function Fl(e,t,n){return(e=Pl(6,e,null,t)).lanes=n,e}function Ul(e,t,n){return(t=Pl(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function jl(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Vl(e,t,n,r,i,o,s,a,c){return e=new jl(e,t,n,a,c),1===t?(t=1,!0===o&&(t|=8)):t=0,o=Pl(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Fo(o),e}function zl(e){if(!e)return Ci;e:{if(Be(e=e._reactInternals)!==e||1!==e.tag)throw Error(o(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ri(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(o(171))}if(1===e.tag){var n=e.type;if(Ri(n))return Li(e,n,t)}return t}function Bl(e,t,n,r,i,o,s,a,c){return(e=Vl(n,r,!0,e,0,o,0,a,c)).context=zl(null),n=e.current,(o=jo(r=el(),i=tl(n))).callback=void 0!==t&&null!==t?t:null,Vo(n,o,i),e.current.lanes=i,vt(e,i,r),rl(e,r),e}function ql(e,t,n,r){var i=t.current,o=el(),s=tl(i);return n=zl(n),null===t.context?t.context=n:t.pendingContext=n,(t=jo(o,s)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Vo(i,t,s))&&(nl(e,i,s,o),zo(e,i,s)),s}function Kl(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Hl(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Gl(e,t){Hl(e,t),(e=e.alternate)&&Hl(e,t)}Ic=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ni.current)wa=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return wa=!1,function(e,t,n){switch(t.tag){case 3:Na(t),po();break;case 5:Xo(t);break;case 1:Ri(t.type)&&Mi(t);break;case 4:$o(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;ki(Io,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(ki(es,1&es.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Fa(e,t,n):(ki(es,1&es.current),null!==(e=Ka(e,t,n))?e.sibling:null);ki(es,1&es.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Ba(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),ki(es,es.current),r)break;return null;case 22:case 23:return t.lanes=0,Ta(e,t,n)}return Ka(e,t,n)}(e,t,n);wa=0!==(131072&e.flags)}else wa=!1,io&&0!==(1048576&t.flags)&&Zi(t,Gi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;qa(e,t),e=t.pendingProps;var i=Pi(t,xi.current);Ao(t,n),i=gs(null,t,r,e,i,n);var s=vs();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ri(r)?(s=!0,Mi(t)):s=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Fo(t),i.updater=ia,t.stateNode=i,i._reactInternals=t,ca(t,r,e,n),t=xa(null,t,r,!0,s,n)):(t.tag=0,io&&s&&eo(t),ba(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(qa(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Rl(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===x)return 11;if(e===P)return 14}return 2}(r),e=na(r,e),i){case 0:t=ka(null,t,r,e,n);break e;case 1:t=Ca(null,t,r,e,n);break e;case 11:t=_a(null,t,r,e,n);break e;case 14:t=Ea(null,t,r,na(r.type,e),n);break e}throw Error(o(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,ka(e,t,r,i=t.elementType===r?i:na(r,i),n);case 1:return r=t.type,i=t.pendingProps,Ca(e,t,r,i=t.elementType===r?i:na(r,i),n);case 3:e:{if(Na(t),null===e)throw Error(o(387));r=t.pendingProps,i=(s=t.memoizedState).element,Uo(e,t),qo(t,r,null,n);var a=t.memoizedState;if(r=a.element,s.isDehydrated){if(s={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=s,t.memoizedState=s,256&t.flags){t=Aa(e,t,r,n,i=la(Error(o(423)),t));break e}if(r!==i){t=Aa(e,t,r,n,i=la(Error(o(424)),t));break e}for(ro=li(t.stateNode.containerInfo.firstChild),no=t,io=!0,oo=null,n=Eo(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(po(),r===i){t=Ka(e,t,n);break e}ba(e,t,r,n)}t=t.child}return t;case 5:return Xo(t),null===e&&lo(t),r=t.type,i=t.pendingProps,s=null!==e?e.memoizedProps:null,a=i.children,ni(r,i)?a=null:null!==s&&ni(r,s)&&(t.flags|=32),Sa(e,t),ba(e,t,a,n),t.child;case 6:return null===e&&lo(t),null;case 13:return Fa(e,t,n);case 4:return $o(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=_o(t,null,r,n):ba(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,_a(e,t,r,i=t.elementType===r?i:na(r,i),n);case 7:return ba(e,t,t.pendingProps,n),t.child;case 8:case 12:return ba(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,s=t.memoizedProps,a=i.value,ki(Io,r._currentValue),r._currentValue=a,null!==s)if(ar(s.value,a)){if(s.children===i.children&&!Ni.current){t=Ka(e,t,n);break e}}else for(null!==(s=t.child)&&(s.return=t);null!==s;){var c=s.dependencies;if(null!==c){a=s.child;for(var l=c.firstContext;null!==l;){if(l.context===r){if(1===s.tag){(l=jo(-1,n&-n)).tag=2;var u=s.updateQueue;if(null!==u){var h=(u=u.shared).pending;null===h?l.next=l:(l.next=h.next,h.next=l),u.pending=l}}s.lanes|=n,null!==(l=s.alternate)&&(l.lanes|=n),No(s.return,n,t),c.lanes|=n;break}l=l.next}}else if(10===s.tag)a=s.type===t.type?null:s.child;else if(18===s.tag){if(null===(a=s.return))throw Error(o(341));a.lanes|=n,null!==(c=a.alternate)&&(c.lanes|=n),No(a,n,t),a=s.sibling}else a=s.child;if(null!==a)a.return=s;else for(a=s;null!==a;){if(a===t){a=null;break}if(null!==(s=a.sibling)){s.return=a.return,a=s;break}a=a.return}s=a}ba(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Ao(t,n),r=r(i=Po(i)),t.flags|=1,ba(e,t,r,n),t.child;case 14:return i=na(r=t.type,t.pendingProps),Ea(e,t,r,i=na(r.type,i),n);case 15:return Ia(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:na(r,i),qa(e,t),t.tag=1,Ri(r)?(e=!0,Mi(t)):e=!1,Ao(t,n),sa(t,r,i),ca(t,r,i,n),xa(null,t,r,!0,e,n);case 19:return Ba(e,t,n);case 22:return Ta(e,t,n)}throw Error(o(156,t.tag))};var Wl="function"===typeof reportError?reportError:function(e){console.error(e)};function Ql(e){this._internalRoot=e}function Jl(e){this._internalRoot=e}function $l(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Yl(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Xl(){}function Zl(e,t,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if("function"===typeof i){var a=i;i=function(){var e=Kl(s);a.call(e)}}ql(t,s,e,i)}else s=function(e,t,n,r,i){if(i){if("function"===typeof r){var o=r;r=function(){var e=Kl(s);o.call(e)}}var s=Bl(t,r,e,0,null,!1,0,"",Xl);return e._reactRootContainer=s,e[pi]=s.current,Br(8===e.nodeType?e.parentNode:e),ul(),s}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var a=r;r=function(){var e=Kl(c);a.call(e)}}var c=Vl(e,0,!1,null,0,!1,0,"",Xl);return e._reactRootContainer=c,e[pi]=c.current,Br(8===e.nodeType?e.parentNode:e),ul((function(){ql(t,c,n,r)})),c}(n,t,e,i,r);return Kl(s)}Jl.prototype.render=Ql.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(o(409));ql(e,t,null,null)},Jl.prototype.unmount=Ql.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;ul((function(){ql(null,e,null,null)})),t[pi]=null}},Jl.prototype.unstable_scheduleHydration=function(e){if(e){var t=Tt();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Ot.length&&0!==t&&t<Ot[n].priority;n++);Ot.splice(n,0,e),0===n&&Ft(e)}},_t=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ht(t.pendingLanes);0!==n&&(yt(t,1|n),rl(t,Ye()),0===(6&xc)&&(Bc=Ye()+500,Bi()))}break;case 13:ul((function(){var t=Lo(e,1);if(null!==t){var n=el();nl(t,e,1,n)}})),Gl(e,1)}},Et=function(e){if(13===e.tag){var t=Lo(e,134217728);if(null!==t)nl(t,e,134217728,el());Gl(e,134217728)}},It=function(e){if(13===e.tag){var t=tl(e),n=Lo(e,t);if(null!==n)nl(n,e,t,el());Gl(e,t)}},Tt=function(){return wt},St=function(e,t){var n=wt;try{return wt=e,t()}finally{wt=n}},Ee=function(e,t,n){switch(t){case"input":if(X(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=_i(r);if(!i)throw Error(o(90));W(r),X(r,i)}}}break;case"textarea":oe(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},xe=ll,Ne=ul;var eu={usingClientEntryPoint:!1,Events:[wi,bi,_i,ke,Ce,ll]},tu={findFiberByHostInstance:yi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},nu={bundleType:tu.bundleType,version:tu.version,rendererPackageName:tu.rendererPackageName,rendererConfig:tu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=He(e))?null:e.stateNode},findFiberByHostInstance:tu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ru=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ru.isDisabled&&ru.supportsFiber)try{it=ru.inject(nu),ot=ru}catch(ue){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=eu,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!$l(t))throw Error(o(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:E,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!$l(e))throw Error(o(299));var n=!1,r="",i=Wl;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Vl(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,Br(8===e.nodeType?e.parentNode:e),new Ql(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw e=Object.keys(e).join(","),Error(o(268,e))}return e=null===(e=He(t))?null:e.stateNode},t.flushSync=function(e){return ul(e)},t.hydrate=function(e,t,n){if(!Yl(t))throw Error(o(200));return Zl(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!$l(e))throw Error(o(405));var r=null!=n&&n.hydratedSources||null,i=!1,s="",a=Wl;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(s=n.identifierPrefix),void 0!==n.onRecoverableError&&(a=n.onRecoverableError)),t=Bl(t,null,e,1,null!=n?n:null,i,0,s,a),e[pi]=t.current,Br(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Jl(t)},t.render=function(e,t,n){if(!Yl(t))throw Error(o(200));return Zl(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Yl(e))throw Error(o(40));return!!e._reactRootContainer&&(ul((function(){Zl(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=ll,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Yl(n))throw Error(o(200));if(null==e||void 0===e._reactInternals)throw Error(o(38));return Zl(e,t,n,!1,r)},t.version="18.3.1-next-f1338f8080-20240426"},391:(e,t,n)=>{"use strict";var r=n(950);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},950:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(730)},82:(e,t)=>{"use strict";var n=60103,r=60106,i=60107,o=60108,s=60114,a=60109,c=60110,l=60112,u=60113,h=60120,d=60115,f=60116,p=60121,m=60122,g=60117,v=60129,y=60131;if("function"===typeof Symbol&&Symbol.for){var w=Symbol.for;n=w("react.element"),r=w("react.portal"),i=w("react.fragment"),o=w("react.strict_mode"),s=w("react.profiler"),a=w("react.provider"),c=w("react.context"),l=w("react.forward_ref"),u=w("react.suspense"),h=w("react.suspense_list"),d=w("react.memo"),f=w("react.lazy"),p=w("react.block"),m=w("react.server.block"),g=w("react.fundamental"),v=w("react.debug_trace_mode"),y=w("react.legacy_hidden")}function b(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case n:switch(e=e.type){case i:case s:case o:case u:case h:return e;default:switch(e=e&&e.$$typeof){case c:case l:case f:case d:case a:return e;default:return t}}case r:return t}}}t.isForwardRef=function(e){return b(e)===l}},86:(e,t,n)=>{"use strict";e.exports=n(82)},153:(e,t,n)=>{"use strict";var r=n(43),i=Symbol.for("react.element"),o=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};function l(e,t,n){var r,o={},l=null,u=null;for(r in void 0!==n&&(l=""+n),void 0!==t.key&&(l=""+t.key),void 0!==t.ref&&(u=t.ref),t)s.call(t,r)&&!c.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===o[r]&&(o[r]=t[r]);return{$$typeof:i,type:e,key:l,ref:u,props:o,_owner:a.current}}t.Fragment=o,t.jsx=l,t.jsxs=l},202:(e,t)=>{"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),c=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),f=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function v(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}function y(){}function w(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=v.prototype;var b=w.prototype=new y;b.constructor=w,m(b,v.prototype),b.isPureReactComponent=!0;var _=Array.isArray,E=Object.prototype.hasOwnProperty,I={current:null},T={key:!0,ref:!0,__self:!0,__source:!0};function S(e,t,r){var i,o={},s=null,a=null;if(null!=t)for(i in void 0!==t.ref&&(a=t.ref),void 0!==t.key&&(s=""+t.key),t)E.call(t,i)&&!T.hasOwnProperty(i)&&(o[i]=t[i]);var c=arguments.length-2;if(1===c)o.children=r;else if(1<c){for(var l=Array(c),u=0;u<c;u++)l[u]=arguments[u+2];o.children=l}if(e&&e.defaultProps)for(i in c=e.defaultProps)void 0===o[i]&&(o[i]=c[i]);return{$$typeof:n,type:e,key:s,ref:a,props:o,_owner:I.current}}function k(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var C=/\/+/g;function x(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function N(e,t,i,o,s){var a=typeof e;"undefined"!==a&&"boolean"!==a||(e=null);var c=!1;if(null===e)c=!0;else switch(a){case"string":case"number":c=!0;break;case"object":switch(e.$$typeof){case n:case r:c=!0}}if(c)return s=s(c=e),e=""===o?"."+x(c,0):o,_(s)?(i="",null!=e&&(i=e.replace(C,"$&/")+"/"),N(s,t,i,"",(function(e){return e}))):null!=s&&(k(s)&&(s=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(s,i+(!s.key||c&&c.key===s.key?"":(""+s.key).replace(C,"$&/")+"/")+e)),t.push(s)),1;if(c=0,o=""===o?".":o+":",_(e))for(var l=0;l<e.length;l++){var u=o+x(a=e[l],l);c+=N(a,t,i,u,s)}else if(u=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"===typeof u)for(e=u.call(e),l=0;!(a=e.next()).done;)c+=N(a=a.value,t,i,u=o+x(a,l++),s);else if("object"===a)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return c}function A(e,t,n){if(null==e)return e;var r=[],i=0;return N(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function P(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var R={current:null},O={transition:null},D={ReactCurrentDispatcher:R,ReactCurrentBatchConfig:O,ReactCurrentOwner:I};function L(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:A,forEach:function(e,t,n){A(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return A(e,(function(){t++})),t},toArray:function(e){return A(e,(function(e){return e}))||[]},only:function(e){if(!k(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=v,t.Fragment=i,t.Profiler=s,t.PureComponent=w,t.StrictMode=o,t.Suspense=u,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=D,t.act=L,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=m({},e.props),o=e.key,s=e.ref,a=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,a=I.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(l in t)E.call(t,l)&&!T.hasOwnProperty(l)&&(i[l]=void 0===t[l]&&void 0!==c?c[l]:t[l])}var l=arguments.length-2;if(1===l)i.children=r;else if(1<l){c=Array(l);for(var u=0;u<l;u++)c[u]=arguments[u+2];i.children=c}return{$$typeof:n,type:e.type,key:o,ref:s,props:i,_owner:a}},t.createContext=function(e){return(e={$$typeof:c,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:a,_context:e},e.Consumer=e},t.createElement=S,t.createFactory=function(e){var t=S.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:l,render:e}},t.isValidElement=k,t.lazy=function(e){return{$$typeof:d,_payload:{_status:-1,_result:e},_init:P}},t.memo=function(e,t){return{$$typeof:h,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=O.transition;O.transition={};try{e()}finally{O.transition=t}},t.unstable_act=L,t.useCallback=function(e,t){return R.current.useCallback(e,t)},t.useContext=function(e){return R.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return R.current.useDeferredValue(e)},t.useEffect=function(e,t){return R.current.useEffect(e,t)},t.useId=function(){return R.current.useId()},t.useImperativeHandle=function(e,t,n){return R.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return R.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return R.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return R.current.useMemo(e,t)},t.useReducer=function(e,t,n){return R.current.useReducer(e,t,n)},t.useRef=function(e){return R.current.useRef(e)},t.useState=function(e){return R.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return R.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return R.current.useTransition()},t.version="18.3.1"},43:(e,t,n)=>{"use strict";e.exports=n(202)},579:(e,t,n)=>{"use strict";e.exports=n(153)},234:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<o(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,s=i>>>1;r<s;){var a=2*(r+1)-1,c=e[a],l=a+1,u=e[l];if(0>o(c,n))l<i&&0>o(u,c)?(e[r]=u,e[l]=n,r=l):(e[r]=c,e[a]=n,r=a);else{if(!(l<i&&0>o(u,n)))break e;e[r]=u,e[l]=n,r=l}}}return t}function o(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,c=a.now();t.unstable_now=function(){return a.now()-c}}var l=[],u=[],h=1,d=null,f=3,p=!1,m=!1,g=!1,v="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,w="undefined"!==typeof setImmediate?setImmediate:null;function b(e){for(var t=r(u);null!==t;){if(null===t.callback)i(u);else{if(!(t.startTime<=e))break;i(u),t.sortIndex=t.expirationTime,n(l,t)}t=r(u)}}function _(e){if(g=!1,b(e),!m)if(null!==r(l))m=!0,O(E);else{var t=r(u);null!==t&&D(_,t.startTime-e)}}function E(e,n){m=!1,g&&(g=!1,y(k),k=-1),p=!0;var o=f;try{for(b(n),d=r(l);null!==d&&(!(d.expirationTime>n)||e&&!N());){var s=d.callback;if("function"===typeof s){d.callback=null,f=d.priorityLevel;var a=s(d.expirationTime<=n);n=t.unstable_now(),"function"===typeof a?d.callback=a:d===r(l)&&i(l),b(n)}else i(l);d=r(l)}if(null!==d)var c=!0;else{var h=r(u);null!==h&&D(_,h.startTime-n),c=!1}return c}finally{d=null,f=o,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var I,T=!1,S=null,k=-1,C=5,x=-1;function N(){return!(t.unstable_now()-x<C)}function A(){if(null!==S){var e=t.unstable_now();x=e;var n=!0;try{n=S(!0,e)}finally{n?I():(T=!1,S=null)}}else T=!1}if("function"===typeof w)I=function(){w(A)};else if("undefined"!==typeof MessageChannel){var P=new MessageChannel,R=P.port2;P.port1.onmessage=A,I=function(){R.postMessage(null)}}else I=function(){v(A,0)};function O(e){S=e,T||(T=!0,I())}function D(e,n){k=v((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,O(E))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,i,o){var s=t.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?s+o:s:o=s,e){case 1:var a=-1;break;case 2:a=250;break;case 5:a=1073741823;break;case 4:a=1e4;break;default:a=5e3}return e={id:h++,callback:i,priorityLevel:e,startTime:o,expirationTime:a=o+a,sortIndex:-1},o>s?(e.sortIndex=o,n(u,e),null===r(l)&&e===r(u)&&(g?(y(k),k=-1):g=!0,D(_,o-s))):(e.sortIndex=a,n(l,e),m||p||(m=!0,O(E))),e},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},853:(e,t,n)=>{"use strict";e.exports=n(234)},324:e=>{e.exports=function(e,t,n,r){var i=n?n.call(r,e,t):void 0;if(void 0!==i)return!!i;if(e===t)return!0;if("object"!==typeof e||!e||"object"!==typeof t||!t)return!1;var o=Object.keys(e),s=Object.keys(t);if(o.length!==s.length)return!1;for(var a=Object.prototype.hasOwnProperty.bind(t),c=0;c<o.length;c++){var l=o[c];if(!a(l))return!1;var u=e[l],h=t[l];if(!1===(i=n?n.call(r,u,h,l):void 0)||void 0===i&&u!==h)return!1}return!0}}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={exports:{}};return e[r].call(o.exports,o,o.exports,n),o.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var o=Object.create(null);n.r(o);var s={};e=e||[null,t({}),t([]),t(t)];for(var a=2&i&&r;"object"==typeof a&&!~e.indexOf(a);a=t(a))Object.getOwnPropertyNames(a).forEach((e=>s[e]=()=>r[e]));return s.default=()=>r,n.d(o,s),o}})(),n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{"use strict";var e={};n.r(e),n.d(e,{FirebaseError:()=>yo,SDK_VERSION:()=>Js,_DEFAULT_ENTRY_NAME:()=>Os,_addComponent:()=>Us,_addOrOverwriteComponent:()=>js,_apps:()=>Ls,_clearComponents:()=>Hs,_components:()=>Fs,_getProvider:()=>zs,_isFirebaseApp:()=>qs,_isFirebaseServerApp:()=>Ks,_registerComponent:()=>Vs,_removeServiceInstance:()=>Bs,_serverApps:()=>Ms,deleteApp:()=>ea,getApp:()=>Xs,getApps:()=>Zs,initializeApp:()=>$s,initializeServerApp:()=>Ys,onLog:()=>na,registerVersion:()=>ta,setLogLevel:()=>ra});var t,r=n(391),i=n(43),o=n.t(i,2),s=n(950),a=n.t(s,2);function c(){return c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(t||(t={}));const l="popstate";function u(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function h(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function d(e,t){return{usr:e.state,key:e.key,idx:t}}function f(e,t,n,r){return void 0===n&&(n=null),c({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?m(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function p(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function m(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function g(e,n,r,i){void 0===i&&(i={});let{window:o=document.defaultView,v5Compat:s=!1}=i,a=o.history,h=t.Pop,m=null,g=v();function v(){return(a.state||{idx:null}).idx}function y(){h=t.Pop;let e=v(),n=null==e?null:e-g;g=e,m&&m({action:h,location:b.location,delta:n})}function w(e){let t="null"!==o.location.origin?o.location.origin:o.location.href,n="string"===typeof e?e:p(e);return n=n.replace(/ $/,"%20"),u(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==g&&(g=0,a.replaceState(c({},a.state,{idx:g}),""));let b={get action(){return h},get location(){return e(o,a)},listen(e){if(m)throw new Error("A history only accepts one active listener");return o.addEventListener(l,y),m=e,()=>{o.removeEventListener(l,y),m=null}},createHref:e=>n(o,e),createURL:w,encodeLocation(e){let t=w(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,n){h=t.Push;let i=f(b.location,e,n);r&&r(i,e),g=v()+1;let c=d(i,g),l=b.createHref(i);try{a.pushState(c,"",l)}catch(u){if(u instanceof DOMException&&"DataCloneError"===u.name)throw u;o.location.assign(l)}s&&m&&m({action:h,location:b.location,delta:1})},replace:function(e,n){h=t.Replace;let i=f(b.location,e,n);r&&r(i,e),g=v();let o=d(i,g),c=b.createHref(i);a.replaceState(o,"",c),s&&m&&m({action:h,location:b.location,delta:0})},go:e=>a.go(e)};return b}var v;!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(v||(v={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function y(e,t,n){void 0===n&&(n="/");let r=R(("string"===typeof t?m(t):t).pathname||"/",n);if(null==r)return null;let i=w(e);!function(e){e.sort(((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every(((e,n)=>e===t[n]));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((e=>e.childrenIndex)),t.routesMeta.map((e=>e.childrenIndex)))))}(i);let o=null;for(let s=0;null==o&&s<i.length;++s){let e=P(r);o=N(i[s],e)}return o}function w(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");let i=(e,i,o)=>{let s={relativePath:void 0===o?e.path||"":o,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};s.relativePath.startsWith("/")&&(u(s.relativePath.startsWith(r),'Absolute route path "'+s.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),s.relativePath=s.relativePath.slice(r.length));let a=F([r,s.relativePath]),c=n.concat(s);e.children&&e.children.length>0&&(u(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+a+'".'),w(e.children,t,c,a)),(null!=e.path||e.index)&&t.push({path:a,score:x(a,e.index),routesMeta:c})};return e.forEach(((e,t)=>{var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?"))for(let r of b(e.path))i(e,t,r);else i(e,t)})),t}function b(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(0===r.length)return i?[o,""]:[o];let s=b(r.join("/")),a=[];return a.push(...s.map((e=>""===e?o:[o,e].join("/")))),i&&a.push(...s),a.map((t=>e.startsWith("/")&&""===t?"/":t))}const _=/^:[\w-]+$/,E=3,I=2,T=1,S=10,k=-2,C=e=>"*"===e;function x(e,t){let n=e.split("/"),r=n.length;return n.some(C)&&(r+=k),t&&(r+=I),n.filter((e=>!C(e))).reduce(((e,t)=>e+(_.test(t)?E:""===t?T:S)),r)}function N(e,t){let{routesMeta:n}=e,r={},i="/",o=[];for(let s=0;s<n.length;++s){let e=n[s],a=s===n.length-1,c="/"===i?t:t.slice(i.length)||"/",l=A({path:e.relativePath,caseSensitive:e.caseSensitive,end:a},c);if(!l)return null;Object.assign(r,l.params);let u=e.route;o.push({params:r,pathname:F([i,l.pathname]),pathnameBase:U(F([i,l.pathnameBase])),route:u}),"/"!==l.pathnameBase&&(i=F([i,l.pathnameBase]))}return o}function A(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);h("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,((e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)")));e.endsWith("*")?(r.push({paramName:"*"}),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");let o=new RegExp(i,t?void 0:"i");return[o,r]}(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let o=i[0],s=o.replace(/(.)\/+$/,"$1"),a=i.slice(1),c=r.reduce(((e,t,n)=>{let{paramName:r,isOptional:i}=t;if("*"===r){let e=a[n]||"";s=o.slice(0,o.length-e.length).replace(/(.)\/+$/,"$1")}const c=a[n];return e[r]=i&&!c?void 0:(c||"").replace(/%2F/g,"/"),e}),{});return{params:c,pathname:o,pathnameBase:s,pattern:e}}function P(e){try{return e.split("/").map((e=>decodeURIComponent(e).replace(/\//g,"%2F"))).join("/")}catch(t){return h(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function R(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function O(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function D(e){return e.filter(((e,t)=>0===t||e.route.path&&e.route.path.length>0))}function L(e,t){let n=D(e);return t?n.map(((t,n)=>n===e.length-1?t.pathname:t.pathnameBase)):n.map((e=>e.pathnameBase))}function M(e,t,n,r){let i;void 0===r&&(r=!1),"string"===typeof e?i=m(e):(i=c({},e),u(!i.pathname||!i.pathname.includes("?"),O("?","pathname","search",i)),u(!i.pathname||!i.pathname.includes("#"),O("#","pathname","hash",i)),u(!i.search||!i.search.includes("#"),O("#","search","hash",i)));let o,s=""===e||""===i.pathname,a=s?"/":i.pathname;if(null==a)o=n;else{let e=t.length-1;if(!r&&a.startsWith("..")){let t=a.split("/");for(;".."===t[0];)t.shift(),e-=1;i.pathname=t.join("/")}o=e>=0?t[e]:"/"}let l=function(e,t){void 0===t&&(t="/");let{pathname:n,search:r="",hash:i=""}="string"===typeof e?m(e):e,o=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:o,search:j(r),hash:V(i)}}(i,o),h=a&&"/"!==a&&a.endsWith("/"),d=(s||"."===a)&&n.endsWith("/");return l.pathname.endsWith("/")||!h&&!d||(l.pathname+="/"),l}const F=e=>e.join("/").replace(/\/\/+/g,"/"),U=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),j=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",V=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";Error;function z(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}const B=["post","put","patch","delete"],q=(new Set(B),["get",...B]);new Set(q),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function K(){return K=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},K.apply(this,arguments)}const H=i.createContext(null);const G=i.createContext(null);const W=i.createContext(null);const Q=i.createContext(null);const J=i.createContext({outlet:null,matches:[],isDataRoute:!1});const $=i.createContext(null);function Y(){return null!=i.useContext(Q)}function X(){return Y()||u(!1),i.useContext(Q).location}function Z(e){i.useContext(W).static||i.useLayoutEffect(e)}function ee(){let{isDataRoute:e}=i.useContext(J);return e?function(){let{router:e}=he(le.UseNavigateStable),t=fe(ue.UseNavigateStable),n=i.useRef(!1);Z((()=>{n.current=!0}));let r=i.useCallback((function(r,i){void 0===i&&(i={}),n.current&&("number"===typeof r?e.navigate(r):e.navigate(r,K({fromRouteId:t},i)))}),[e,t]);return r}():function(){Y()||u(!1);let e=i.useContext(H),{basename:t,future:n,navigator:r}=i.useContext(W),{matches:o}=i.useContext(J),{pathname:s}=X(),a=JSON.stringify(L(o,n.v7_relativeSplatPath)),c=i.useRef(!1);return Z((()=>{c.current=!0})),i.useCallback((function(n,i){if(void 0===i&&(i={}),!c.current)return;if("number"===typeof n)return void r.go(n);let o=M(n,JSON.parse(a),s,"path"===i.relative);null==e&&"/"!==t&&(o.pathname="/"===o.pathname?t:F([t,o.pathname])),(i.replace?r.replace:r.push)(o,i.state,i)}),[t,r,a,s,e])}()}const te=i.createContext(null);function ne(e,t){let{relative:n}=void 0===t?{}:t,{future:r}=i.useContext(W),{matches:o}=i.useContext(J),{pathname:s}=X(),a=JSON.stringify(L(o,r.v7_relativeSplatPath));return i.useMemo((()=>M(e,JSON.parse(a),s,"path"===n)),[e,a,s,n])}function re(e,n,r,o){Y()||u(!1);let{navigator:s}=i.useContext(W),{matches:a}=i.useContext(J),c=a[a.length-1],l=c?c.params:{},h=(c&&c.pathname,c?c.pathnameBase:"/");c&&c.route;let d,f=X();if(n){var p;let e="string"===typeof n?m(n):n;"/"===h||(null==(p=e.pathname)?void 0:p.startsWith(h))||u(!1),d=e}else d=f;let g=d.pathname||"/",v=g;if("/"!==h){let e=h.replace(/^\//,"").split("/");v="/"+g.replace(/^\//,"").split("/").slice(e.length).join("/")}let w=y(e,{pathname:v});let b=ce(w&&w.map((e=>Object.assign({},e,{params:Object.assign({},l,e.params),pathname:F([h,s.encodeLocation?s.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?h:F([h,s.encodeLocation?s.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])}))),a,r,o);return n&&b?i.createElement(Q.Provider,{value:{location:K({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:t.Pop}},b):b}function ie(){let e=function(){var e;let t=i.useContext($),n=de(ue.UseRouteError),r=fe(ue.UseRouteError);if(void 0!==t)return t;return null==(e=n.errors)?void 0:e[r]}(),t=z(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:r};return i.createElement(i.Fragment,null,i.createElement("h2",null,"Unexpected Application Error!"),i.createElement("h3",{style:{fontStyle:"italic"}},t),n?i.createElement("pre",{style:o},n):null,null)}const oe=i.createElement(ie,null);class se extends i.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?i.createElement(J.Provider,{value:this.props.routeContext},i.createElement($.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function ae(e){let{routeContext:t,match:n,children:r}=e,o=i.useContext(H);return o&&o.static&&o.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=n.route.id),i.createElement(J.Provider,{value:t},r)}function ce(e,t,n,r){var o;if(void 0===t&&(t=[]),void 0===n&&(n=null),void 0===r&&(r=null),null==e){var s;if(null==(s=n)||!s.errors)return null;e=n.matches}let a=e,c=null==(o=n)?void 0:o.errors;if(null!=c){let e=a.findIndex((e=>e.route.id&&void 0!==(null==c?void 0:c[e.route.id])));e>=0||u(!1),a=a.slice(0,Math.min(a.length,e+1))}let l=!1,h=-1;if(n&&r&&r.v7_partialHydration)for(let i=0;i<a.length;i++){let e=a[i];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(h=i),e.route.id){let{loaderData:t,errors:r}=n,i=e.route.loader&&void 0===t[e.route.id]&&(!r||void 0===r[e.route.id]);if(e.route.lazy||i){l=!0,a=h>=0?a.slice(0,h+1):[a[0]];break}}}return a.reduceRight(((e,r,o)=>{let s,u=!1,d=null,f=null;var p;n&&(s=c&&r.route.id?c[r.route.id]:void 0,d=r.route.errorElement||oe,l&&(h<0&&0===o?(p="route-fallback",!1||pe[p]||(pe[p]=!0),u=!0,f=null):h===o&&(u=!0,f=r.route.hydrateFallbackElement||null)));let m=t.concat(a.slice(0,o+1)),g=()=>{let t;return t=s?d:u?f:r.route.Component?i.createElement(r.route.Component,null):r.route.element?r.route.element:e,i.createElement(ae,{match:r,routeContext:{outlet:e,matches:m,isDataRoute:null!=n},children:t})};return n&&(r.route.ErrorBoundary||r.route.errorElement||0===o)?i.createElement(se,{location:n.location,revalidation:n.revalidation,component:d,error:s,children:g(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):g()}),null)}var le=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(le||{}),ue=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(ue||{});function he(e){let t=i.useContext(H);return t||u(!1),t}function de(e){let t=i.useContext(G);return t||u(!1),t}function fe(e){let t=function(e){let t=i.useContext(J);return t||u(!1),t}(),n=t.matches[t.matches.length-1];return n.route.id||u(!1),n.route.id}const pe={};o.startTransition;function me(e){let{to:t,replace:n,state:r,relative:o}=e;Y()||u(!1);let{future:s,static:a}=i.useContext(W),{matches:c}=i.useContext(J),{pathname:l}=X(),h=ee(),d=M(t,L(c,s.v7_relativeSplatPath),l,"path"===o),f=JSON.stringify(d);return i.useEffect((()=>h(JSON.parse(f),{replace:n,state:r,relative:o})),[h,f,o,n,r]),null}function ge(e){return function(e){let t=i.useContext(J).outlet;return t?i.createElement(te.Provider,{value:e},t):t}(e.context)}function ve(e){u(!1)}function ye(e){let{basename:n="/",children:r=null,location:o,navigationType:s=t.Pop,navigator:a,static:c=!1,future:l}=e;Y()&&u(!1);let h=n.replace(/^\/*/,"/"),d=i.useMemo((()=>({basename:h,navigator:a,static:c,future:K({v7_relativeSplatPath:!1},l)})),[h,l,a,c]);"string"===typeof o&&(o=m(o));let{pathname:f="/",search:p="",hash:g="",state:v=null,key:y="default"}=o,w=i.useMemo((()=>{let e=R(f,h);return null==e?null:{location:{pathname:e,search:p,hash:g,state:v,key:y},navigationType:s}}),[h,f,p,g,v,y,s]);return null==w?null:i.createElement(W.Provider,{value:d},i.createElement(Q.Provider,{children:r,value:w}))}function we(e){let{children:t,location:n}=e;return re(be(t),n)}new Promise((()=>{}));i.Component;function be(e,t){void 0===t&&(t=[]);let n=[];return i.Children.forEach(e,((e,r)=>{if(!i.isValidElement(e))return;let o=[...t,r];if(e.type===i.Fragment)return void n.push.apply(n,be(e.props.children,o));e.type!==ve&&u(!1),e.props.index&&e.props.children&&u(!1);let s={id:e.props.id||o.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(s.children=be(e.props.children,o)),n.push(s)})),n}function _e(){return _e=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_e.apply(this,arguments)}function Ee(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);const Ie=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"];try{window.__reactRouterVersion="6"}catch(vV){}new Map;const Te=o.startTransition;a.flushSync,o.useId;function Se(e){let{basename:t,children:n,future:r,window:o}=e,s=i.useRef();var a;null==s.current&&(s.current=(void 0===(a={window:o,v5Compat:!0})&&(a={}),g((function(e,t){let{pathname:n,search:r,hash:i}=e.location;return f("",{pathname:n,search:r,hash:i},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"===typeof t?t:p(t)}),null,a)));let c=s.current,[l,u]=i.useState({action:c.action,location:c.location}),{v7_startTransition:h}=r||{},d=i.useCallback((e=>{h&&Te?Te((()=>u(e))):u(e)}),[u,h]);return i.useLayoutEffect((()=>c.listen(d)),[c,d]),i.createElement(ye,{basename:t,children:n,location:l.location,navigationType:l.action,navigator:c,future:r})}const ke="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,Ce=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,xe=i.forwardRef((function(e,t){let n,{onClick:r,relative:o,reloadDocument:s,replace:a,state:c,target:l,to:h,preventScrollReset:d,unstable_viewTransition:f}=e,m=Ee(e,Ie),{basename:g}=i.useContext(W),v=!1;if("string"===typeof h&&Ce.test(h)&&(n=h,ke))try{let e=new URL(window.location.href),t=h.startsWith("//")?new URL(e.protocol+h):new URL(h),n=R(t.pathname,g);t.origin===e.origin&&null!=n?h=n+t.search+t.hash:v=!0}catch(vV){}let y=function(e,t){let{relative:n}=void 0===t?{}:t;Y()||u(!1);let{basename:r,navigator:o}=i.useContext(W),{hash:s,pathname:a,search:c}=ne(e,{relative:n}),l=a;return"/"!==r&&(l="/"===a?r:F([r,a])),o.createHref({pathname:l,search:c,hash:s})}(h,{relative:o}),w=function(e,t){let{target:n,replace:r,state:o,preventScrollReset:s,relative:a,unstable_viewTransition:c}=void 0===t?{}:t,l=ee(),u=X(),h=ne(e,{relative:a});return i.useCallback((t=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,n)){t.preventDefault();let n=void 0!==r?r:p(u)===p(h);l(e,{replace:n,state:o,preventScrollReset:s,relative:a,unstable_viewTransition:c})}}),[u,l,h,r,o,n,e,s,a,c])}(h,{replace:a,state:c,target:l,preventScrollReset:d,relative:o,unstable_viewTransition:f});return i.createElement("a",_e({},m,{href:n||y,onClick:v||s?r:function(e){r&&r(e),e.defaultPrevented||w(e)},ref:t,target:l}))}));var Ne,Ae;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Ne||(Ne={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(Ae||(Ae={}));function Pe(){return Pe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Pe.apply(this,arguments)}function Re(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=Re(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}const Oe=function(){for(var e,t,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(t=Re(e))&&(r&&(r+=" "),r+=t);return r};var De={1:"one",2:"two",3:"three",4:"four",5:"five",6:"six",7:"seven",8:"eight",9:"nine",10:"ten",11:"eleven",12:"twelve",13:"thirteen",14:"fourteen",15:"fifteen",16:"sixteen"};function Le(e){var t=typeof e;return"string"===t||"number"===t?De[e]||e:""}var Me=function(e,t){return e&&t},Fe=function(e,t){return e&&!0!==e&&e+" "+t},Ue=function(e,t){return e&&(!0===e?t:e+" "+t)},je=function(e,t){return e&&!0!==e?e.replace("large screen","large-screen").replace(/ vertically/g,"-vertically").split(" ").map((function(e){return e.replace("-"," ")+" "+t})).join(" "):null},Ve=function(e){return"justified"===e?"justified":Fe(e,"aligned")},ze=function(e){return Fe(e,"aligned")},Be=function(e,t,n){if(void 0===t&&(t=""),void 0===n&&(n=!1),n&&"equal"===e)return"equal width";var r=typeof e;return"string"!==r&&"number"!==r||!t?Le(e):Le(e)+" "+t};const qe=function(e,t){var n=e.handledProps,r=void 0===n?[]:n;return Object.keys(t).reduce((function(e,n){return"childKey"===n||-1===r.indexOf(n)&&(e[n]=t[n]),e}),{})};const Ke=function(e,t,n){var r=e.defaultProps,i=void 0===r?{}:r;if(t.as&&t.as!==i.as)return t.as;if(n){var o=n();if(o)return o}return t.href?"a":i.as||"div"};const He=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1};const Ge=function(){this.__data__=[],this.size=0};const We=function(e,t){return e===t||e!==e&&t!==t};const Qe=function(e,t){for(var n=e.length;n--;)if(We(e[n][0],t))return n;return-1};var Je=Array.prototype.splice;const $e=function(e){var t=this.__data__,n=Qe(t,e);return!(n<0)&&(n==t.length-1?t.pop():Je.call(t,n,1),--this.size,!0)};const Ye=function(e){var t=this.__data__,n=Qe(t,e);return n<0?void 0:t[n][1]};const Xe=function(e){return Qe(this.__data__,e)>-1};const Ze=function(e,t){var n=this.__data__,r=Qe(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this};function et(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}et.prototype.clear=Ge,et.prototype.delete=$e,et.prototype.get=Ye,et.prototype.has=Xe,et.prototype.set=Ze;const tt=et;const nt=function(){this.__data__=new tt,this.size=0};const rt=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n};const it=function(e){return this.__data__.get(e)};const ot=function(e){return this.__data__.has(e)};const st="object"==typeof global&&global&&global.Object===Object&&global;var at="object"==typeof self&&self&&self.Object===Object&&self;const ct=st||at||Function("return this")();const lt=ct.Symbol;var ut=Object.prototype,ht=ut.hasOwnProperty,dt=ut.toString,ft=lt?lt.toStringTag:void 0;const pt=function(e){var t=ht.call(e,ft),n=e[ft];try{e[ft]=void 0;var r=!0}catch(vV){}var i=dt.call(e);return r&&(t?e[ft]=n:delete e[ft]),i};var mt=Object.prototype.toString;const gt=function(e){return mt.call(e)};var vt=lt?lt.toStringTag:void 0;const yt=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":vt&&vt in Object(e)?pt(e):gt(e)};const wt=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)};const bt=function(e){if(!wt(e))return!1;var t=yt(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t};const _t=ct["__core-js_shared__"];var Et=function(){var e=/[^.]+$/.exec(_t&&_t.keys&&_t.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();const It=function(e){return!!Et&&Et in e};var Tt=Function.prototype.toString;const St=function(e){if(null!=e){try{return Tt.call(e)}catch(vV){}try{return e+""}catch(vV){}}return""};var kt=/^\[object .+?Constructor\]$/,Ct=Function.prototype,xt=Object.prototype,Nt=Ct.toString,At=xt.hasOwnProperty,Pt=RegExp("^"+Nt.call(At).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");const Rt=function(e){return!(!wt(e)||It(e))&&(bt(e)?Pt:kt).test(St(e))};const Ot=function(e,t){return null==e?void 0:e[t]};const Dt=function(e,t){var n=Ot(e,t);return Rt(n)?n:void 0};const Lt=Dt(ct,"Map");const Mt=Dt(Object,"create");const Ft=function(){this.__data__=Mt?Mt(null):{},this.size=0};const Ut=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t};var jt=Object.prototype.hasOwnProperty;const Vt=function(e){var t=this.__data__;if(Mt){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return jt.call(t,e)?t[e]:void 0};var zt=Object.prototype.hasOwnProperty;const Bt=function(e){var t=this.__data__;return Mt?void 0!==t[e]:zt.call(t,e)};const qt=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=Mt&&void 0===t?"__lodash_hash_undefined__":t,this};function Kt(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Kt.prototype.clear=Ft,Kt.prototype.delete=Ut,Kt.prototype.get=Vt,Kt.prototype.has=Bt,Kt.prototype.set=qt;const Ht=Kt;const Gt=function(){this.size=0,this.__data__={hash:new Ht,map:new(Lt||tt),string:new Ht}};const Wt=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e};const Qt=function(e,t){var n=e.__data__;return Wt(t)?n["string"==typeof t?"string":"hash"]:n.map};const Jt=function(e){var t=Qt(this,e).delete(e);return this.size-=t?1:0,t};const $t=function(e){return Qt(this,e).get(e)};const Yt=function(e){return Qt(this,e).has(e)};const Xt=function(e,t){var n=Qt(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this};function Zt(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Zt.prototype.clear=Gt,Zt.prototype.delete=Jt,Zt.prototype.get=$t,Zt.prototype.has=Yt,Zt.prototype.set=Xt;const en=Zt;const tn=function(e,t){var n=this.__data__;if(n instanceof tt){var r=n.__data__;if(!Lt||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new en(r)}return n.set(e,t),this.size=n.size,this};function nn(e){var t=this.__data__=new tt(e);this.size=t.size}nn.prototype.clear=nt,nn.prototype.delete=rt,nn.prototype.get=it,nn.prototype.has=ot,nn.prototype.set=tn;const rn=nn;const on=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this};const sn=function(e){return this.__data__.has(e)};function an(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new en;++t<n;)this.add(e[t])}an.prototype.add=an.prototype.push=on,an.prototype.has=sn;const cn=an;const ln=function(e,t){return e.has(t)};const un=function(e,t,n,r,i,o){var s=1&n,a=e.length,c=t.length;if(a!=c&&!(s&&c>a))return!1;var l=o.get(e),u=o.get(t);if(l&&u)return l==t&&u==e;var h=-1,d=!0,f=2&n?new cn:void 0;for(o.set(e,t),o.set(t,e);++h<a;){var p=e[h],m=t[h];if(r)var g=s?r(m,p,h,t,e,o):r(p,m,h,e,t,o);if(void 0!==g){if(g)continue;d=!1;break}if(f){if(!He(t,(function(e,t){if(!ln(f,t)&&(p===e||i(p,e,n,r,o)))return f.push(t)}))){d=!1;break}}else if(p!==m&&!i(p,m,n,r,o)){d=!1;break}}return o.delete(e),o.delete(t),d};const hn=ct.Uint8Array;const dn=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n};const fn=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n};var pn=lt?lt.prototype:void 0,mn=pn?pn.valueOf:void 0;const gn=function(e,t,n,r,i,o,s){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!o(new hn(e),new hn(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return We(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var a=dn;case"[object Set]":var c=1&r;if(a||(a=fn),e.size!=t.size&&!c)return!1;var l=s.get(e);if(l)return l==t;r|=2,s.set(e,t);var u=un(a(e),a(t),r,i,o,s);return s.delete(e),u;case"[object Symbol]":if(mn)return mn.call(e)==mn.call(t)}return!1};const vn=function(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e};const yn=Array.isArray;const wn=function(e,t,n){var r=t(e);return yn(e)?r:vn(r,n(e))};const bn=function(e,t){for(var n=-1,r=null==e?0:e.length,i=0,o=[];++n<r;){var s=e[n];t(s,n,e)&&(o[i++]=s)}return o};const _n=function(){return[]};var En=Object.prototype.propertyIsEnumerable,In=Object.getOwnPropertySymbols;const Tn=In?function(e){return null==e?[]:(e=Object(e),bn(In(e),(function(t){return En.call(e,t)})))}:_n;const Sn=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r};const kn=function(e){return null!=e&&"object"==typeof e};const Cn=function(e){return kn(e)&&"[object Arguments]"==yt(e)};var xn=Object.prototype,Nn=xn.hasOwnProperty,An=xn.propertyIsEnumerable;const Pn=Cn(function(){return arguments}())?Cn:function(e){return kn(e)&&Nn.call(e,"callee")&&!An.call(e,"callee")};const Rn=function(){return!1};var On="object"==typeof exports&&exports&&!exports.nodeType&&exports,Dn=On&&"object"==typeof module&&module&&!module.nodeType&&module,Ln=Dn&&Dn.exports===On?ct.Buffer:void 0;const Mn=(Ln?Ln.isBuffer:void 0)||Rn;var Fn=/^(?:0|[1-9]\d*)$/;const Un=function(e,t){var n=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==n||"symbol"!=n&&Fn.test(e))&&e>-1&&e%1==0&&e<t};const jn=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991};var Vn={};Vn["[object Float32Array]"]=Vn["[object Float64Array]"]=Vn["[object Int8Array]"]=Vn["[object Int16Array]"]=Vn["[object Int32Array]"]=Vn["[object Uint8Array]"]=Vn["[object Uint8ClampedArray]"]=Vn["[object Uint16Array]"]=Vn["[object Uint32Array]"]=!0,Vn["[object Arguments]"]=Vn["[object Array]"]=Vn["[object ArrayBuffer]"]=Vn["[object Boolean]"]=Vn["[object DataView]"]=Vn["[object Date]"]=Vn["[object Error]"]=Vn["[object Function]"]=Vn["[object Map]"]=Vn["[object Number]"]=Vn["[object Object]"]=Vn["[object RegExp]"]=Vn["[object Set]"]=Vn["[object String]"]=Vn["[object WeakMap]"]=!1;const zn=function(e){return kn(e)&&jn(e.length)&&!!Vn[yt(e)]};const Bn=function(e){return function(t){return e(t)}};var qn="object"==typeof exports&&exports&&!exports.nodeType&&exports,Kn=qn&&"object"==typeof module&&module&&!module.nodeType&&module,Hn=Kn&&Kn.exports===qn&&st.process,Gn=function(){try{var e=Kn&&Kn.require&&Kn.require("util").types;return e||Hn&&Hn.binding&&Hn.binding("util")}catch(vV){}}();var Wn=Gn&&Gn.isTypedArray;const Qn=Wn?Bn(Wn):zn;var Jn=Object.prototype.hasOwnProperty;const $n=function(e,t){var n=yn(e),r=!n&&Pn(e),i=!n&&!r&&Mn(e),o=!n&&!r&&!i&&Qn(e),s=n||r||i||o,a=s?Sn(e.length,String):[],c=a.length;for(var l in e)!t&&!Jn.call(e,l)||s&&("length"==l||i&&("offset"==l||"parent"==l)||o&&("buffer"==l||"byteLength"==l||"byteOffset"==l)||Un(l,c))||a.push(l);return a};var Yn=Object.prototype;const Xn=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||Yn)};const Zn=function(e,t){return function(n){return e(t(n))}};const er=Zn(Object.keys,Object);var tr=Object.prototype.hasOwnProperty;const nr=function(e){if(!Xn(e))return er(e);var t=[];for(var n in Object(e))tr.call(e,n)&&"constructor"!=n&&t.push(n);return t};const rr=function(e){return null!=e&&jn(e.length)&&!bt(e)};const ir=function(e){return rr(e)?$n(e):nr(e)};const or=function(e){return wn(e,ir,Tn)};var sr=Object.prototype.hasOwnProperty;const ar=function(e,t,n,r,i,o){var s=1&n,a=or(e),c=a.length;if(c!=or(t).length&&!s)return!1;for(var l=c;l--;){var u=a[l];if(!(s?u in t:sr.call(t,u)))return!1}var h=o.get(e),d=o.get(t);if(h&&d)return h==t&&d==e;var f=!0;o.set(e,t),o.set(t,e);for(var p=s;++l<c;){var m=e[u=a[l]],g=t[u];if(r)var v=s?r(g,m,u,t,e,o):r(m,g,u,e,t,o);if(!(void 0===v?m===g||i(m,g,n,r,o):v)){f=!1;break}p||(p="constructor"==u)}if(f&&!p){var y=e.constructor,w=t.constructor;y==w||!("constructor"in e)||!("constructor"in t)||"function"==typeof y&&y instanceof y&&"function"==typeof w&&w instanceof w||(f=!1)}return o.delete(e),o.delete(t),f};const cr=Dt(ct,"DataView");const lr=Dt(ct,"Promise");const ur=Dt(ct,"Set");const hr=Dt(ct,"WeakMap");var dr="[object Map]",fr="[object Promise]",pr="[object Set]",mr="[object WeakMap]",gr="[object DataView]",vr=St(cr),yr=St(Lt),wr=St(lr),br=St(ur),_r=St(hr),Er=yt;(cr&&Er(new cr(new ArrayBuffer(1)))!=gr||Lt&&Er(new Lt)!=dr||lr&&Er(lr.resolve())!=fr||ur&&Er(new ur)!=pr||hr&&Er(new hr)!=mr)&&(Er=function(e){var t=yt(e),n="[object Object]"==t?e.constructor:void 0,r=n?St(n):"";if(r)switch(r){case vr:return gr;case yr:return dr;case wr:return fr;case br:return pr;case _r:return mr}return t});const Ir=Er;var Tr="[object Arguments]",Sr="[object Array]",kr="[object Object]",Cr=Object.prototype.hasOwnProperty;const xr=function(e,t,n,r,i,o){var s=yn(e),a=yn(t),c=s?Sr:Ir(e),l=a?Sr:Ir(t),u=(c=c==Tr?kr:c)==kr,h=(l=l==Tr?kr:l)==kr,d=c==l;if(d&&Mn(e)){if(!Mn(t))return!1;s=!0,u=!1}if(d&&!u)return o||(o=new rn),s||Qn(e)?un(e,t,n,r,i,o):gn(e,t,c,n,r,i,o);if(!(1&n)){var f=u&&Cr.call(e,"__wrapped__"),p=h&&Cr.call(t,"__wrapped__");if(f||p){var m=f?e.value():e,g=p?t.value():t;return o||(o=new rn),i(m,g,n,r,o)}}return!!d&&(o||(o=new rn),ar(e,t,n,r,i,o))};const Nr=function e(t,n,r,i,o){return t===n||(null==t||null==n||!kn(t)&&!kn(n)?t!==t&&n!==n:xr(t,n,r,i,e,o))};const Ar=function(e,t,n,r){var i=n.length,o=i,s=!r;if(null==e)return!o;for(e=Object(e);i--;){var a=n[i];if(s&&a[2]?a[1]!==e[a[0]]:!(a[0]in e))return!1}for(;++i<o;){var c=(a=n[i])[0],l=e[c],u=a[1];if(s&&a[2]){if(void 0===l&&!(c in e))return!1}else{var h=new rn;if(r)var d=r(l,u,c,e,t,h);if(!(void 0===d?Nr(u,l,3,r,h):d))return!1}}return!0};const Pr=function(e){return e===e&&!wt(e)};const Rr=function(e){for(var t=ir(e),n=t.length;n--;){var r=t[n],i=e[r];t[n]=[r,i,Pr(i)]}return t};const Or=function(e,t){return function(n){return null!=n&&(n[e]===t&&(void 0!==t||e in Object(n)))}};const Dr=function(e){var t=Rr(e);return 1==t.length&&t[0][2]?Or(t[0][0],t[0][1]):function(n){return n===e||Ar(n,e,t)}};const Lr=function(e){return"symbol"==typeof e||kn(e)&&"[object Symbol]"==yt(e)};var Mr=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Fr=/^\w*$/;const Ur=function(e,t){if(yn(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!Lr(e))||(Fr.test(e)||!Mr.test(e)||null!=t&&e in Object(t))};function jr(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var s=e.apply(this,r);return n.cache=o.set(i,s)||o,s};return n.cache=new(jr.Cache||en),n}jr.Cache=en;const Vr=jr;var zr=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Br=/\\(\\)?/g;const qr=function(e){var t=Vr(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(zr,(function(e,n,r,i){t.push(r?i.replace(Br,"$1"):n||e)})),t}));const Kr=function(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i};var Hr=lt?lt.prototype:void 0,Gr=Hr?Hr.toString:void 0;const Wr=function e(t){if("string"==typeof t)return t;if(yn(t))return Kr(t,e)+"";if(Lr(t))return Gr?Gr.call(t):"";var n=t+"";return"0"==n&&1/t==-1/0?"-0":n};const Qr=function(e){return null==e?"":Wr(e)};const Jr=function(e,t){return yn(e)?e:Ur(e,t)?[e]:qr(Qr(e))};const $r=function(e){if("string"==typeof e||Lr(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t};const Yr=function(e,t){for(var n=0,r=(t=Jr(t,e)).length;null!=e&&n<r;)e=e[$r(t[n++])];return n&&n==r?e:void 0};const Xr=function(e,t,n){var r=null==e?void 0:Yr(e,t);return void 0===r?n:r};const Zr=function(e,t){return null!=e&&t in Object(e)};const ei=function(e,t,n){for(var r=-1,i=(t=Jr(t,e)).length,o=!1;++r<i;){var s=$r(t[r]);if(!(o=null!=e&&n(e,s)))break;e=e[s]}return o||++r!=i?o:!!(i=null==e?0:e.length)&&jn(i)&&Un(s,i)&&(yn(e)||Pn(e))};const ti=function(e,t){return null!=e&&ei(e,t,Zr)};const ni=function(e,t){return Ur(e)&&Pr(t)?Or($r(e),t):function(n){var r=Xr(n,e);return void 0===r&&r===t?ti(n,e):Nr(t,r,3)}};const ri=function(e){return e};const ii=function(e){return function(t){return null==t?void 0:t[e]}};const oi=function(e){return function(t){return Yr(t,e)}};const si=function(e){return Ur(e)?ii($r(e)):oi(e)};const ai=function(e){return"function"==typeof e?e:null==e?ri:"object"==typeof e?yn(e)?ni(e[0],e[1]):Dr(e):si(e)};const ci=function(e){return function(t,n,r){for(var i=-1,o=Object(t),s=r(t),a=s.length;a--;){var c=s[e?a:++i];if(!1===n(o[c],c,o))break}return t}};const li=ci();const ui=function(e,t){return function(n,r){if(null==n)return n;if(!rr(n))return e(n,r);for(var i=n.length,o=t?i:-1,s=Object(n);(t?o--:++o<i)&&!1!==r(s[o],o,s););return n}};const hi=ui((function(e,t){return e&&li(e,t,ir)}));const di=function(e,t){var n;return hi(e,(function(e,r,i){return!(n=t(e,r,i))})),!!n};const fi=function(e,t,n){if(!wt(n))return!1;var r=typeof t;return!!("number"==r?rr(n)&&Un(t,n.length):"string"==r&&t in n)&&We(n[t],e)};const pi=function(e,t,n){var r=yn(e)?He:di;return n&&fi(e,t,n)&&(t=void 0),r(e,ai(t,3))};var mi=function(e){return null===e||void 0===e||Array.isArray(e)&&0===e.length};function gi(e){var t=e.children,n=e.className,r=e.content,o=e.fluid,s=e.text,a=e.textAlign,c=Oe("ui",Me(s,"text"),Me(o,"fluid"),Ve(a),"container",n),l=qe(gi,e),u=Ke(gi,e);return i.createElement(u,Pe({},l,{className:c}),mi(t)?r:t)}gi.handledProps=["as","children","className","content","fluid","text","textAlign"],gi.propTypes={};const vi=gi;const yi=function(e,t,n,r){for(var i=e.length,o=n+(r?1:-1);r?o--:++o<i;)if(t(e[o],o,e))return o;return-1};const wi=function(e){return e!==e};const bi=function(e,t,n){for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return-1};const _i=function(e,t,n){return t===t?bi(e,t,n):yi(e,wi,n)};const Ei=function(e,t){return!!(null==e?0:e.length)&&_i(e,t,0)>-1};const Ii=function(e,t,n){for(var r=-1,i=null==e?0:e.length;++r<i;)if(n(t,e[r]))return!0;return!1};const Ti=function(){};var Si=ur&&1/fn(new ur([,-0]))[1]==1/0?function(e){return new ur(e)}:Ti;const ki=Si;const Ci=function(e,t,n){var r=-1,i=Ei,o=e.length,s=!0,a=[],c=a;if(n)s=!1,i=Ii;else if(o>=200){var l=t?null:ki(e);if(l)return fn(l);s=!1,i=ln,c=new cn}else c=t?[]:a;e:for(;++r<o;){var u=e[r],h=t?t(u):u;if(u=n||0!==u?u:0,s&&h===h){for(var d=c.length;d--;)if(c[d]===h)continue e;t&&c.push(h),a.push(u)}else i(c,h,n)||(c!==a&&c.push(h),a.push(u))}return a};const xi=function(e){return e&&e.length?Ci(e):[]};const Ni=Zn(Object.getPrototypeOf,Object);var Ai=Function.prototype,Pi=Object.prototype,Ri=Ai.toString,Oi=Pi.hasOwnProperty,Di=Ri.call(Object);const Li=function(e){if(!kn(e)||"[object Object]"!=yt(e))return!1;var t=Ni(e);if(null===t)return!0;var n=Oi.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&Ri.call(n)==Di};const Mi=function(e){return"number"==typeof e||kn(e)&&"[object Number]"==yt(e)};const Fi=function(e){return"string"==typeof e||!yn(e)&&kn(e)&&"[object String]"==yt(e)};const Ui=function(e){return!0===e||!1===e||kn(e)&&"[object Boolean]"==yt(e)};const ji=function(e){return null==e};function Vi(e,t,n,r){if(void 0===r&&(r={}),"function"!==typeof e&&"string"!==typeof e)throw new Error("createShorthand() Component must be a string or function.");if(ji(n)||Ui(n))return null;var o=Fi(n),s=Mi(n),a=bt(n),c=i.isValidElement(n),l=Li(n),u=o||s||yn(n);if(!a&&!c&&!l&&!u)return null;var h=r.defaultProps,d=void 0===h?{}:h,f=c&&n.props||l&&n||u&&t(n),p=r.overrideProps,m=void 0===p?{}:p;m=bt(m)?m(Pe({},d,f)):m;var g=Pe({},d,f,m);if(d.className||m.className||f.className){var v=Oe(d.className,m.className,f.className);g.className=xi(v.split(" ")).join(" ")}if((d.style||m.style||f.style)&&(g.style=Pe({},d.style,f.style,m.style)),ji(g.key)){var y=g.childKey,w=r.autoGenerateKey,b=void 0===w||w;ji(y)?b&&(o||s)&&(g.key=n):(g.key="function"===typeof y?y(g):y,delete g.childKey)}return c?i.cloneElement(n,g):"function"===typeof g.children?g.children(e,Pe({},g,{children:void 0})):u||l?i.createElement(e,g):a?n(e,g,g.children):void 0}function zi(e,t){if("function"!==typeof e&&"string"!==typeof e)throw new Error("createShorthandFactory() Component must be a string or function.");return function(n,r){return Vi(e,t,n,r)}}var Bi=zi("img",(function(e){return{src:e}})),qi=zi("input",(function(e){return{type:e}})),Ki=zi("label",(function(e){return{children:e}})),Hi=zi("p",(function(e){return{children:e}}));function Gi(e){var t=e.children,n=e.className,r=e.computer,o=e.color,s=e.floated,a=e.largeScreen,c=e.mobile,l=e.only,u=e.stretched,h=e.tablet,d=e.textAlign,f=e.verticalAlign,p=e.widescreen,m=e.width,g=Oe(o,Me(u,"stretched"),je(l,"only"),Ve(d),Fe(s,"floated"),ze(f),Be(r,"wide computer"),Be(a,"wide large screen"),Be(c,"wide mobile"),Be(h,"wide tablet"),Be(p,"wide widescreen"),Be(m,"wide"),"column",n),v=qe(Gi,e),y=Ke(Gi,e);return i.createElement(y,Pe({},v,{className:g}),t)}Gi.handledProps=["as","children","className","color","computer","floated","largeScreen","mobile","only","stretched","tablet","textAlign","verticalAlign","widescreen","width"],Gi.propTypes={},Gi.create=zi(Gi,(function(e){return{children:e}}));const Wi=Gi;function Qi(e){var t=e.centered,n=e.children,r=e.className,o=e.color,s=e.columns,a=e.divided,c=e.only,l=e.reversed,u=e.stretched,h=e.textAlign,d=e.verticalAlign,f=Oe(o,Me(t,"centered"),Me(a,"divided"),Me(u,"stretched"),je(c,"only"),je(l,"reversed"),Ve(h),ze(d),Be(s,"column",!0),"row",r),p=qe(Qi,e),m=Ke(Qi,e);return i.createElement(m,Pe({},p,{className:f}),n)}Qi.handledProps=["as","centered","children","className","color","columns","divided","only","reversed","stretched","textAlign","verticalAlign"],Qi.propTypes={};const Ji=Qi;function $i(e){var t=e.celled,n=e.centered,r=e.children,o=e.className,s=e.columns,a=e.container,c=e.divided,l=e.doubling,u=e.inverted,h=e.padded,d=e.relaxed,f=e.reversed,p=e.stackable,m=e.stretched,g=e.textAlign,v=e.verticalAlign,y=Oe("ui",Me(n,"centered"),Me(a,"container"),Me(l,"doubling"),Me(u,"inverted"),Me(p,"stackable"),Me(m,"stretched"),Ue(t,"celled"),Ue(c,"divided"),Ue(h,"padded"),Ue(d,"relaxed"),je(f,"reversed"),Ve(g),ze(v),Be(s,"column",!0),"grid",o),w=qe($i,e),b=Ke($i,e);return i.createElement(b,Pe({},w,{className:y}),r)}$i.handledProps=["as","celled","centered","children","className","columns","container","divided","doubling","inverted","padded","relaxed","reversed","stackable","stretched","textAlign","verticalAlign"],$i.Column=Wi,$i.Row=Ji,$i.propTypes={};const Yi=$i,Xi=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},Zi={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const t=e[i],o=i+1<e.length,s=o?e[i+1]:0,a=i+2<e.length,c=a?e[i+2]:0,l=t>>2,u=(3&t)<<4|s>>4;let h=(15&s)<<2|c>>6,d=63&c;a||(d=64,o||(h=64)),r.push(n[l],n[u],n[h],n[d])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Xi(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){const o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{const o=e[n++],s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const t=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0;++i;const s=i<e.length?n[e.charAt(i)]:64;++i;const a=i<e.length?n[e.charAt(i)]:64;if(++i,null==t||null==o||null==s||null==a)throw new eo;const c=t<<2|o>>4;if(r.push(c),64!==s){const e=o<<4&240|s>>2;if(r.push(e),64!==a){const e=s<<6&192|a;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class eo extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const to=function(e){return function(e){const t=Xi(e);return Zi.encodeByteArray(t,!0)}(e).replace(/\./g,"")},no=function(e){try{return Zi.decodeString(e,!0)}catch(vV){console.error("base64Decode failed: ",vV)}return null};function ro(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(const n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=ro(e[n],t[n]));return e}const io=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,oo=()=>{try{return io()||(()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",PUBLIC_URL:"/gameforum",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(vV){return}const t=e&&no(e[1]);return t&&JSON.parse(t)})()}catch(vV){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(vV))}},so=()=>{var e;return null===(e=oo())||void 0===e?void 0:e.config};class ao{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch((()=>{})),1===e.length?e(t):e(t,n))}}}function co(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[to(JSON.stringify({alg:"none",type:"JWT"})),to(JSON.stringify(o)),""].join(".")}function lo(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function uo(){var e;const t=null===(e=oo())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(vV){return!1}}function ho(){return"object"===typeof self&&self.self===self}function fo(){const e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function po(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function mo(){const e=lo();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function go(){return!uo()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function vo(){try{return"object"===typeof indexedDB}catch(vV){return!1}}class yo extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,yo.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,wo.prototype.create)}}class wo{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?function(e,t){return e.replace(bo,((e,n)=>{const r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}(r,t):"Error",o="".concat(this.serviceName,": ").concat(i," (").concat(n,").");return new yo(n,o,t)}}const bo=/\{\$([^}]+)}/g;function _o(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Eo(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const n=e[i],o=t[i];if(Io(n)&&Io(o)){if(!Eo(n,o))return!1}else if(n!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Io(e){return null!==e&&"object"===typeof e}function To(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach((e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function So(e){const t={};return e.replace(/^\?/,"").split("&").forEach((e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}})),t}function ko(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function Co(e,t){const n=new xo(e,t);return n.subscribe.bind(n)}class xo{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((()=>{e(this)})).catch((e=>{this.error(e)}))}next(e){this.forEachObserver((t=>{t.next(e)}))}error(e){this.forEachObserver((t=>{t.error(e)})),this.close(e)}complete(){this.forEachObserver((e=>{e.complete()})),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!==typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"===typeof e[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=No),void 0===r.error&&(r.error=No),void 0===r.complete&&(r.complete=No);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(vV){}})),this.observers.push(r),i}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(vV){"undefined"!==typeof console&&console.error&&console.error(vV)}}))}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function No(){}function Ao(e){return e&&e._delegate?e._delegate:e}class Po{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Ro="[DEFAULT]";class Oo{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new ao;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(vV){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(vV){if(r)return null;throw vV}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Ro})}catch(vV){}for(const[e,t]of this.instancesDeferred.entries()){const n=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:n});t.resolve(e)}catch(vV){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ro;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter((e=>"INTERNAL"in e)).map((e=>e.INTERNAL.delete())),...e.filter((e=>"_delete"in e)).map((e=>e._delete()))])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ro;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ro;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error("".concat(this.name,"(").concat(n,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[i,o]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(i)&&o.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);const o=this.instances.get(r);return o&&e(o,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const i of n)try{i(e,t)}catch(r){}}getOrInitializeService(e){let{instanceIdentifier:t,options:n={}}=e,r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(i=t,i===Ro?void 0:i),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch(o){}var i;return r||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ro;return this.component?this.component.multipleInstances?e:Ro:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Do{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new Oo(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const Lo=[];var Mo;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(Mo||(Mo={}));const Fo={debug:Mo.DEBUG,verbose:Mo.VERBOSE,info:Mo.INFO,warn:Mo.WARN,error:Mo.ERROR,silent:Mo.SILENT},Uo=Mo.INFO,jo={[Mo.DEBUG]:"log",[Mo.VERBOSE]:"log",[Mo.INFO]:"info",[Mo.WARN]:"warn",[Mo.ERROR]:"error"},Vo=function(e,t){if(t<e.logLevel)return;const n=(new Date).toISOString(),r=jo[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i=arguments.length,o=new Array(i>2?i-2:0),s=2;s<i;s++)o[s-2]=arguments[s];console[r]("[".concat(n,"]  ").concat(e.name,":"),...o)};class zo{constructor(e){this.name=e,this._logLevel=Uo,this._logHandler=Vo,this._userLogHandler=null,Lo.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Mo))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?Fo[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Mo.DEBUG,...t),this._logHandler(this,Mo.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Mo.VERBOSE,...t),this._logHandler(this,Mo.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Mo.INFO,...t),this._logHandler(this,Mo.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Mo.WARN,...t),this._logHandler(this,Mo.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Mo.ERROR,...t),this._logHandler(this,Mo.ERROR,...t)}}const Bo=(e,t)=>t.some((t=>e instanceof t));let qo,Ko;const Ho=new WeakMap,Go=new WeakMap,Wo=new WeakMap,Qo=new WeakMap,Jo=new WeakMap;let $o={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return Go.get(e);if("objectStoreNames"===t)return e.objectStoreNames||Wo.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Zo(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function Yo(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(Ko||(Ko=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(es(this),n),Zo(Ho.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Zo(e.apply(es(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];const o=e.call(es(this),t,...r);return Wo.set(o,t.sort?t.sort():[t]),Zo(o)}}function Xo(e){return"function"===typeof e?Yo(e):(e instanceof IDBTransaction&&function(e){if(Go.has(e))return;const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",o),e.removeEventListener("abort",o)},i=()=>{t(),r()},o=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",o),e.addEventListener("abort",o)}));Go.set(e,t)}(e),Bo(e,qo||(qo=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,$o):e)}function Zo(e){if(e instanceof IDBRequest)return function(e){const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",o)},i=()=>{t(Zo(e.result)),r()},o=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",o)}));return t.then((t=>{t instanceof IDBCursor&&Ho.set(t,e)})).catch((()=>{})),Jo.set(t,e),t}(e);if(Qo.has(e))return Qo.get(e);const t=Xo(e);return t!==e&&(Qo.set(e,t),Jo.set(t,e)),t}const es=e=>Jo.get(e);const ts=["get","getKey","getAll","getAllKeys","count"],ns=["put","add","delete","clear"],rs=new Map;function is(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(rs.get(t))return rs.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=ns.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!ts.includes(n))return;const o=async function(e){const t=this.transaction(e,i?"readwrite":"readonly");let o=t.store;for(var s=arguments.length,a=new Array(s>1?s-1:0),c=1;c<s;c++)a[c-1]=arguments[c];return r&&(o=o.index(a.shift())),(await Promise.all([o[n](...a),i&&t.done]))[0]};return rs.set(t,o),o}$o=(e=>({...e,get:(t,n,r)=>is(t,n)||e.get(t,n,r),has:(t,n)=>!!is(t,n)||e.has(t,n)}))($o);class os{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map((e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){const t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((e=>e)).join(" ")}}const ss="@firebase/app",as="0.10.2",cs=new zo("@firebase/app"),ls="@firebase/app-compat",us="@firebase/analytics-compat",hs="@firebase/analytics",ds="@firebase/app-check-compat",fs="@firebase/app-check",ps="@firebase/auth",ms="@firebase/auth-compat",gs="@firebase/database",vs="@firebase/database-compat",ys="@firebase/functions",ws="@firebase/functions-compat",bs="@firebase/installations",_s="@firebase/installations-compat",Es="@firebase/messaging",Is="@firebase/messaging-compat",Ts="@firebase/performance",Ss="@firebase/performance-compat",ks="@firebase/remote-config",Cs="@firebase/remote-config-compat",xs="@firebase/storage",Ns="@firebase/storage-compat",As="@firebase/firestore",Ps="@firebase/firestore-compat",Rs="firebase",Os="[DEFAULT]",Ds={[ss]:"fire-core",[ls]:"fire-core-compat",[hs]:"fire-analytics",[us]:"fire-analytics-compat",[fs]:"fire-app-check",[ds]:"fire-app-check-compat",[ps]:"fire-auth",[ms]:"fire-auth-compat",[gs]:"fire-rtdb",[vs]:"fire-rtdb-compat",[ys]:"fire-fn",[ws]:"fire-fn-compat",[bs]:"fire-iid",[_s]:"fire-iid-compat",[Es]:"fire-fcm",[Is]:"fire-fcm-compat",[Ts]:"fire-perf",[Ss]:"fire-perf-compat",[ks]:"fire-rc",[Cs]:"fire-rc-compat",[xs]:"fire-gcs",[Ns]:"fire-gcs-compat",[As]:"fire-fst",[Ps]:"fire-fst-compat","fire-js":"fire-js",[Rs]:"fire-js-all"},Ls=new Map,Ms=new Map,Fs=new Map;function Us(e,t){try{e.container.addComponent(t)}catch(vV){cs.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),vV)}}function js(e,t){e.container.addOrOverwriteComponent(t)}function Vs(e){const t=e.name;if(Fs.has(t))return cs.debug("There were multiple attempts to register component ".concat(t,".")),!1;Fs.set(t,e);for(const n of Ls.values())Us(n,e);for(const n of Ms.values())Us(n,e);return!0}function zs(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function Bs(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Os;zs(e,t).clearInstance(n)}function qs(e){return void 0!==e.options}function Ks(e){return void 0!==e.settings}function Hs(){Fs.clear()}const Gs=new wo("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class Ws{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new Po("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Gs.create("app-deleted",{appName:this._name})}}class Qs extends Ws{constructor(e,t,n,r){const i=void 0!==t.automaticDataCollectionEnabled&&t.automaticDataCollectionEnabled,o={name:n,automaticDataCollectionEnabled:i};if(void 0!==e.apiKey)super(e,o,r);else{super(e.options,o,r)}this._serverConfig=Object.assign({automaticDataCollectionEnabled:i},t),this._finalizationRegistry=new FinalizationRegistry((()=>{this.automaticCleanup()})),this._refCount=0,this.incRefCount(this._serverConfig.releaseOnDeref),this._serverConfig.releaseOnDeref=void 0,t.releaseOnDeref=void 0,ta(ss,as,"serverapp")}toJSON(){}get refCount(){return this._refCount}incRefCount(e){this.isDeleted||(this._refCount++,void 0!==e&&this._finalizationRegistry.register(e,this))}decRefCount(){return this.isDeleted?0:--this._refCount}automaticCleanup(){ea(this)}get settings(){return this.checkDestroyed(),this._serverConfig}checkDestroyed(){if(this.isDeleted)throw Gs.create("server-app-deleted")}}const Js="10.11.1";function $s(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){t={name:t}}const r=Object.assign({name:Os,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw Gs.create("bad-app-name",{appName:String(i)});if(n||(n=so()),!n)throw Gs.create("no-options");const o=Ls.get(i);if(o){if(Eo(n,o.options)&&Eo(r,o.config))return o;throw Gs.create("duplicate-app",{appName:i})}const s=new Do(i);for(const c of Fs.values())s.addComponent(c);const a=new Ws(n,r,s);return Ls.set(i,a),a}function Ys(e,t){if(ho())throw Gs.create("invalid-server-app-environment");let n;void 0===t.automaticDataCollectionEnabled&&(t.automaticDataCollectionEnabled=!1),n=qs(e)?e.options:e;const r=Object.assign(Object.assign({},t),n);void 0!==r.releaseOnDeref&&delete r.releaseOnDeref;if(void 0!==t.releaseOnDeref&&"undefined"===typeof FinalizationRegistry)throw Gs.create("finalization-registry-not-supported",{});const i=""+(o=JSON.stringify(r),[...o].reduce(((e,t)=>Math.imul(31,e)+t.charCodeAt(0)|0),0));var o;const s=Ms.get(i);if(s)return s.incRefCount(t.releaseOnDeref),s;const a=new Do(i);for(const l of Fs.values())a.addComponent(l);const c=new Qs(n,t,i,a);return Ms.set(i,c),c}function Xs(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Os;const t=Ls.get(e);if(!t&&e===Os&&so())return $s();if(!t)throw Gs.create("no-app",{appName:e});return t}function Zs(){return Array.from(Ls.values())}async function ea(e){let t=!1;const n=e.name;if(Ls.has(n))t=!0,Ls.delete(n);else if(Ms.has(n)){e.decRefCount()<=0&&(Ms.delete(n),t=!0)}t&&(await Promise.all(e.container.getProviders().map((e=>e.delete()))),e.isDeleted=!0)}function ta(e,t,n){var r;let i=null!==(r=Ds[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));const o=i.match(/\s|\//),s=t.match(/\s|\//);if(o||s){const e=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return o&&e.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),o&&s&&e.push("and"),s&&e.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void cs.warn(e.join(" "))}Vs(new Po("".concat(i,"-version"),(()=>({library:i,version:t})),"VERSION"))}function na(e,t){if(null!==e&&"function"!==typeof e)throw Gs.create("invalid-log-argument");!function(e,t){for(const n of Lo){let r=null;t&&t.level&&(r=Fo[t.level]),n.userLogHandler=null===e?null:function(t,n){for(var i=arguments.length,o=new Array(i>2?i-2:0),s=2;s<i;s++)o[s-2]=arguments[s];const a=o.map((e=>{if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((e=>e)).join(" ");n>=(null!==r&&void 0!==r?r:t.logLevel)&&e({level:Mo[n].toLowerCase(),message:a,args:o,type:t.name})}}}(e,t)}function ra(e){var t;t=e,Lo.forEach((e=>{e.setLogLevel(t)}))}const ia="firebase-heartbeat-database",oa=1,sa="firebase-heartbeat-store";let aa=null;function ca(){return aa||(aa=function(e,t){let{blocked:n,upgrade:r,blocking:i,terminated:o}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const s=indexedDB.open(e,t),a=Zo(s);return r&&s.addEventListener("upgradeneeded",(e=>{r(Zo(s.result),e.oldVersion,e.newVersion,Zo(s.transaction),e)})),n&&s.addEventListener("blocked",(e=>n(e.oldVersion,e.newVersion,e))),a.then((e=>{o&&e.addEventListener("close",(()=>o())),i&&e.addEventListener("versionchange",(e=>i(e.oldVersion,e.newVersion,e)))})).catch((()=>{})),a}(ia,oa,{upgrade:(e,t)=>{if(0===t)try{e.createObjectStore(sa)}catch(vV){console.warn(vV)}}}).catch((e=>{throw Gs.create("idb-open",{originalErrorMessage:e.message})}))),aa}async function la(e,t){try{const n=(await ca()).transaction(sa,"readwrite"),r=n.objectStore(sa);await r.put(t,ua(e)),await n.done}catch(vV){if(vV instanceof yo)cs.warn(vV.message);else{const t=Gs.create("idb-set",{originalErrorMessage:null===vV||void 0===vV?void 0:vV.message});cs.warn(t.message)}}}function ua(e){return"".concat(e.name,"!").concat(e.options.appId)}class ha{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new fa(t),this._heartbeatsCachePromise=this._storage.read().then((e=>(this._heartbeatsCache=e,e)))}async triggerHeartbeat(){var e,t;const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=da();if((null!=(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||(this._heartbeatsCache=await this._heartbeatsCachePromise,null!=(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats)))&&this._heartbeatsCache.lastSentHeartbeatDate!==r&&!this._heartbeatsCache.heartbeats.some((e=>e.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((e=>{const t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const t=da(),{heartbeatsToSend:n,unsentEntries:r}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let r=e.slice();for(const i of e){const e=n.find((e=>e.agent===i.agent));if(e){if(e.dates.push(i.date),pa(n)>t){e.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),pa(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),i=to(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function da(){return(new Date).toISOString().substring(0,10)}class fa{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!vo()&&new Promise(((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(n){t(n)}})).then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=(await ca()).transaction(sa),n=await t.objectStore(sa).get(ua(e));return await t.done,n}catch(vV){if(vV instanceof yo)cs.warn(vV.message);else{const t=Gs.create("idb-get",{originalErrorMessage:null===vV||void 0===vV?void 0:vV.message});cs.warn(t.message)}}}(this.app);return(null===e||void 0===e?void 0:e.heartbeats)?e:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return la(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return la(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function pa(e){return to(JSON.stringify({version:2,heartbeats:e})).length}var ma;ma="",Vs(new Po("platform-logger",(e=>new os(e)),"PRIVATE")),Vs(new Po("heartbeat",(e=>new ha(e)),"PRIVATE")),ta(ss,as,ma),ta(ss,as,"esm2017"),ta("fire-js","");class ga{constructor(e,t){this._delegate=e,this.firebase=t,Us(e,new Po("app-compat",(()=>this),"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise((e=>{this._delegate.checkDestroyed(),e()})).then((()=>(this.firebase.INTERNAL.removeApp(this.name),ea(this._delegate))))}_getService(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Os;var n;this._delegate.checkDestroyed();const r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(n=r.getComponent())||void 0===n?void 0:n.instantiationMode)||r.initialize(),r.getImmediate({identifier:t})}_removeServiceInstance(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Os;this._delegate.container.getProvider(e).clearInstance(t)}_addComponent(e){Us(this._delegate,e)}_addOrOverwriteComponent(e){js(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const va=new wo("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."});const ya=function t(){const n=function(t){const n={},r={__esModule:!0,initializeApp:function(e){const i=$s(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});if(_o(n,i.name))return n[i.name];const o=new t(i,r);return n[i.name]=o,o},app:i,registerVersion:ta,setLogLevel:ra,onLog:na,apps:null,SDK_VERSION:Js,INTERNAL:{registerComponent:function(e){const n=e.name,o=n.replace("-compat","");if(Vs(e)&&"PUBLIC"===e.type){const s=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i();if("function"!==typeof e[o])throw va.create("invalid-app-argument",{appName:n});return e[o]()};void 0!==e.serviceProps&&ro(s,e.serviceProps),r[o]=s,t.prototype[o]=function(){const t=this._getService.bind(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return t.apply(this,e.multipleInstances?i:[])}}return"PUBLIC"===e.type?r[o]:null},removeApp:function(e){delete n[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:e}};function i(e){if(!_o(n,e=e||Os))throw va.create("no-app",{appName:e});return n[e]}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(n).map((e=>n[e]))}}),i.App=t,r}(ga);return n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(e){ro(n,e)},createSubscribe:Co,ErrorFactory:wo,deepExtend:ro}),n}(),wa=new zo("@firebase/app-compat");if(ho()&&void 0!==self.firebase){wa.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const e=self.firebase.SDK_VERSION;e&&e.indexOf("LITE")>=0&&wa.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const ba=ya;!function(e){ta("@firebase/app-compat","0.2.32",e)}();ba.registerVersion("firebase","10.11.1","app-compat");function _a(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;Object.create;"function"===typeof SuppressedError&&SuppressedError;const Ea={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},Ia="EMAIL_SIGNIN",Ta="PASSWORD_RESET",Sa="RECOVER_EMAIL",ka="REVERT_SECOND_FACTOR_ADDITION",Ca="VERIFY_AND_CHANGE_EMAIL",xa="VERIFY_EMAIL";function Na(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Aa=function(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements."}},Pa=Na,Ra=new wo("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Oa=new zo("@firebase/auth");function Da(e){if(Oa.logLevel<=Mo.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Oa.error("Auth (".concat(Js,"): ").concat(e),...n)}}function La(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Va(e,...n)}function Ma(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Va(e,...n)}function Fa(e,t,n){const r=Object.assign(Object.assign({},Pa()),{[t]:n});return new wo("auth","Firebase",r).create(t,{appName:e.name})}function Ua(e){return Fa(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function ja(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&La(e,"argument-error"),Fa(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function Va(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){const t=n[0],r=[...n.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(t,...r)}return Ra.create(e,...n)}function za(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw Va(t,...r)}}function Ba(e){const t="INTERNAL ASSERTION FAILED: "+e;throw Da(t),new Error(t)}function qa(e,t){e||Ba(t)}function Ka(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function Ha(){return"http:"===Ga()||"https:"===Ga()}function Ga(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}class Wa{constructor(e,t){this.shortDelay=e,this.longDelay=t,qa(t>e,"Short delay should be less than long delay!"),this.isMobile="undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(lo())||po()}get(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(Ha()||fo()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function Qa(e,t){qa(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}class Ja{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:"undefined"!==typeof globalThis&&globalThis.fetch?globalThis.fetch:"undefined"!==typeof fetch?fetch:void Ba("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:"undefined"!==typeof globalThis&&globalThis.Headers?globalThis.Headers:"undefined"!==typeof Headers?Headers:void Ba("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:"undefined"!==typeof globalThis&&globalThis.Response?globalThis.Response:"undefined"!==typeof Response?Response:void Ba("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const $a={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Ya=new Wa(3e4,6e4);function Xa(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function Za(e,t,n,r){return ec(e,arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},(async()=>{let i={},o={};r&&("GET"===t?o=r:i={body:JSON.stringify(r)});const s=To(Object.assign({key:e.config.apiKey},o)).slice(1),a=await e._getAdditionalHeaders();return a["Content-Type"]="application/json",e.languageCode&&(a["X-Firebase-Locale"]=e.languageCode),Ja.fetch()(nc(e,e.config.apiHost,n,s),Object.assign({method:t,headers:a,referrerPolicy:"no-referrer"},i))}))}async function ec(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},$a),t);try{const t=new ic(e),i=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw oc(e,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const t=i.ok?o.errorMessage:o.error.message,[n,s]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw oc(e,"credential-already-in-use",o);if("EMAIL_EXISTS"===n)throw oc(e,"email-already-in-use",o);if("USER_DISABLED"===n)throw oc(e,"user-disabled",o);const a=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(s)throw Fa(e,a,s);La(e,a)}}catch(vV){if(vV instanceof yo)throw vV;La(e,"network-request-failed",{message:String(vV)})}}async function tc(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const o=await Za(e,t,n,r,i);return"mfaPendingCredential"in o&&La(e,"multi-factor-auth-required",{_serverResponse:o}),o}function nc(e,t,n,r){const i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?Qa(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}function rc(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class ic{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise(((e,t)=>{this.timer=setTimeout((()=>t(Ma(this.auth,"network-request-failed"))),Ya.get())}))}clearNetworkTimeout(){clearTimeout(this.timer)}}function oc(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Ma(e,t,r);return i.customData._tokenResponse=n,i}function sc(e){return void 0!==e&&void 0!==e.getResponse}function ac(e){return void 0!==e&&void 0!==e.enterprise}class cc{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return rc(t.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}}async function lc(e,t){return Za(e,"GET","/v2/recaptchaConfig",Xa(e,t))}async function uc(e,t){return Za(e,"POST","/v1/accounts:lookup",t)}function hc(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(vV){}}function dc(e){return 1e3*Number(e)}function fc(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return Da("JWT malformed, contained fewer than 3 sections"),null;try{const e=no(n);return e?JSON.parse(e):(Da("Failed to decode base64 JWT payload"),null)}catch(vV){return Da("Caught error parsing JWT payload as JSON",null===vV||void 0===vV?void 0:vV.toString()),null}}function pc(e){const t=fc(e);return za(t,"internal-error"),za("undefined"!==typeof t.exp,"internal-error"),za("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}async function mc(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2])return t;try{return await t}catch(vV){throw vV instanceof yo&&function(e){let{code:t}=e;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}(vV)&&e.auth.currentUser===e&&await e.auth.signOut(),vV}}class gc{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout((async()=>{await this.iteration()}),t)}async iteration(){try{await this.user.getIdToken(!0)}catch(vV){return void((null===vV||void 0===vV?void 0:vV.code)==="auth/".concat("network-request-failed")&&this.schedule(!0))}this.schedule()}}class vc{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=hc(this.lastLoginAt),this.creationTime=hc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function yc(e){var t;const n=e.auth,r=await e.getIdToken(),i=await mc(e,uc(n,{idToken:r}));za(null===i||void 0===i?void 0:i.users.length,n,"internal-error");const o=i.users[0];e._notifyReloadListener(o);const s=(null===(t=o.providerUserInfo)||void 0===t?void 0:t.length)?wc(o.providerUserInfo):[],a=(c=e.providerData,l=s,[...c.filter((e=>!l.some((t=>t.providerId===e.providerId)))),...l]);var c,l;const u=e.isAnonymous,h=!(e.email&&o.passwordHash)&&!(null===a||void 0===a?void 0:a.length),d=!!u&&h,f={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new vc(o.createdAt,o.lastLoginAt),isAnonymous:d};Object.assign(e,f)}function wc(e){return e.map((e=>{var{providerId:t}=e,n=_a(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}))}class bc{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){za(e.idToken,"internal-error"),za("undefined"!==typeof e.idToken,"internal-error"),za("undefined"!==typeof e.refreshToken,"internal-error");const t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):pc(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){za(0!==e.length,"internal-error");const t=pc(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]||!this.accessToken||this.isExpired?(za(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null):this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:r,expiresIn:i}=await async function(e,t){const n=await ec(e,{},(async()=>{const n=To({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:i}=e.config,o=nc(e,r,"/v1/token","key=".concat(i)),s=await e._getAdditionalHeaders();return s["Content-Type"]="application/x-www-form-urlencoded",Ja.fetch()(o,{method:"POST",headers:s,body:n})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,r,Number(i))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:i}=t,o=new bc;return n&&(za("string"===typeof n,"internal-error",{appName:e}),o.refreshToken=n),r&&(za("string"===typeof r,"internal-error",{appName:e}),o.accessToken=r),i&&(za("number"===typeof i,"internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new bc,this.toJSON())}_performRefresh(){return Ba("not implemented")}}function _c(e,t){za("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}class Ec{constructor(e){var{uid:t,auth:n,stsTokenManager:r}=e,i=_a(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new gc(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new vc(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await mc(this,this.stsTokenManager.getToken(this.auth,e));return za(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=Ao(e),r=await n.getIdToken(t),i=fc(r);za(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o="object"===typeof i.firebase?i.firebase:void 0,s=null===o||void 0===o?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:hc(dc(i.auth_time)),issuedAtTime:hc(dc(i.iat)),expirationTime:hc(dc(i.exp)),signInProvider:s||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=Ao(e);await yc(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(za(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((e=>Object.assign({},e))),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Ec(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){za(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await yc(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ks(this.auth.app))return Promise.reject(Ua(this.auth));const e=await this.getIdToken();return await mc(this,async function(e,t){return Za(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((e=>Object.assign({},e))),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,i,o,s,a,c,l;const u=null!==(n=t.displayName)&&void 0!==n?n:void 0,h=null!==(r=t.email)&&void 0!==r?r:void 0,d=null!==(i=t.phoneNumber)&&void 0!==i?i:void 0,f=null!==(o=t.photoURL)&&void 0!==o?o:void 0,p=null!==(s=t.tenantId)&&void 0!==s?s:void 0,m=null!==(a=t._redirectEventId)&&void 0!==a?a:void 0,g=null!==(c=t.createdAt)&&void 0!==c?c:void 0,v=null!==(l=t.lastLoginAt)&&void 0!==l?l:void 0,{uid:y,emailVerified:w,isAnonymous:b,providerData:_,stsTokenManager:E}=t;za(y&&E,e,"internal-error");const I=bc.fromJSON(this.name,E);za("string"===typeof y,e,"internal-error"),_c(u,e.name),_c(h,e.name),za("boolean"===typeof w,e,"internal-error"),za("boolean"===typeof b,e,"internal-error"),_c(d,e.name),_c(f,e.name),_c(p,e.name),_c(m,e.name),_c(g,e.name),_c(v,e.name);const T=new Ec({uid:y,auth:e,email:h,emailVerified:w,displayName:u,isAnonymous:b,photoURL:f,phoneNumber:d,tenantId:p,stsTokenManager:I,createdAt:g,lastLoginAt:v});return _&&Array.isArray(_)&&(T.providerData=_.map((e=>Object.assign({},e)))),m&&(T._redirectEventId=m),T}static async _fromIdTokenResponse(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=new bc;r.updateFromServerResponse(t);const i=new Ec({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await yc(i),i}static async _fromGetAccountInfoResponse(e,t,n){const r=t.users[0];za(void 0!==r.localId,"internal-error");const i=void 0!==r.providerUserInfo?wc(r.providerUserInfo):[],o=!(r.email&&r.passwordHash)&&!(null===i||void 0===i?void 0:i.length),s=new bc;s.updateFromIdToken(n);const a=new Ec({uid:r.localId,auth:e,stsTokenManager:s,isAnonymous:o}),c={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:i,metadata:new vc(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(null===i||void 0===i?void 0:i.length)};return Object.assign(a,c),a}}const Ic=new Map;function Tc(e){qa(e instanceof Function,"Expected a class definition");let t=Ic.get(e);return t?(qa(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,Ic.set(e,t),t)}class Sc{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}Sc.type="NONE";const kc=Sc;function Cc(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}class xc{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:i}=this.auth;this.fullUserKey=Cc(this.userKey,r.apiKey,i),this.fullPersistenceKey=Cc("persistence",r.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Ec._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"authUser";if(!t.length)return new xc(Tc(kc),e,n);const r=(await Promise.all(t.map((async e=>{if(await e._isAvailable())return e})))).filter((e=>e));let i=r[0]||Tc(kc);const o=Cc(n,e.config.apiKey,e.name);let s=null;for(const l of t)try{const t=await l._get(o);if(t){const n=Ec._fromJSON(e,t);l!==i&&(s=n),i=l;break}}catch(c){}const a=r.filter((e=>e._shouldAllowMigration));return i._shouldAllowMigration&&a.length?(i=a[0],s&&await i._set(o,s.toJSON()),await Promise.all(t.map((async e=>{if(e!==i)try{await e._remove(o)}catch(c){}}))),new xc(i,e,n)):new xc(i,e,n)}}function Nc(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Oc(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Ac(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Lc(t))return"Blackberry";if(Mc(t))return"Webos";if(Pc(t))return"Safari";if((t.includes("chrome/")||Rc(t))&&!t.includes("edge/"))return"Chrome";if(Dc(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null===n||void 0===n?void 0:n.length))return n[1]}return"Other"}function Ac(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:lo();return/firefox\//i.test(e)}function Pc(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:lo()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Rc(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:lo();return/crios\//i.test(e)}function Oc(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:lo();return/iemobile/i.test(e)}function Dc(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:lo();return/android/i.test(e)}function Lc(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:lo();return/blackberry/i.test(e)}function Mc(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:lo();return/webos/i.test(e)}function Fc(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:lo();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function Uc(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:lo();return Fc(e)||Dc(e)||Mc(e)||Lc(e)||/windows phone/i.test(e)||Oc(e)}function jc(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=Nc(lo());break;case"Worker":t="".concat(Nc(lo()),"-").concat(e);break;default:t=e}const r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(Js,"/").concat(r)}class Vc{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise(((n,r)=>{try{n(e(t))}catch(vV){r(vV)}}));n.onAbort=t,this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(vV){t.reverse();for(const r of t)try{r()}catch(n){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===vV||void 0===vV?void 0:vV.message})}}}class zc{constructor(e){var t,n,r,i;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(t=o.minPasswordLength)&&void 0!==t?t:6,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),void 0!==o.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),void 0!==o.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),void 0!==o.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),void 0!==o.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(r=null===(n=e.allowedNonAlphanumericCharacters)||void 0===n?void 0:n.join(""))&&void 0!==r?r:"",this.forceUpgradeOnSignin=null!==(i=e.forceUpgradeOnSignin)&&void 0!==i&&i,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,n,r,i,o,s;const a={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,a),this.validatePasswordCharacterOptions(e,a),a.isValid&&(a.isValid=null===(t=a.meetsMinPasswordLength)||void 0===t||t),a.isValid&&(a.isValid=null===(n=a.meetsMaxPasswordLength)||void 0===n||n),a.isValid&&(a.isValid=null===(r=a.containsLowercaseLetter)||void 0===r||r),a.isValid&&(a.isValid=null===(i=a.containsUppercaseLetter)||void 0===i||i),a.isValid&&(a.isValid=null===(o=a.containsNumericCharacter)||void 0===o||o),a.isValid&&(a.isValid=null===(s=a.containsNonAlphanumericCharacter)||void 0===s||s),a}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){let n;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let r=0;r<e.length;r++)n=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,r,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}class Bc{constructor(e,t,n,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Kc(this),this.idTokenSubscription=new Kc(this),this.beforeStateQueue=new Vc(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Ra,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Tc(t)),this._initializationPromise=this.queue((async()=>{var n,r;if(!this._deleted&&(this.persistenceManager=await xc.create(this,e),!this._deleted)){if(null===(n=this._popupRedirectResolver)||void 0===n?void 0:n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(vV){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(r=this.currentUser)||void 0===r?void 0:r.uid)||null,this._deleted||(this._isInitialized=!0)}})),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e,!0):void 0}async initializeCurrentUserFromIdToken(e){try{const t=await uc(this,{idToken:e}),n=await Ec._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(n)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(Ks(this.app)){const e=this.app.settings.authIdToken;return e?new Promise((t=>{setTimeout((()=>this.initializeCurrentUserFromIdToken(e).then(t,t)))})):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const n=null===(t=this.redirectUser)||void 0===t?void 0:t._redirectEventId,o=null===r||void 0===r?void 0:r._redirectEventId,s=await this.tryRedirectSignIn(e);n&&n!==o||!(null===s||void 0===s?void 0:s.user)||(r=s.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(vV){r=n,this._popupRedirectResolver._overrideRedirectResult(this,(()=>Promise.reject(vV)))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return za(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(vV){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await yc(e)}catch(vV){if((null===vV||void 0===vV?void 0:vV.code)!=="auth/".concat("network-request-failed"))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"===typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Ks(this.app))return Promise.reject(Ua(this));const t=e?Ao(e):null;return t&&za(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this._deleted)return e&&za(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue((async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()}))}async signOut(){return Ks(this.app)?Promise.reject(Ua(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Ks(this.app)?Promise.reject(Ua(this)):this.queue((async()=>{await this.assertedPersistence.setPersistence(Tc(e))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await async function(e){return Za(e,"GET","/v2/passwordPolicy",Xa(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}))}(this),t=new zc(e);null===this.tenantId?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new wo("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise(((e,t)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged((()=>{n(),e()}),t)}}))}async revokeAccessToken(e){if(this.currentUser){const t={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:await this.currentUser.getIdToken()};null!=this.tenantId&&(t.tenantId=this.tenantId),await async function(e,t){return Za(e,"POST","/v2/accounts:revokeToken",Xa(e,t))}(this,t)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Tc(e)||this._popupRedirectResolver;za(t,this,"argument-error"),this.redirectPersistenceManager=await xc.create(this,[Tc(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue((async()=>{})),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue((async()=>this.directlySetCurrentUser(e)))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const i="function"===typeof t?t:t.next.bind(t);let o=!1;const s=this._isInitialized?Promise.resolve():this._initializationPromise;if(za(s,this,"internal-error"),s.then((()=>{o||i(this.currentUser)})),"function"===typeof t){const i=e.addObserver(t,n,r);return()=>{o=!0,i()}}{const n=e.addObserver(t);return()=>{o=!0,n()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return za(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=jc(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var e;const t=await(null===(e=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken());return(null===t||void 0===t?void 0:t.error)&&function(e){if(Oa.logLevel<=Mo.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Oa.warn("Auth (".concat(Js,"): ").concat(e),...n)}}("Error while retrieving App Check token: ".concat(t.error)),null===t||void 0===t?void 0:t.token}}function qc(e){return Ao(e)}class Kc{constructor(e){this.auth=e,this.observer=null,this.addObserver=Co((e=>this.observer=e))}get next(){return za(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Hc={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Gc(e){return Hc.loadJS(e)}function Wc(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}class Qc{constructor(e){this.type="recaptcha-enterprise",this.auth=qc(e)}async verify(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"verify",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function n(t,n,r){const i=window.grecaptcha;ac(i)?i.enterprise.ready((()=>{i.enterprise.execute(t,{action:e}).then((e=>{n(e)})).catch((()=>{n("NO_RECAPTCHA")}))})):r(Error("No reCAPTCHA enterprise script loaded."))}return new Promise(((e,r)=>{(async function(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise((async(t,n)=>{lc(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then((r=>{if(void 0!==r.recaptchaKey){const n=new cc(r);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}n(new Error("recaptcha Enterprise site key undefined"))})).catch((e=>{n(e)}))}))})(this.auth).then((i=>{if(!t&&ac(window.grecaptcha))n(i,e,r);else{if("undefined"===typeof window)return void r(new Error("RecaptchaVerifier is only supported in browser"));let t=Hc.recaptchaEnterpriseScript;0!==t.length&&(t+=i),Gc(t).then((()=>{n(i,e,r)})).catch((e=>{r(e)}))}})).catch((e=>{r(e)}))}))}}async function Jc(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=new Qc(e);let o;try{o=await i.verify(n)}catch(a){o=await i.verify(n,!0)}const s=Object.assign({},t);return r?Object.assign(s,{captchaResp:o}):Object.assign(s,{captchaResponse:o}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),s}async function $c(e,t,n,r){var i;if(null===(i=e._getRecaptchaConfig())||void 0===i?void 0:i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await Jc(e,t,n,"getOobCode"===n);return r(e,i)}return r(e,t).catch((async i=>{if(i.code==="auth/".concat("missing-recaptcha-token")){console.log("".concat(n," is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow."));const i=await Jc(e,t,n,"getOobCode"===n);return r(e,i)}return Promise.reject(i)}))}function Yc(e,t,n){const r=qc(e);za(r._canInitEmulator,r,"emulator-config-failed"),za(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!!(null===n||void 0===n?void 0:n.disableWarnings),o=Xc(t),{host:s,port:a}=function(e){const t=Xc(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const e=i[1];return{host:e,port:Zc(r.substr(e.length+1))}}{const[e,t]=r.split(":");return{host:e,port:Zc(t)}}}(t),c=null===a?"":":".concat(a);r.config.emulator={url:"".concat(o,"//").concat(s).concat(c,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function Xc(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function Zc(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class el{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Ba("not implemented")}_getIdTokenResponse(e){return Ba("not implemented")}_linkToIdToken(e,t){return Ba("not implemented")}_getReauthenticationResolver(e){return Ba("not implemented")}}async function tl(e,t){return Za(e,"POST","/v1/accounts:resetPassword",Xa(e,t))}async function nl(e,t){return Za(e,"POST","/v1/accounts:signUp",t)}async function rl(e,t){return tc(e,"POST","/v1/accounts:signInWithPassword",Xa(e,t))}async function il(e,t){return Za(e,"POST","/v1/accounts:sendOobCode",Xa(e,t))}async function ol(e,t){return il(e,t)}async function sl(e,t){return il(e,t)}class al extends el{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new al(e,t,"password")}static _fromEmailAndCode(e,t){return new al(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return $c(e,{returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",rl);case"emailLink":return async function(e,t){return tc(e,"POST","/v1/accounts:signInWithEmailLink",Xa(e,t))}(e,{email:this._email,oobCode:this._password});default:La(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return $c(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",nl);case"emailLink":return async function(e,t){return tc(e,"POST","/v1/accounts:signInWithEmailLink",Xa(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:La(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function cl(e,t){return tc(e,"POST","/v1/accounts:signInWithIdp",Xa(e,t))}class ll extends el{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new ll(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):La("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,i=_a(t,["providerId","signInMethod"]);if(!n||!r)return null;const o=new ll(n,r);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){return cl(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,cl(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,cl(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=To(t)}return e}}const ul={USER_NOT_FOUND:"user-not-found"};class hl extends el{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new hl({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new hl({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return tc(e,"POST","/v1/accounts:signInWithPhoneNumber",Xa(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await tc(e,"POST","/v1/accounts:signInWithPhoneNumber",Xa(e,t));if(n.temporaryProof)throw oc(e,"account-exists-with-different-credential",n);return n}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return tc(e,"POST","/v1/accounts:signInWithPhoneNumber",Xa(e,Object.assign(Object.assign({},t),{operation:"REAUTH"})),ul)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"===typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}=e;return n||t||r||i?new hl({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}):null}}class dl{constructor(e){var t,n,r,i,o,s;const a=So(ko(e)),c=null!==(t=a.apiKey)&&void 0!==t?t:null,l=null!==(n=a.oobCode)&&void 0!==n?n:null,u=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=a.mode)&&void 0!==r?r:null);za(c&&l&&u,"argument-error"),this.apiKey=c,this.operation=u,this.code=l,this.continueUrl=null!==(i=a.continueUrl)&&void 0!==i?i:null,this.languageCode=null!==(o=a.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(s=a.tenantId)&&void 0!==s?s:null}static parseLink(e){const t=function(e){const t=So(ko(e)).link,n=t?So(ko(t)).deep_link_id:null,r=So(ko(e)).deep_link_id;return(r?So(ko(r)).link:null)||r||n||t||e}(e);try{return new dl(t)}catch(n){return null}}}class fl{constructor(){this.providerId=fl.PROVIDER_ID}static credential(e,t){return al._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=dl.parseLink(t);return za(n,"argument-error"),al._fromEmailAndCode(e,n.code,n.tenantId)}}fl.PROVIDER_ID="password",fl.EMAIL_PASSWORD_SIGN_IN_METHOD="password",fl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class pl{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class ml extends pl{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class gl extends ml{static credentialFromJSON(e){const t="string"===typeof e?JSON.parse(e):e;return za("providerId"in t&&"signInMethod"in t,"argument-error"),ll._fromParams(t)}credential(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}_credential(e){return za(e.idToken||e.accessToken,"argument-error"),ll._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(e){return gl.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return gl.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r,oauthTokenSecret:i,pendingToken:o,nonce:s,providerId:a}=t;if(!r&&!i&&!n&&!o)return null;if(!a)return null;try{return new gl(a)._credential({idToken:n,accessToken:r,nonce:s,pendingToken:o})}catch(vV){return null}}}class vl extends ml{constructor(){super("facebook.com")}static credential(e){return ll._fromParams({providerId:vl.PROVIDER_ID,signInMethod:vl.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return vl.credentialFromTaggedObject(e)}static credentialFromError(e){return vl.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return vl.credential(t.oauthAccessToken)}catch(n){return null}}}vl.FACEBOOK_SIGN_IN_METHOD="facebook.com",vl.PROVIDER_ID="facebook.com";class yl extends ml{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return ll._fromParams({providerId:yl.PROVIDER_ID,signInMethod:yl.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return yl.credentialFromTaggedObject(e)}static credentialFromError(e){return yl.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return yl.credential(n,r)}catch(i){return null}}}yl.GOOGLE_SIGN_IN_METHOD="google.com",yl.PROVIDER_ID="google.com";class wl extends ml{constructor(){super("github.com")}static credential(e){return ll._fromParams({providerId:wl.PROVIDER_ID,signInMethod:wl.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return wl.credentialFromTaggedObject(e)}static credentialFromError(e){return wl.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return wl.credential(t.oauthAccessToken)}catch(n){return null}}}wl.GITHUB_SIGN_IN_METHOD="github.com",wl.PROVIDER_ID="github.com";class bl extends el{constructor(e,t){super(e,e),this.pendingToken=t}_getIdTokenResponse(e){return cl(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,cl(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,cl(e,t)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r,pendingToken:i}=t;return n&&r&&i&&n===r?new bl(n,i):null}static _create(e,t){return new bl(e,t)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class _l extends pl{constructor(e){za(e.startsWith("saml."),"argument-error"),super(e)}static credentialFromResult(e){return _l.samlCredentialFromTaggedObject(e)}static credentialFromError(e){return _l.samlCredentialFromTaggedObject(e.customData||{})}static credentialFromJSON(e){const t=bl.fromJSON(e);return za(t,"argument-error"),t}static samlCredentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{pendingToken:n,providerId:r}=t;if(!n||!r)return null;try{return bl._create(r,n)}catch(vV){return null}}}class El extends ml{constructor(){super("twitter.com")}static credential(e,t){return ll._fromParams({providerId:El.PROVIDER_ID,signInMethod:El.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return El.credentialFromTaggedObject(e)}static credentialFromError(e){return El.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return El.credential(n,r)}catch(i){return null}}}async function Il(e,t){return tc(e,"POST","/v1/accounts:signUp",Xa(e,t))}El.TWITTER_SIGN_IN_METHOD="twitter.com",El.PROVIDER_ID="twitter.com";class Tl{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=await Ec._fromIdTokenResponse(e,n,r),o=Sl(n);return new Tl({user:i,providerId:o,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=Sl(n);return new Tl({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function Sl(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class kl extends yo{constructor(e,t,n,r){var i;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,kl.prototype),this.customData={appName:e.name,tenantId:null!==(i=e.tenantId)&&void 0!==i?i:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new kl(e,t,n,r)}}function Cl(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((n=>{if(n.code==="auth/".concat("multi-factor-auth-required"))throw kl._fromErrorAndOperation(e,n,t,r);throw n}))}function xl(e){return new Set(e.map((e=>{let{providerId:t}=e;return t})).filter((e=>!!e)))}async function Nl(e,t){const n=Ao(e);await Pl(!0,n,t);const{providerUserInfo:r}=await async function(e,t){return Za(e,"POST","/v1/accounts:update",t)}(n.auth,{idToken:await n.getIdToken(),deleteProvider:[t]}),i=xl(r||[]);return n.providerData=n.providerData.filter((e=>i.has(e.providerId))),i.has("phone")||(n.phoneNumber=null),await n.auth._persistUserIfCurrent(n),n}async function Al(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=await mc(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return Tl._forOperation(e,"link",r)}async function Pl(e,t,n){await yc(t);const r=!1===e?"provider-already-linked":"no-such-provider";za(xl(t.providerData).has(n)===e,t.auth,r)}async function Rl(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{auth:r}=e;if(Ks(r.app))return Promise.reject(Ua(r));const i="reauthenticate";try{const o=await mc(e,Cl(r,i,t,e),n);za(o.idToken,r,"internal-error");const s=fc(o.idToken);za(s,r,"internal-error");const{sub:a}=s;return za(e.uid===a,r,"user-mismatch"),Tl._forOperation(e,i,o)}catch(vV){throw(null===vV||void 0===vV?void 0:vV.code)==="auth/".concat("user-not-found")&&La(r,"user-mismatch"),vV}}async function Ol(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(Ks(e.app))return Promise.reject(Ua(e));const r="signIn",i=await Cl(e,r,t),o=await Tl._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(o.user),o}async function Dl(e,t){return Ol(qc(e),t)}async function Ll(e,t){const n=Ao(e);return await Pl(!1,n,t.providerId),Al(n,t)}async function Ml(e,t){return Rl(Ao(e),t)}async function Fl(e,t){if(Ks(e.app))return Promise.reject(Ua(e));const n=qc(e),r=await async function(e,t){return tc(e,"POST","/v1/accounts:signInWithCustomToken",Xa(e,t))}(n,{token:t,returnSecureToken:!0}),i=await Tl._fromIdTokenResponse(n,"signIn",r);return await n._updateCurrentUser(i.user),i}class Ul{constructor(e,t){this.factorId=e,this.uid=t.mfaEnrollmentId,this.enrollmentTime=new Date(t.enrolledAt).toUTCString(),this.displayName=t.displayName}static _fromServerResponse(e,t){return"phoneInfo"in t?jl._fromServerResponse(e,t):"totpInfo"in t?Vl._fromServerResponse(e,t):La(e,"internal-error")}}class jl extends Ul{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,t){return new jl(t)}}class Vl extends Ul{constructor(e){super("totp",e)}static _fromServerResponse(e,t){return new Vl(t)}}function zl(e,t,n){var r;za((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),za("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(za(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(za(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}async function Bl(e){const t=qc(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function ql(e,t){await async function(e,t){return Za(e,"POST","/v1/accounts:update",Xa(e,t))}(Ao(e),{oobCode:t})}async function Kl(e,t){const n=Ao(e),r=await tl(n,{oobCode:t}),i=r.requestType;switch(za(i,n,"internal-error"),i){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":za(r.newEmail,n,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":za(r.mfaInfo,n,"internal-error");default:za(r.email,n,"internal-error")}let o=null;return r.mfaInfo&&(o=Ul._fromServerResponse(qc(n),r.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===r.requestType?r.newEmail:r.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===r.requestType?r.email:r.newEmail)||null,multiFactorInfo:o},operation:i}}async function Hl(e,t){const n={identifier:t,continueUri:Ha()?Ka():"http://localhost"},{signinMethods:r}=await async function(e,t){return Za(e,"POST","/v1/accounts:createAuthUri",Xa(e,t))}(Ao(e),n);return r||[]}async function Gl(e,t){const n=Ao(e),r={requestType:"VERIFY_EMAIL",idToken:await e.getIdToken()};t&&zl(n.auth,r,t);const{email:i}=await async function(e,t){return il(e,t)}(n.auth,r);i!==e.email&&await e.reload()}async function Wl(e,t,n){const r=Ao(e),i={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:await e.getIdToken(),newEmail:t};n&&zl(r.auth,i,n);const{email:o}=await async function(e,t){return il(e,t)}(r.auth,i);o!==e.email&&await e.reload()}async function Ql(e,t){let{displayName:n,photoURL:r}=t;if(void 0===n&&void 0===r)return;const i=Ao(e),o={idToken:await i.getIdToken(),displayName:n,photoUrl:r,returnSecureToken:!0},s=await mc(i,async function(e,t){return Za(e,"POST","/v1/accounts:update",t)}(i.auth,o));i.displayName=s.displayName||null,i.photoURL=s.photoUrl||null;const a=i.providerData.find((e=>{let{providerId:t}=e;return"password"===t}));a&&(a.displayName=i.displayName,a.photoURL=i.photoURL),await i._updateTokensIfNecessary(s)}async function Jl(e,t,n){const{auth:r}=e,i={idToken:await e.getIdToken(),returnSecureToken:!0};t&&(i.email=t),n&&(i.password=n);const o=await mc(e,async function(e,t){return Za(e,"POST","/v1/accounts:update",t)}(r,i));await e._updateTokensIfNecessary(o,!0)}class $l{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.isNewUser=e,this.providerId=t,this.profile=n}}class Yl extends $l{constructor(e,t,n,r){super(e,t,n),this.username=r}}class Xl extends $l{constructor(e,t){super(e,"facebook.com",t)}}class Zl extends Yl{constructor(e,t){super(e,"github.com",t,"string"===typeof(null===t||void 0===t?void 0:t.login)?null===t||void 0===t?void 0:t.login:null)}}class eu extends $l{constructor(e,t){super(e,"google.com",t)}}class tu extends Yl{constructor(e,t,n){super(e,"twitter.com",t,n)}}function nu(e){const{user:t,_tokenResponse:n}=e;return t.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:function(e){var t,n;if(!e)return null;const{providerId:r}=e,i=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},o=e.isNewUser||"identitytoolkit#SignupNewUserResponse"===e.kind;if(!r&&(null===e||void 0===e?void 0:e.idToken)){const r=null===(n=null===(t=fc(e.idToken))||void 0===t?void 0:t.firebase)||void 0===n?void 0:n.sign_in_provider;if(r)return new $l(o,"anonymous"!==r&&"custom"!==r?r:null)}if(!r)return null;switch(r){case"facebook.com":return new Xl(o,i);case"github.com":return new Zl(o,i);case"google.com":return new eu(o,i);case"twitter.com":return new tu(o,i,e.screenName||null);case"custom":case"anonymous":return new $l(o,null);default:return new $l(o,r,i)}}(n)}class ru{constructor(e,t,n){this.type=e,this.credential=t,this.user=n}static _fromIdtoken(e,t){return new ru("enroll",e,t)}static _fromMfaPendingCredential(e){return new ru("signin",e)}toJSON(){const e="enroll"===this.type?"idToken":"pendingCredential";return{multiFactorSession:{[e]:this.credential}}}static fromJSON(e){var t,n;if(null===e||void 0===e?void 0:e.multiFactorSession){if(null===(t=e.multiFactorSession)||void 0===t?void 0:t.pendingCredential)return ru._fromMfaPendingCredential(e.multiFactorSession.pendingCredential);if(null===(n=e.multiFactorSession)||void 0===n?void 0:n.idToken)return ru._fromIdtoken(e.multiFactorSession.idToken)}return null}}class iu{constructor(e,t,n){this.session=e,this.hints=t,this.signInResolver=n}static _fromError(e,t){const n=qc(e),r=t.customData._serverResponse,i=(r.mfaInfo||[]).map((e=>Ul._fromServerResponse(n,e)));za(r.mfaPendingCredential,n,"internal-error");const o=ru._fromMfaPendingCredential(r.mfaPendingCredential);return new iu(o,i,(async e=>{const i=await e._process(n,o);delete r.mfaInfo,delete r.mfaPendingCredential;const s=Object.assign(Object.assign({},r),{idToken:i.idToken,refreshToken:i.refreshToken});switch(t.operationType){case"signIn":const e=await Tl._fromIdTokenResponse(n,t.operationType,s);return await n._updateCurrentUser(e.user),e;case"reauthenticate":return za(t.user,n,"internal-error"),Tl._forOperation(t.user,t.operationType,s);default:La(n,"internal-error")}}))}async resolveSignIn(e){const t=e;return this.signInResolver(t)}}class ou{constructor(e){this.user=e,this.enrolledFactors=[],e._onReload((t=>{t.mfaInfo&&(this.enrolledFactors=t.mfaInfo.map((t=>Ul._fromServerResponse(e.auth,t))))}))}static _fromUser(e){return new ou(e)}async getSession(){return ru._fromIdtoken(await this.user.getIdToken(),this.user)}async enroll(e,t){const n=e,r=await this.getSession(),i=await mc(this.user,n._process(this.user.auth,r,t));return await this.user._updateTokensIfNecessary(i),this.user.reload()}async unenroll(e){const t="string"===typeof e?e:e.uid,n=await this.user.getIdToken();try{const e=await mc(this.user,(r=this.user.auth,i={idToken:n,mfaEnrollmentId:t},Za(r,"POST","/v2/accounts/mfaEnrollment:withdraw",Xa(r,i))));this.enrolledFactors=this.enrolledFactors.filter((e=>{let{uid:n}=e;return n!==t})),await this.user._updateTokensIfNecessary(e),await this.user.reload()}catch(vV){throw vV}var r,i}}const su=new WeakMap;const au="__sak";class cu{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(au,"1"),this.storage.removeItem(au),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class lu extends cu{constructor(){super((()=>window.localStorage),"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const e=lo();return Pc(e)||Fc(e)}()&&function(){try{return!(!window||window===window.top)}catch(vV){return!1}}(),this.fallbackToPolling=Uc(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e.key)return void this.forAllChangedKeys(((e,t,n)=>{this.notifyListeners(e,n)}));const n=e.key;if(t?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const r=this.storage.getItem(n);if(e.newValue!==r)null!==e.newValue?this.storage.setItem(n,e.newValue):this.storage.removeItem(n);else if(this.localCache[n]===e.newValue&&!t)return}const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},i=this.storage.getItem(n);mo()&&10===document.documentMode&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((()=>{this.forAllChangedKeys(((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)}))}),1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}lu.type="LOCAL";const uu=lu;class hu extends cu{constructor(){super((()=>window.sessionStorage),"SESSION")}_addListener(e,t){}_removeListener(e,t){}}hu.type="SESSION";const du=hu;class fu{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find((t=>t.isListeningto(e)));if(t)return t;const n=new fu(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:i}=t.data,o=this.handlersMap[r];if(!(null===o||void 0===o?void 0:o.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const s=Array.from(o).map((async e=>e(t.origin,i))),a=await function(e){return Promise.all(e.map((async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}})))}(s);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:a})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function pu(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="";for(let r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}fu.receivers=[];class mu{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;const r="undefined"!==typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let i,o;return new Promise(((s,a)=>{const c=pu("",20);r.port1.start();const l=setTimeout((()=>{a(new Error("unsupported_event"))}),n);o={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===c)switch(t.data.status){case"ack":clearTimeout(l),i=setTimeout((()=>{a(new Error("timeout"))}),3e3);break;case"done":clearTimeout(i),s(t.data.response);break;default:clearTimeout(l),clearTimeout(i),a(new Error("invalid_response"))}}},this.handlers.add(o),r.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:t},[r.port2])})).finally((()=>{o&&this.removeMessageHandler(o)}))}}function gu(){return window}function vu(){return"undefined"!==typeof gu().WorkerGlobalScope&&"function"===typeof gu().importScripts}const yu="firebaseLocalStorageDb",wu="firebaseLocalStorage",bu="fbase_key";class _u{constructor(e){this.request=e}toPromise(){return new Promise(((e,t)=>{this.request.addEventListener("success",(()=>{e(this.request.result)})),this.request.addEventListener("error",(()=>{t(this.request.error)}))}))}}function Eu(e,t){return e.transaction([wu],t?"readwrite":"readonly").objectStore(wu)}function Iu(){const e=indexedDB.open(yu,1);return new Promise(((t,n)=>{e.addEventListener("error",(()=>{n(e.error)})),e.addEventListener("upgradeneeded",(()=>{const t=e.result;try{t.createObjectStore(wu,{keyPath:bu})}catch(vV){n(vV)}})),e.addEventListener("success",(async()=>{const n=e.result;n.objectStoreNames.contains(wu)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(yu);return new _u(e).toPromise()}(),t(await Iu()))}))}))}async function Tu(e,t,n){const r=Eu(e,!0).put({[bu]:t,value:n});return new _u(r).toPromise()}function Su(e,t){const n=Eu(e,!0).delete(t);return new _u(n).toPromise()}class ku{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((()=>{}),(()=>{}))}async _openDb(){return this.db||(this.db=await Iu()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(vV){if(t++>3)throw vV;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return vu()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=fu._getInstance(vu()?self:null),this.receiver._subscribe("keyChanged",(async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)}))),this.receiver._subscribe("ping",(async(e,t)=>["keyChanged"]))}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(e){return null}}(),!this.activeServiceWorker)return;this.sender=new mu(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&(null===(e=n[0])||void 0===e?void 0:e.fulfilled)&&(null===(t=n[0])||void 0===t?void 0:t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&function(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(t){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Iu();return await Tu(e,au,"1"),await Su(e,au),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite((async()=>(await this._withRetries((n=>Tu(n,e,t))),this.localCache[e]=t,this.notifyServiceWorker(e))))}async _get(e){const t=await this._withRetries((t=>async function(e,t){const n=Eu(e,!1).get(t),r=await new _u(n).toPromise();return void 0===r?null:r.value}(t,e)));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite((async()=>(await this._withRetries((t=>Su(t,e))),delete this.localCache[e],this.notifyServiceWorker(e))))}async _poll(){const e=await this._withRetries((e=>{const t=Eu(e,!1).getAll();return new _u(t).toPromise()}));if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;if(0!==e.length)for(const{fbase_key:r,value:i}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!n.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((async()=>this._poll()),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}ku.type="LOCAL";const Cu=ku;const xu=1e12;class Nu{constructor(e){this.auth=e,this.counter=xu,this._widgets=new Map}render(e,t){const n=this.counter;return this._widgets.set(n,new Au(e,this.auth.name,t||{})),this.counter++,n}reset(e){var t;const n=e||xu;null===(t=this._widgets.get(n))||void 0===t||t.delete(),this._widgets.delete(n)}getResponse(e){var t;const n=e||xu;return(null===(t=this._widgets.get(n))||void 0===t?void 0:t.getResponse())||""}async execute(e){var t;const n=e||xu;return null===(t=this._widgets.get(n))||void 0===t||t.execute(),""}}class Au{constructor(e,t,n){this.params=n,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const r="string"===typeof e?document.getElementById(e):e;za(r,"argument-error",{appName:t}),this.container=r,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout((()=>{this.responseToken=function(e){const t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let r=0;r<e;r++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}(50);const{callback:e,"expired-callback":t}=this.params;if(e)try{e(this.responseToken)}catch(vV){}this.timerId=window.setTimeout((()=>{if(this.timerId=null,this.responseToken=null,t)try{t()}catch(vV){}this.isVisible&&this.execute()}),6e4)}),500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Pu=Wc("rcb"),Ru=new Wa(3e4,6e4);class Ou{constructor(){var e;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(null===(e=gu().grecaptcha)||void 0===e?void 0:e.render)}load(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return za(function(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}(t),e,"argument-error"),this.shouldResolveImmediately(t)&&sc(gu().grecaptcha)?Promise.resolve(gu().grecaptcha):new Promise(((n,r)=>{const i=gu().setTimeout((()=>{r(Ma(e,"network-request-failed"))}),Ru.get());gu()[Pu]=()=>{gu().clearTimeout(i),delete gu()[Pu];const o=gu().grecaptcha;if(!o||!sc(o))return void r(Ma(e,"internal-error"));const s=o.render;o.render=(e,t)=>{const n=s(e,t);return this.counter++,n},this.hostLanguage=t,n(o)};Gc("".concat(Hc.recaptchaV2Script,"?").concat(To({onload:Pu,render:"explicit",hl:t}))).catch((()=>{clearTimeout(i),r(Ma(e,"internal-error"))}))}))}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){var t;return!!(null===(t=gu().grecaptcha)||void 0===t?void 0:t.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Du{async load(e){return new Nu(e)}clearedOneInstance(){}}const Lu="recaptcha",Mu={theme:"light",type:"image"};class Fu{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Object.assign({},Mu);this.parameters=n,this.type=Lu,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=qc(e),this.isInvisible="invisible"===this.parameters.size,za("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment");const r="string"===typeof t?document.getElementById(t):t;za(r,this.auth,"argument-error"),this.container=r,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Du:new Ou,this.validateStartingState()}async verify(){this.assertNotDestroyed();const e=await this.render(),t=this.getAssertedRecaptcha(),n=t.getResponse(e);return n||new Promise((n=>{const r=e=>{e&&(this.tokenChangeListeners.delete(r),n(e))};this.tokenChangeListeners.add(r),this.isInvisible&&t.execute(e)}))}render(){try{this.assertNotDestroyed()}catch(vV){return Promise.reject(vV)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch((e=>{throw this.renderPromise=null,e}))),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach((e=>{this.container.removeChild(e)}))}validateStartingState(){za(!this.parameters.sitekey,this.auth,"argument-error"),za(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),za("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return t=>{if(this.tokenChangeListeners.forEach((e=>e(t))),"function"===typeof e)e(t);else if("string"===typeof e){const n=gu()[e];"function"===typeof n&&n(t)}}}assertNotDestroyed(){za(!this.destroyed,this.auth,"internal-error")}async makeRenderPromise(){if(await this.init(),!this.widgetId){let e=this.container;if(!this.isInvisible){const t=document.createElement("div");e.appendChild(t),e=t}this.widgetId=this.getAssertedRecaptcha().render(e,this.parameters)}return this.widgetId}async init(){za(Ha()&&!vu(),this.auth,"internal-error"),await function(){let e=null;return new Promise((t=>{"complete"!==document.readyState?(e=()=>t(),window.addEventListener("load",e)):t()})).catch((t=>{throw e&&window.removeEventListener("load",e),t}))}(),this.recaptcha=await this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);const e=await async function(e){return(await Za(e,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""}(this.auth);za(e,this.auth,"internal-error"),this.parameters.sitekey=e}getAssertedRecaptcha(){return za(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Uu{constructor(e,t){this.verificationId=e,this.onConfirmation=t}confirm(e){const t=hl._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}async function ju(e,t,n){var r;const i=await n.verify();try{let o;if(za("string"===typeof i,e,"argument-error"),za(n.type===Lu,e,"argument-error"),o="string"===typeof t?{phoneNumber:t}:t,"session"in o){const t=o.session;if("phoneNumber"in o){za("enroll"===t.type,e,"internal-error");const n=await function(e,t){return Za(e,"POST","/v2/accounts/mfaEnrollment:start",Xa(e,t))}(e,{idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:i}});return n.phoneSessionInfo.sessionInfo}{za("signin"===t.type,e,"internal-error");const n=(null===(r=o.multiFactorHint)||void 0===r?void 0:r.uid)||o.multiFactorUid;za(n,e,"missing-multi-factor-info");const s=await function(e,t){return Za(e,"POST","/v2/accounts/mfaSignIn:start",Xa(e,t))}(e,{mfaPendingCredential:t.credential,mfaEnrollmentId:n,phoneSignInInfo:{recaptchaToken:i}});return s.phoneResponseInfo.sessionInfo}}{const{sessionInfo:t}=await async function(e,t){return Za(e,"POST","/v1/accounts:sendVerificationCode",Xa(e,t))}(e,{phoneNumber:o.phoneNumber,recaptchaToken:i});return t}}finally{n._reset()}}class Vu{constructor(e){this.providerId=Vu.PROVIDER_ID,this.auth=qc(e)}verifyPhoneNumber(e,t){return ju(this.auth,e,Ao(t))}static credential(e,t){return hl._fromVerification(e,t)}static credentialFromResult(e){const t=e;return Vu.credentialFromTaggedObject(t)}static credentialFromError(e){return Vu.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{phoneNumber:n,temporaryProof:r}=t;return n&&r?hl._fromTokenResponse(n,r):null}}function zu(e,t){return t?Tc(t):(za(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}Vu.PROVIDER_ID="phone",Vu.PHONE_SIGN_IN_METHOD="phone";class Bu extends el{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return cl(e,this._buildIdpRequest())}_linkToIdToken(e,t){return cl(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return cl(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function qu(e){return Ol(e.auth,new Bu(e),e.bypassAuthState)}function Ku(e){const{auth:t,user:n}=e;return za(n,t,"internal-error"),Rl(n,new Bu(e),e.bypassAuthState)}async function Hu(e){const{auth:t,user:n}=e;return za(n,t,"internal-error"),Al(n,new Bu(e),e.bypassAuthState)}class Gu{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(vV){this.reject(vV)}}))}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:i,error:o,type:s}=e;if(o)return void this.reject(o);const a={auth:this.auth,requestUri:t,sessionId:n,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(s)(a))}catch(vV){this.reject(vV)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return qu;case"linkViaPopup":case"linkViaRedirect":return Hu;case"reauthViaPopup":case"reauthViaRedirect":return Ku;default:La(this.auth,"internal-error")}}resolve(e){qa(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){qa(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Wu=new Wa(2e3,1e4);class Qu extends Gu{constructor(e,t,n,r,i){super(e,t,r,i),this.provider=n,this.authWindow=null,this.pollId=null,Qu.currentPopupAction&&Qu.currentPopupAction.cancel(),Qu.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return za(e,this.auth,"internal-error"),e}async onExecution(){qa(1===this.filter.length,"Popup operations only handle one event");const e=pu();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch((e=>{this.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(e=>{e||this.reject(Ma(this.auth,"web-storage-unsupported"))})),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(Ma(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Qu.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;(null===(n=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===n?void 0:n.closed)?this.pollId=window.setTimeout((()=>{this.pollId=null,this.reject(Ma(this.auth,"popup-closed-by-user"))}),8e3):this.pollId=window.setTimeout(e,Wu.get())};e()}}Qu.currentPopupAction=null;const Ju="pendingRedirect",$u=new Map;class Yu extends Gu{constructor(e,t){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,arguments.length>2&&void 0!==arguments[2]&&arguments[2]),this.eventId=null}async execute(){let e=$u.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=th(t),r=eh(e);if(!await r._isAvailable())return!1;const i="true"===await r._get(n);return await r._remove(n),i}(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(t)}catch(vV){e=()=>Promise.reject(vV)}$u.set(this.auth._key(),e)}return this.bypassAuthState||$u.set(this.auth._key(),(()=>Promise.resolve(null))),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}async function Xu(e,t){return eh(e)._set(th(t),"true")}function Zu(e,t){$u.set(e._key(),t)}function eh(e){return Tc(e._redirectPersistence)}function th(e){return Cc(Ju,e.config.apiKey,e.name)}function nh(e,t,n){return async function(e,t,n){if(Ks(e.app))return Promise.reject(Ua(e));const r=qc(e);ja(e,t,pl),await r._initializationPromise;const i=zu(r,n);return await Xu(i,r),i._openRedirect(r,t,"signInViaRedirect")}(e,t,n)}function rh(e,t,n){return async function(e,t,n){const r=Ao(e);if(ja(r.auth,t,pl),Ks(r.auth.app))return Promise.reject(Ua(r.auth));await r.auth._initializationPromise;const i=zu(r.auth,n);await Xu(i,r.auth);const o=await sh(r);return i._openRedirect(r.auth,t,"reauthViaRedirect",o)}(e,t,n)}function ih(e,t,n){return async function(e,t,n){const r=Ao(e);ja(r.auth,t,pl),await r.auth._initializationPromise;const i=zu(r.auth,n);await Pl(!1,r,t.providerId),await Xu(i,r.auth);const o=await sh(r);return i._openRedirect(r.auth,t,"linkViaRedirect",o)}(e,t,n)}async function oh(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(Ks(e.app))return Promise.reject(Ua(e));const r=qc(e),i=zu(r,t),o=new Yu(r,i,n),s=await o.execute();return s&&!n&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,t)),s}async function sh(e){const t=pu("".concat(e.uid,":::"));return e._redirectEventId=t,await e.auth._setRedirectUser(e),await e.auth._persistUserIfCurrent(e),t}class ah{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach((n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return lh(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!lh(e)){const r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(Ma(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(ch(e))}saveEventToCache(e){this.cachedEventUids.add(ch(e)),this.lastProcessedEventTime=Date.now()}}function ch(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((e=>e)).join("-")}function lh(e){let{type:t,error:n}=e;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}async function uh(e){return Za(e,"GET","/v1/projects",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}const hh=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,dh=/^https?/;function fh(e){const t=Ka(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const i=new URL(e);return""===i.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&i.hostname===r}if(!dh.test(n))return!1;if(hh.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const ph=new Wa(3e4,6e4);function mh(){const e=gu().___jsl;if(null===e||void 0===e?void 0:e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}function gh(e){return new Promise(((t,n)=>{var r,i,o;function s(){mh(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{mh(),n(Ma(e,"network-request-failed"))},timeout:ph.get()})}if(null===(i=null===(r=gu().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(o=gu().gapi)||void 0===o?void 0:o.load)){const t=Wc("iframefcb");return gu()[t]=()=>{gapi.load?s():n(Ma(e,"network-request-failed"))},Gc("".concat(Hc.gapiScript,"?onload=").concat(t)).catch((e=>n(e)))}s()}})).catch((e=>{throw vh=null,e}))}let vh=null;const yh=new Wa(5e3,15e3),wh="__/auth/iframe",bh="emulator/auth/iframe",_h={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Eh=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Ih(e){const t=e.config;za(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?Qa(t,bh):"https://".concat(e.config.authDomain,"/").concat(wh),r={apiKey:t.apiKey,appName:e.name,v:Js},i=Eh.get(e.config.apiHost);i&&(r.eid=i);const o=e._getFrameworks();return o.length&&(r.fw=o.join(",")),"".concat(n,"?").concat(To(r).slice(1))}async function Th(e){const t=await function(e){return vh=vh||gh(e),vh}(e),n=gu().gapi;return za(n,e,"internal-error"),t.open({where:document.body,url:Ih(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:_h,dontclear:!0},(t=>new Promise((async(n,r)=>{await t.restyle({setHideOnLeave:!1});const i=Ma(e,"network-request-failed"),o=gu().setTimeout((()=>{r(i)}),yh.get());function s(){gu().clearTimeout(o),n(t)}t.ping(s).then(s,(()=>{r(i)}))}))))}const Sh={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class kh{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(vV){}}}function Ch(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600;const o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const c=Object.assign(Object.assign({},Sh),{width:r.toString(),height:i.toString(),top:o,left:s}),l=lo().toLowerCase();n&&(a=Rc(l)?"_blank":n),Ac(l)&&(t=t||"http://localhost",c.scrollbars="yes");const u=Object.entries(c).reduce(((e,t)=>{let[n,r]=t;return"".concat(e).concat(n,"=").concat(r,",")}),"");if(function(){var e;return Fc(arguments.length>0&&void 0!==arguments[0]?arguments[0]:lo())&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(l)&&"_self"!==a)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",a),new kh(null);const h=window.open(t||"",a,u);za(h,e,"popup-blocked");try{h.focus()}catch(vV){}return new kh(h)}const xh="__/auth/handler",Nh="emulator/auth/handler",Ah=encodeURIComponent("fac");async function Ph(e,t,n,r,i,o){za(e.config.authDomain,e,"auth-domain-config-required"),za(e.config.apiKey,e,"invalid-api-key");const s={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:Js,eventId:i};if(t instanceof pl){t.setDefaultLanguage(e.languageCode),s.providerId=t.providerId||"",function(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(s.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(o||{}))s[e]=t}if(t instanceof ml){const e=t.getScopes().filter((e=>""!==e));e.length>0&&(s.scopes=e.join(","))}e.tenantId&&(s.tid=e.tenantId);const a=s;for(const u of Object.keys(a))void 0===a[u]&&delete a[u];const c=await e._getAppCheckToken(),l=c?"#".concat(Ah,"=").concat(encodeURIComponent(c)):"";return"".concat(function(e){let{config:t}=e;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(xh);return Qa(t,Nh)}(e),"?").concat(To(a).slice(1)).concat(l)}const Rh="webStorageSupport";const Oh=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=du,this._completeRedirectFn=oh,this._overrideRedirectResult=Zu}async _openPopup(e,t,n,r){var i;qa(null===(i=this.eventManagers[e._key()])||void 0===i?void 0:i.manager,"_initialize() not called before _openPopup()");return Ch(e,await Ph(e,t,n,Ka(),r),pu())}async _openRedirect(e,t,n,r){await this._originValidation(e);return function(e){gu().location.href=e}(await Ph(e,t,n,Ka(),r)),new Promise((()=>{}))}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(qa(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch((()=>{delete this.eventManagers[t]})),n}async initAndGetManager(e){const t=await Th(e),n=new ah(e);return t.register("authEvent",(t=>{za(null===t||void 0===t?void 0:t.authEvent,e,"invalid-auth-event");return{status:n.onEvent(t.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Rh,{type:Rh},(n=>{var r;const i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r[Rh];void 0!==i&&t(!!i),La(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=async function(e){if(e.config.emulator)return;const{authorizedDomains:t}=await uh(e);for(const r of t)try{if(fh(r))return}catch(n){}La(e,"unauthorized-domain")}(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Uc()||Pc()||Fc()}};class Dh{constructor(e){this.factorId=e}_process(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return Ba("unexpected MultiFactorSessionType")}}}class Lh extends Dh{constructor(e){super("phone"),this.credential=e}static _fromCredential(e){return new Lh(e)}_finalizeEnroll(e,t,n){return function(e,t){return Za(e,"POST","/v2/accounts/mfaEnrollment:finalize",Xa(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(e,t){return function(e,t){return Za(e,"POST","/v2/accounts/mfaSignIn:finalize",Xa(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}class Mh{constructor(){}static assertion(e){return Lh._fromCredential(e)}}Mh.FACTOR_ID="phone";var Fh="@firebase/auth",Uh="1.7.2";class jh{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(e)}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged((t=>{e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){za(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}(e=>{var t;null===(t=oo())||void 0===t||t["_".concat(e)]})("authIdTokenMaxAge");var Vh;function zh(){return window}!function(e){Hc=e}({loadJS:e=>new Promise(((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=Ma("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)})),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),Vh="Browser",Vs(new Po("auth",((e,t)=>{let{options:n}=t;const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;za(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:s,authDomain:a,clientPlatform:Vh,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:jc(Vh)},l=new Bc(r,i,o,c);return function(e,t){const n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Tc);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(l,n),l}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(((e,t,n)=>{e.getProvider("auth-internal").initialize()}))),Vs(new Po("auth-internal",(e=>(e=>new jh(e))(qc(e.getProvider("auth").getImmediate()))),"PRIVATE").setInstantiationMode("EXPLICIT")),ta(Fh,Uh,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(Vh)),ta(Fh,Uh,"esm2017");async function Bh(e,t,n){var r;const{BuildInfo:i}=zh();qa(t.sessionId,"AuthEvent did not contain a session ID");const o=await async function(e){const t=function(e){if(qa(/[0-9a-zA-Z]+/.test(e),"Can only convert alpha-numeric strings"),"undefined"!==typeof TextEncoder)return(new TextEncoder).encode(e);const t=new ArrayBuffer(e.length),n=new Uint8Array(t);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(e),n=await crypto.subtle.digest("SHA-256",t);return Array.from(new Uint8Array(n)).map((e=>e.toString(16).padStart(2,"0"))).join("")}(t.sessionId),s={};return Fc()?s.ibi=i.packageName:Dc()?s.apn=i.packageName:La(e,"operation-not-supported-in-this-environment"),i.displayName&&(s.appDisplayName=i.displayName),s.sessionId=o,Ph(e,n,t.type,void 0,null!==(r=t.eventId)&&void 0!==r?r:void 0,s)}function qh(e){const{cordova:t}=zh();return new Promise((n=>{t.plugins.browsertab.isAvailable((r=>{let i=null;r?t.plugins.browsertab.openUrl(e):i=t.InAppBrowser.open(e,function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:lo();return/(iPad|iPhone|iPod).*OS 7_\d/i.test(e)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(e)}()?"_blank":"_system","location=yes"),n(i)}))}))}const Kh=20;class Hh extends ah{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise((e=>{this.resolveInialized=e}))}addPassiveListener(e){this.passiveListeners.add(e)}removePassiveListener(e){this.passiveListeners.delete(e)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(e){return this.resolveInialized(),this.passiveListeners.forEach((t=>t(e))),super.onEvent(e)}async initialized(){await this.initPromise}}async function Gh(e){const t=await Jh()._get($h(e));return t&&await Jh()._remove($h(e)),t}function Wh(e,t){var n,r;const i=function(e){const t=Yh(e),n=t.link?decodeURIComponent(t.link):void 0,r=Yh(n).link,i=t.deep_link_id?decodeURIComponent(t.deep_link_id):void 0;return Yh(i).link||i||r||n||e}(t);if(i.includes("/__/auth/callback")){const t=Yh(i),o=t.firebaseError?function(e){try{return JSON.parse(e)}catch(vV){return null}}(decodeURIComponent(t.firebaseError)):null,s=null===(r=null===(n=null===o||void 0===o?void 0:o.code)||void 0===n?void 0:n.split("auth/"))||void 0===r?void 0:r[1],a=s?Ma(s):null;return a?{type:e.type,eventId:e.eventId,tenantId:e.tenantId,error:a,urlResponse:null,sessionId:null,postBody:null}:{type:e.type,eventId:e.eventId,tenantId:e.tenantId,sessionId:e.sessionId,urlResponse:i,postBody:null}}return null}function Qh(){const e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let n=0;n<Kh;n++){const n=Math.floor(62*Math.random());e.push(t.charAt(n))}return e.join("")}function Jh(){return Tc(uu)}function $h(e){return Cc("authEvent",e.config.apiKey,e.name)}function Yh(e){if(!(null===e||void 0===e?void 0:e.includes("?")))return{};const[t,...n]=e.split("?");return So(n.join("?"))}const Xh=class{constructor(){this._redirectPersistence=du,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=oh,this._overrideRedirectResult=Zu}async _initialize(e){const t=e._key();let n=this.eventManagers.get(t);return n||(n=new Hh(e),this.eventManagers.set(t,n),this.attachCallbackListeners(e,n)),n}_openPopup(e){La(e,"operation-not-supported-in-this-environment")}async _openRedirect(e,t,n,r){!function(e){var t,n,r,i,o,s,a,c,l,u;const h=zh();za("function"===typeof(null===(t=null===h||void 0===h?void 0:h.universalLinks)||void 0===t?void 0:t.subscribe),e,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),za("undefined"!==typeof(null===(n=null===h||void 0===h?void 0:h.BuildInfo)||void 0===n?void 0:n.packageName),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),za("function"===typeof(null===(o=null===(i=null===(r=null===h||void 0===h?void 0:h.cordova)||void 0===r?void 0:r.plugins)||void 0===i?void 0:i.browsertab)||void 0===o?void 0:o.openUrl),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),za("function"===typeof(null===(c=null===(a=null===(s=null===h||void 0===h?void 0:h.cordova)||void 0===s?void 0:s.plugins)||void 0===a?void 0:a.browsertab)||void 0===c?void 0:c.isAvailable),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),za("function"===typeof(null===(u=null===(l=null===h||void 0===h?void 0:h.cordova)||void 0===l?void 0:l.InAppBrowser)||void 0===u?void 0:u.open),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(e);const i=await this._initialize(e);await i.initialized(),i.resetRedirect(),$u.clear(),await this._originValidation(e);const o=function(e,t){return{type:t,eventId:arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,urlResponse:null,sessionId:Qh(),postBody:null,tenantId:e.tenantId,error:Ma(e,"no-auth-event")}}(e,n,r);await function(e,t){return Jh()._set($h(e),t)}(e,o);const s=await Bh(e,o,t);return async function(e,t,n){const{cordova:r}=zh();let i=()=>{};try{await new Promise(((o,s)=>{let a=null;function c(){var e;o();const t=null===(e=r.plugins.browsertab)||void 0===e?void 0:e.close;"function"===typeof t&&t(),"function"===typeof(null===n||void 0===n?void 0:n.close)&&n.close()}function l(){a||(a=window.setTimeout((()=>{s(Ma(e,"redirect-cancelled-by-user"))}),2e3))}function u(){"visible"===(null===document||void 0===document?void 0:document.visibilityState)&&l()}t.addPassiveListener(c),document.addEventListener("resume",l,!1),Dc()&&document.addEventListener("visibilitychange",u,!1),i=()=>{t.removePassiveListener(c),document.removeEventListener("resume",l,!1),document.removeEventListener("visibilitychange",u,!1),a&&window.clearTimeout(a)}}))}finally{i()}}(e,i,await qh(s))}_isIframeWebStorageSupported(e,t){throw new Error("Method not implemented.")}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=async function(e){const{BuildInfo:t}=zh(),n={};Fc()?n.iosBundleId=t.packageName:Dc()?n.androidPackageName=t.packageName:La(e,"operation-not-supported-in-this-environment"),await uh(e,n)}(e)),this.originValidationPromises[t]}attachCallbackListeners(e,t){const{universalLinks:n,handleOpenURL:r,BuildInfo:i}=zh(),o=setTimeout((async()=>{await Gh(e),t.onEvent(Zh())}),500),s=async n=>{clearTimeout(o);const r=await Gh(e);let i=null;r&&(null===n||void 0===n?void 0:n.url)&&(i=Wh(r,n.url)),t.onEvent(i||Zh())};"undefined"!==typeof n&&"function"===typeof n.subscribe&&n.subscribe(null,s);const a=r,c="".concat(i.packageName.toLowerCase(),"://");zh().handleOpenURL=async e=>{if(e.toLowerCase().startsWith(c)&&s({url:e}),"function"===typeof a)try{a(e)}catch(vV){console.error(vV)}}}};function Zh(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Ma("no-auth-event")}}function ed(){var e;return(null===(e=null===self||void 0===self?void 0:self.location)||void 0===e?void 0:e.protocol)||null}function td(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:lo();return!("file:"!==ed()&&"ionic:"!==ed()&&"capacitor:"!==ed()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function nd(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:lo();return mo()&&11===(null===document||void 0===document?void 0:document.documentMode)||function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:lo();return/Edge\/\d+/.test(e)}(e)}function rd(){try{const e=self.localStorage,t=pu();if(e)return e.setItem(t,"1"),e.removeItem(t),!nd()||vo()}catch(vV){return id()&&vo()}return!1}function id(){return"undefined"!==typeof n.g&&"WorkerGlobalScope"in n.g&&"importScripts"in n.g}function od(){return("http:"===ed()||"https:"===ed()||fo()||td())&&!(po()||uo())&&rd()&&!id()}function sd(){return td()&&"undefined"!==typeof document}const ad={LOCAL:"local",NONE:"none",SESSION:"session"},cd=za,ld="persistence";async function ud(e){await e._initializationPromise;const t=hd(),n=Cc(ld,e.config.apiKey,e.name);t&&t.setItem(n,e._getPersistence())}function hd(){var e;try{return(null===(e="undefined"!==typeof window?window:null)||void 0===e?void 0:e.sessionStorage)||null}catch(vV){return null}}const dd=za;class fd{constructor(){this.browserResolver=Tc(Oh),this.cordovaResolver=Tc(Xh),this.underlyingResolver=null,this._redirectPersistence=du,this._completeRedirectFn=oh,this._overrideRedirectResult=Zu}async _initialize(e){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._initialize(e)}async _openPopup(e,t,n,r){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openPopup(e,t,n,r)}async _openRedirect(e,t,n,r){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openRedirect(e,t,n,r)}_isIframeWebStorageSupported(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}_originValidation(e){return this.assertedUnderlyingResolver._originValidation(e)}get _shouldInitProactively(){return sd()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return dd(this.underlyingResolver,"internal-error"),this.underlyingResolver}async selectUnderlyingResolver(){if(this.underlyingResolver)return;const e=await async function(){return!!sd()&&new Promise((e=>{const t=setTimeout((()=>{e(!1)}),1e3);document.addEventListener("deviceready",(()=>{clearTimeout(t),e(!0)}))}))}();this.underlyingResolver=e?this.cordovaResolver:this.browserResolver}}function pd(e){return e.unwrap()}function md(e,t){var n;const r=null===(n=t.customData)||void 0===n?void 0:n._tokenResponse;if("auth/multi-factor-auth-required"===(null===t||void 0===t?void 0:t.code)){t.resolver=new wd(e,function(e,t){var n;const r=Ao(e),i=t;return za(t.customData.operationType,r,"argument-error"),za(null===(n=i.customData._serverResponse)||void 0===n?void 0:n.mfaPendingCredential,r,"argument-error"),iu._fromError(r,i)}(e,t))}else if(r){const e=gd(t),n=t;e&&(n.credential=e,n.tenantId=r.tenantId||void 0,n.email=r.email||void 0,n.phoneNumber=r.phoneNumber||void 0)}}function gd(e){const{_tokenResponse:t}=e instanceof yo?e.customData:e;if(!t)return null;if(!(e instanceof yo)&&"temporaryProof"in t&&"phoneNumber"in t)return Vu.credentialFromResult(e);const n=t.providerId;if(!n||n===Ea.PASSWORD)return null;let r;switch(n){case Ea.GOOGLE:r=yl;break;case Ea.FACEBOOK:r=vl;break;case Ea.GITHUB:r=wl;break;case Ea.TWITTER:r=El;break;default:const{oauthIdToken:e,oauthAccessToken:i,oauthTokenSecret:o,pendingToken:s,nonce:a}=t;return i||o||e||s?s?n.startsWith("saml.")?bl._create(n,s):ll._fromParams({providerId:n,signInMethod:n,pendingToken:s,idToken:e,accessToken:i}):new gl(n).credential({idToken:e,accessToken:i,rawNonce:a}):null}return e instanceof yo?r.credentialFromError(e):r.credentialFromResult(e)}function vd(e,t){return t.catch((t=>{throw t instanceof yo&&md(e,t),t})).then((e=>{const t=e.operationType,n=e.user;return{operationType:t,credential:(r=e,gd(r)),additionalUserInfo:nu(e),user:bd.getOrCreate(n)};var r}))}async function yd(e,t){const n=await t;return{verificationId:n.verificationId,confirm:t=>vd(e,n.confirm(t))}}class wd{constructor(e,t){this.resolver=t,this.auth=e.wrapped()}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(e){return vd(pd(this.auth),this.resolver.resolveSignIn(e))}}class bd{constructor(e){this._delegate=e,this.multiFactor=function(e){const t=Ao(e);return su.has(t)||su.set(t,ou._fromUser(t)),su.get(t)}(e)}static getOrCreate(e){return bd.USER_MAP.has(e)||bd.USER_MAP.set(e,new bd(e)),bd.USER_MAP.get(e)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(e){return this._delegate.getIdTokenResult(e)}getIdToken(e){return this._delegate.getIdToken(e)}linkAndRetrieveDataWithCredential(e){return this.linkWithCredential(e)}async linkWithCredential(e){return vd(this.auth,Ll(this._delegate,e))}async linkWithPhoneNumber(e,t){return yd(this.auth,async function(e,t,n){const r=Ao(e);await Pl(!1,r,"phone");const i=await ju(r.auth,t,Ao(n));return new Uu(i,(e=>Ll(r,e)))}(this._delegate,e,t))}async linkWithPopup(e){return vd(this.auth,async function(e,t,n){const r=Ao(e);ja(r.auth,t,pl);const i=zu(r.auth,n);return new Qu(r.auth,"linkViaPopup",t,i,r).executeNotNull()}(this._delegate,e,fd))}async linkWithRedirect(e){return await ud(qc(this.auth)),ih(this._delegate,e,fd)}reauthenticateAndRetrieveDataWithCredential(e){return this.reauthenticateWithCredential(e)}async reauthenticateWithCredential(e){return vd(this.auth,Ml(this._delegate,e))}reauthenticateWithPhoneNumber(e,t){return yd(this.auth,async function(e,t,n){const r=Ao(e);if(Ks(r.auth.app))return Promise.reject(Ua(r.auth));const i=await ju(r.auth,t,Ao(n));return new Uu(i,(e=>Ml(r,e)))}(this._delegate,e,t))}reauthenticateWithPopup(e){return vd(this.auth,async function(e,t,n){const r=Ao(e);if(Ks(r.auth.app))return Promise.reject(Ma(r.auth,"operation-not-supported-in-this-environment"));ja(r.auth,t,pl);const i=zu(r.auth,n);return new Qu(r.auth,"reauthViaPopup",t,i,r).executeNotNull()}(this._delegate,e,fd))}async reauthenticateWithRedirect(e){return await ud(qc(this.auth)),rh(this._delegate,e,fd)}sendEmailVerification(e){return Gl(this._delegate,e)}async unlink(e){return await Nl(this._delegate,e),this}updateEmail(e){return function(e,t){const n=Ao(e);return Ks(n.auth.app)?Promise.reject(Ua(n.auth)):Jl(n,t,null)}(this._delegate,e)}updatePassword(e){return function(e,t){return Jl(Ao(e),null,t)}(this._delegate,e)}updatePhoneNumber(e){return async function(e,t){const n=Ao(e);if(Ks(n.auth.app))return Promise.reject(Ua(n.auth));await Al(n,t)}(this._delegate,e)}updateProfile(e){return Ql(this._delegate,e)}verifyBeforeUpdateEmail(e,t){return Wl(this._delegate,e,t)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}bd.USER_MAP=new WeakMap;const _d=za;class Ed{constructor(e,t){if(this.app=e,t.isInitialized())return this._delegate=t.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:n}=e.options;_d(n,"invalid-api-key",{appName:e.name}),_d(n,"invalid-api-key",{appName:e.name});const r="undefined"!==typeof window?fd:void 0;this._delegate=t.initialize({options:{persistence:Td(n,e.name),popupRedirectResolver:r}}),this._delegate._updateErrorMap(Aa),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?bd.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(e){this._delegate.languageCode=e}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(e){this._delegate.tenantId=e}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(e,t){Yc(this._delegate,e,t)}applyActionCode(e){return ql(this._delegate,e)}checkActionCode(e){return Kl(this._delegate,e)}confirmPasswordReset(e,t){return async function(e,t,n){await tl(Ao(e),{oobCode:t,newPassword:n}).catch((async t=>{throw t.code==="auth/".concat("password-does-not-meet-requirements")&&Bl(e),t}))}(this._delegate,e,t)}async createUserWithEmailAndPassword(e,t){return vd(this._delegate,async function(e,t,n){if(Ks(e.app))return Promise.reject(Ua(e));const r=qc(e),i=$c(r,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Il),o=await i.catch((t=>{throw t.code==="auth/".concat("password-does-not-meet-requirements")&&Bl(e),t})),s=await Tl._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(s.user),s}(this._delegate,e,t))}fetchProvidersForEmail(e){return this.fetchSignInMethodsForEmail(e)}fetchSignInMethodsForEmail(e){return Hl(this._delegate,e)}isSignInWithEmailLink(e){return function(e,t){const n=dl.parseLink(t);return"EMAIL_SIGNIN"===(null===n||void 0===n?void 0:n.operation)}(this._delegate,e)}async getRedirectResult(){_d(od(),this._delegate,"operation-not-supported-in-this-environment");const e=await async function(e,t){return await qc(e)._initializationPromise,oh(e,t,!1)}(this._delegate,fd);return e?vd(this._delegate,Promise.resolve(e)):{credential:null,user:null}}addFrameworkForLogging(e){!function(e,t){qc(e)._logFramework(t)}(this._delegate,e)}onAuthStateChanged(e,t,n){const{next:r,error:i,complete:o}=Id(e,t,n);return this._delegate.onAuthStateChanged(r,i,o)}onIdTokenChanged(e,t,n){const{next:r,error:i,complete:o}=Id(e,t,n);return this._delegate.onIdTokenChanged(r,i,o)}sendSignInLinkToEmail(e,t){return async function(e,t,n){const r=qc(e),i={requestType:"EMAIL_SIGNIN",email:t,clientType:"CLIENT_TYPE_WEB"};!function(e,t){za(t.handleCodeInApp,r,"argument-error"),t&&zl(r,e,t)}(i,n),await $c(r,i,"getOobCode",sl)}(this._delegate,e,t)}sendPasswordResetEmail(e,t){return async function(e,t,n){const r=qc(e),i={requestType:"PASSWORD_RESET",email:t,clientType:"CLIENT_TYPE_WEB"};n&&zl(r,i,n),await $c(r,i,"getOobCode",ol)}(this._delegate,e,t||void 0)}async setPersistence(e){let t;switch(function(e,t){cd(Object.values(ad).includes(t),e,"invalid-persistence-type"),po()?cd(t!==ad.SESSION,e,"unsupported-persistence-type"):uo()?cd(t===ad.NONE,e,"unsupported-persistence-type"):id()?cd(t===ad.NONE||t===ad.LOCAL&&vo(),e,"unsupported-persistence-type"):cd(t===ad.NONE||rd(),e,"unsupported-persistence-type")}(this._delegate,e),e){case ad.SESSION:t=du;break;case ad.LOCAL:t=await Tc(Cu)._isAvailable()?Cu:uu;break;case ad.NONE:t=kc;break;default:return La("argument-error",{appName:this._delegate.name})}return this._delegate.setPersistence(t)}signInAndRetrieveDataWithCredential(e){return this.signInWithCredential(e)}signInAnonymously(){return vd(this._delegate,async function(e){var t;if(Ks(e.app))return Promise.reject(Ua(e));const n=qc(e);if(await n._initializationPromise,null===(t=n.currentUser)||void 0===t?void 0:t.isAnonymous)return new Tl({user:n.currentUser,providerId:null,operationType:"signIn"});const r=await Il(n,{returnSecureToken:!0}),i=await Tl._fromIdTokenResponse(n,"signIn",r,!0);return await n._updateCurrentUser(i.user),i}(this._delegate))}signInWithCredential(e){return vd(this._delegate,Dl(this._delegate,e))}signInWithCustomToken(e){return vd(this._delegate,Fl(this._delegate,e))}signInWithEmailAndPassword(e,t){return vd(this._delegate,function(e,t,n){return Ks(e.app)?Promise.reject(Ua(e)):Dl(Ao(e),fl.credential(t,n)).catch((async t=>{throw t.code==="auth/".concat("password-does-not-meet-requirements")&&Bl(e),t}))}(this._delegate,e,t))}signInWithEmailLink(e,t){return vd(this._delegate,async function(e,t,n){if(Ks(e.app))return Promise.reject(Ua(e));const r=Ao(e),i=fl.credentialWithLink(t,n||Ka());return za(i._tenantId===(r.tenantId||null),r,"tenant-id-mismatch"),Dl(r,i)}(this._delegate,e,t))}signInWithPhoneNumber(e,t){return yd(this._delegate,async function(e,t,n){if(Ks(e.app))return Promise.reject(Ua(e));const r=qc(e),i=await ju(r,t,Ao(n));return new Uu(i,(e=>Dl(r,e)))}(this._delegate,e,t))}async signInWithPopup(e){return _d(od(),this._delegate,"operation-not-supported-in-this-environment"),vd(this._delegate,async function(e,t,n){if(Ks(e.app))return Promise.reject(Ma(e,"operation-not-supported-in-this-environment"));const r=qc(e);ja(e,t,pl);const i=zu(r,n);return new Qu(r,"signInViaPopup",t,i).executeNotNull()}(this._delegate,e,fd))}async signInWithRedirect(e){return _d(od(),this._delegate,"operation-not-supported-in-this-environment"),await ud(this._delegate),nh(this._delegate,e,fd)}updateCurrentUser(e){return this._delegate.updateCurrentUser(e)}verifyPasswordResetCode(e){return async function(e,t){const{data:n}=await Kl(Ao(e),t);return n.email}(this._delegate,e)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}function Id(e,t,n){let r=e;"function"!==typeof e&&({next:r,error:t,complete:n}=e);const i=r;return{next:e=>i(e&&bd.getOrCreate(e)),error:t,complete:n}}function Td(e,t){const n=function(e,t){const n=hd();if(!n)return[];const r=Cc(ld,e,t);switch(n.getItem(r)){case ad.NONE:return[kc];case ad.LOCAL:return[Cu,du];case ad.SESSION:return[du];default:return[]}}(e,t);if("undefined"===typeof self||n.includes(Cu)||n.push(Cu),"undefined"!==typeof window)for(const r of[uu,du])n.includes(r)||n.push(r);return n.includes(kc)||n.push(kc),n}Ed.Persistence=ad;class Sd{constructor(){this.providerId="phone",this._delegate=new Vu(pd(ba.auth()))}static credential(e,t){return Vu.credential(e,t)}verifyPhoneNumber(e,t){return this._delegate.verifyPhoneNumber(e,t)}unwrap(){return this._delegate}}Sd.PHONE_SIGN_IN_METHOD=Vu.PHONE_SIGN_IN_METHOD,Sd.PROVIDER_ID=Vu.PROVIDER_ID;const kd=za;class Cd{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ba.app();var r;kd(null===(r=n.options)||void 0===r?void 0:r.apiKey,"invalid-api-key",{appName:n.name}),this._delegate=new Fu(n.auth(),e,t),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}var xd;(xd=ba).INTERNAL.registerComponent(new Po("auth-compat",(e=>{const t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("auth");return new Ed(t,n)}),"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:Ia,PASSWORD_RESET:Ta,RECOVER_EMAIL:Sa,REVERT_SECOND_FACTOR_ADDITION:ka,VERIFY_AND_CHANGE_EMAIL:Ca,VERIFY_EMAIL:xa}},EmailAuthProvider:fl,FacebookAuthProvider:vl,GithubAuthProvider:wl,GoogleAuthProvider:yl,OAuthProvider:gl,SAMLAuthProvider:_l,PhoneAuthProvider:Sd,PhoneMultiFactorGenerator:Mh,RecaptchaVerifier:Cd,TwitterAuthProvider:El,Auth:Ed,AuthCredential:el,Error:yo}).setInstantiationMode("LAZY").setMultipleInstances(!1)),xd.registerVersion("@firebase/auth-compat","0.5.7");var Nd,Ad="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},Pd={},Rd=Rd||{},Od=Ad||self;function Dd(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function Ld(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var Md="closure_uid_"+(1e9*Math.random()>>>0),Fd=0;function Ud(e,t,n){return e.call.apply(e.bind,arguments)}function jd(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function Vd(e,t,n){return(Vd=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Ud:jd).apply(null,arguments)}function zd(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function Bd(e,t){function n(){}n.prototype=t.prototype,e.$=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.ac=function(e,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return t.prototype[n].apply(e,i)}}function qd(){this.s=this.s,this.o=this.o}qd.prototype.s=!1,qd.prototype.sa=function(){var e;!this.s&&(this.s=!0,this.N(),0)&&(e=this,Object.prototype.hasOwnProperty.call(e,Md)&&e[Md]||(e[Md]=++Fd))},qd.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Kd=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(let n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function Hd(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function Gd(e,t){for(let n=1;n<arguments.length;n++){const t=arguments[n];if(Dd(t)){const n=e.length||0,r=t.length||0;e.length=n+r;for(let i=0;i<r;i++)e[n+i]=t[i]}else e.push(t)}}function Wd(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}Wd.prototype.h=function(){this.defaultPrevented=!0};var Qd=function(){if(!Od.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{const e=()=>{};Od.addEventListener("test",e,t),Od.removeEventListener("test",e,t)}catch(n){}return e}();function Jd(e){return/^[\s\xa0]*$/.test(e)}function $d(){var e=Od.navigator;return e&&(e=e.userAgent)?e:""}function Yd(e){return-1!=$d().indexOf(e)}function Xd(e){return Xd[" "](e),e}Xd[" "]=function(){};var Zd,ef,tf=Yd("Opera"),nf=Yd("Trident")||Yd("MSIE"),rf=Yd("Edge"),of=rf||nf,sf=Yd("Gecko")&&!(-1!=$d().toLowerCase().indexOf("webkit")&&!Yd("Edge"))&&!(Yd("Trident")||Yd("MSIE"))&&!Yd("Edge"),af=-1!=$d().toLowerCase().indexOf("webkit")&&!Yd("Edge");function cf(){var e=Od.document;return e?e.documentMode:void 0}e:{var lf="",uf=function(){var e=$d();return sf?/rv:([^\);]+)(\)|;)/.exec(e):rf?/Edge\/([\d\.]+)/.exec(e):nf?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):af?/WebKit\/(\S+)/.exec(e):tf?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(uf&&(lf=uf?uf[1]:""),nf){var hf=cf();if(null!=hf&&hf>parseFloat(lf)){Zd=String(hf);break e}}Zd=lf}if(Od.document&&nf){var df=cf();ef=df||(parseInt(Zd,10)||void 0)}else ef=void 0;var ff=ef;function pf(e,t){if(Wd.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(sf){e:{try{Xd(t.nodeName);var i=!0;break e}catch(o){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:mf[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&pf.$.h.call(this)}}Bd(pf,Wd);var mf={2:"touch",3:"pen",4:"mouse"};pf.prototype.h=function(){pf.$.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var gf="closure_listenable_"+(1e6*Math.random()|0),vf=0;function yf(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.la=i,this.key=++vf,this.fa=this.ia=!1}function wf(e){e.fa=!0,e.listener=null,e.proxy=null,e.src=null,e.la=null}function bf(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function _f(e){const t={};for(const n in e)t[n]=e[n];return t}const Ef="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function If(e,t){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)e[n]=r[n];for(let t=0;t<Ef.length;t++)n=Ef[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function Tf(e){this.src=e,this.g={},this.h=0}function Sf(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],o=Kd(i,t);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(wf(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function kf(e,t,n,r){for(var i=0;i<e.length;++i){var o=e[i];if(!o.fa&&o.listener==t&&o.capture==!!n&&o.la==r)return i}return-1}Tf.prototype.add=function(e,t,n,r,i){var o=e.toString();(e=this.g[o])||(e=this.g[o]=[],this.h++);var s=kf(e,t,r,i);return-1<s?(t=e[s],n||(t.ia=!1)):((t=new yf(t,this.src,o,!!r,i)).ia=n,e.push(t)),t};var Cf="closure_lm_"+(1e6*Math.random()|0),xf={};function Nf(e,t,n,r,i){if(r&&r.once)return Pf(e,t,n,r,i);if(Array.isArray(t)){for(var o=0;o<t.length;o++)Nf(e,t[o],n,r,i);return null}return n=Uf(n),e&&e[gf]?e.O(t,n,Ld(r)?!!r.capture:!!r,i):Af(e,t,n,!1,r,i)}function Af(e,t,n,r,i,o){if(!t)throw Error("Invalid event type");var s=Ld(i)?!!i.capture:!!i,a=Mf(e);if(a||(e[Cf]=a=new Tf(e)),(n=a.add(t,n,r,s,o)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}const t=Lf;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)Qd||(i=s),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(Df(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function Pf(e,t,n,r,i){if(Array.isArray(t)){for(var o=0;o<t.length;o++)Pf(e,t[o],n,r,i);return null}return n=Uf(n),e&&e[gf]?e.P(t,n,Ld(r)?!!r.capture:!!r,i):Af(e,t,n,!0,r,i)}function Rf(e,t,n,r,i){if(Array.isArray(t))for(var o=0;o<t.length;o++)Rf(e,t[o],n,r,i);else r=Ld(r)?!!r.capture:!!r,n=Uf(n),e&&e[gf]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=kf(o=e.g[t],n,r,i))&&(wf(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete e.g[t],e.h--)))):e&&(e=Mf(e))&&(t=e.g[t.toString()],e=-1,t&&(e=kf(t,n,r,i)),(n=-1<e?t[e]:null)&&Of(n))}function Of(e){if("number"!==typeof e&&e&&!e.fa){var t=e.src;if(t&&t[gf])Sf(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(Df(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Mf(t))?(Sf(n,e),0==n.h&&(n.src=null,t[Cf]=null)):wf(e)}}}function Df(e){return e in xf?xf[e]:xf[e]="on"+e}function Lf(e,t){if(e.fa)e=!0;else{t=new pf(t,this);var n=e.listener,r=e.la||e.src;e.ia&&Of(e),e=n.call(r,t)}return e}function Mf(e){return(e=e[Cf])instanceof Tf?e:null}var Ff="__closure_events_fn_"+(1e9*Math.random()>>>0);function Uf(e){return"function"===typeof e?e:(e[Ff]||(e[Ff]=function(t){return e.handleEvent(t)}),e[Ff])}function jf(){qd.call(this),this.i=new Tf(this),this.S=this,this.J=null}function Vf(e,t){var n,r=e.J;if(r)for(n=[];r;r=r.J)n.push(r);if(e=e.S,r=t.type||t,"string"===typeof t)t=new Wd(t,e);else if(t instanceof Wd)t.target=t.target||e;else{var i=t;If(t=new Wd(r,e),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var s=t.g=n[o];i=zf(s,r,!0,t)&&i}if(i=zf(s=t.g=e,r,!0,t)&&i,i=zf(s,r,!1,t)&&i,n)for(o=0;o<n.length;o++)i=zf(s=t.g=n[o],r,!1,t)&&i}function zf(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,o=0;o<t.length;++o){var s=t[o];if(s&&!s.fa&&s.capture==n){var a=s.listener,c=s.la||s.src;s.ia&&Sf(e.i,s),i=!1!==a.call(c,r)&&i}}return i&&!r.defaultPrevented}Bd(jf,qd),jf.prototype[gf]=!0,jf.prototype.removeEventListener=function(e,t,n,r){Rf(this,e,t,n,r)},jf.prototype.N=function(){if(jf.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)wf(n[r]);delete t.g[e],t.h--}}this.J=null},jf.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},jf.prototype.P=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var Bf=Od.JSON.stringify;function qf(){var e=$f;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var Kf=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}((()=>new Hf),(e=>e.reset()));class Hf{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function Gf(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function Wf(e){Od.setTimeout((()=>{throw e}),0)}let Qf,Jf=!1,$f=new class{constructor(){this.h=this.g=null}add(e,t){const n=Kf.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},Yf=()=>{const e=Od.Promise.resolve(void 0);Qf=()=>{e.then(Xf)}};var Xf=()=>{for(var e;e=qf();){try{e.h.call(e.g)}catch(n){Wf(n)}var t=Kf;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Jf=!1};function Zf(e,t){jf.call(this),this.h=e||1,this.g=t||Od,this.j=Vd(this.qb,this),this.l=Date.now()}function ep(e){e.ga=!1,e.T&&(e.g.clearTimeout(e.T),e.T=null)}function tp(e,t,n){if("function"===typeof e)n&&(e=Vd(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=Vd(e.handleEvent,e)}return 2147483647<Number(t)?-1:Od.setTimeout(e,t||0)}function np(e){e.g=tp((()=>{e.g=null,e.i&&(e.i=!1,np(e))}),e.j);const t=e.h;e.h=null,e.m.apply(null,t)}Bd(Zf,jf),(Nd=Zf.prototype).ga=!1,Nd.T=null,Nd.qb=function(){if(this.ga){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-e):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Vf(this,"tick"),this.ga&&(ep(this),this.start()))}},Nd.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Nd.N=function(){Zf.$.N.call(this),ep(this),delete this.g};class rp extends qd{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:np(this)}N(){super.N(),this.g&&(Od.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ip(e){qd.call(this),this.h=e,this.g={}}Bd(ip,qd);var op=[];function sp(e,t,n,r){Array.isArray(n)||(n&&(op[0]=n.toString()),n=op);for(var i=0;i<n.length;i++){var o=Nf(t,n[i],r||e.handleEvent,!1,e.h||e);if(!o)break;e.g[o.key]=o}}function ap(e){bf(e.g,(function(e,t){this.g.hasOwnProperty(t)&&Of(e)}),e),e.g={}}function cp(){this.g=!0}function lp(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var s=1;s<i.length;s++)i[s]=""}}}return Bf(n)}catch(a){return t}}(e,n)+(r?" "+r:"")}))}ip.prototype.N=function(){ip.$.N.call(this),ap(this)},ip.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},cp.prototype.Ea=function(){this.g=!1},cp.prototype.info=function(){};var up={},hp=null;function dp(){return hp=hp||new jf}function fp(e){Wd.call(this,up.Ta,e)}function pp(e){const t=dp();Vf(t,new fp(t))}function mp(e,t){Wd.call(this,up.STAT_EVENT,e),this.stat=t}function gp(e){const t=dp();Vf(t,new mp(t,e))}function vp(e,t){Wd.call(this,up.Ua,e),this.size=t}function yp(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return Od.setTimeout((function(){e()}),t)}up.Ta="serverreachability",Bd(fp,Wd),up.STAT_EVENT="statevent",Bd(mp,Wd),up.Ua="timingevent",Bd(vp,Wd);var wp={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},bp={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function _p(){}function Ep(e){return e.h||(e.h=e.i())}function Ip(){}_p.prototype.h=null;var Tp,Sp={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function kp(){Wd.call(this,"d")}function Cp(){Wd.call(this,"c")}function xp(){}function Np(e,t,n,r){this.l=e,this.j=t,this.m=n,this.W=r||1,this.U=new ip(this),this.P=Pp,e=of?125:void 0,this.V=new Zf(e),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new Ap}function Ap(){this.i=null,this.g="",this.h=!1}Bd(kp,Wd),Bd(Cp,Wd),Bd(xp,_p),xp.prototype.g=function(){return new XMLHttpRequest},xp.prototype.i=function(){return{}},Tp=new xp;var Pp=45e3,Rp={},Op={};function Dp(e,t,n){e.L=1,e.A=Zp(Qp(t)),e.u=n,e.S=!0,Lp(e,null)}function Lp(e,t){e.G=Date.now(),jp(e),e.B=Qp(e.A);var n=e.B,r=e.W;Array.isArray(r)||(r=[String(r)]),dm(n.i,"t",r),e.o=0,n=e.l.J,e.h=new Ap,e.g=fg(e.l,n?t:null,!e.u),0<e.O&&(e.M=new rp(Vd(e.Pa,e,e.g),e.O)),sp(e.U,e.g,"readystatechange",e.nb),t=e.I?_f(e.I):{},e.u?(e.v||(e.v="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ha(e.B,e.v,e.u,t)):(e.v="GET",e.g.ha(e.B,e.v,null,t)),pp(),function(e,t,n,r,i,o){e.info((function(){if(e.g)if(o)for(var s="",a=o.split("&"),c=0;c<a.length;c++){var l=a[c].split("=");if(1<l.length){var u=l[0];l=l[1];var h=u.split("_");s=2<=h.length&&"type"==h[1]?s+(u+"=")+l+"&":s+(u+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+s}))}(e.j,e.v,e.B,e.m,e.W,e.u)}function Mp(e){return!!e.g&&("GET"==e.v&&2!=e.L&&e.l.Ha)}function Fp(e,t,n){let r,i=!0;for(;!e.J&&e.o<n.length;){if(r=Up(e,n),r==Op){4==t&&(e.s=4,gp(14),i=!1),lp(e.j,e.m,null,"[Incomplete Response]");break}if(r==Rp){e.s=4,gp(15),lp(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}lp(e.j,e.m,r,null),Kp(e,r)}Mp(e)&&0!=e.o&&(e.h.g=e.h.g.slice(e.o),e.o=0),4!=t||0!=n.length||e.h.h||(e.s=1,gp(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.ba&&(e.ba=!0,(t=e.l).g==e&&t.ca&&!t.M&&(t.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),og(t),t.M=!0,gp(11))):(lp(e.j,e.m,n,"[Invalid Chunked Response]"),qp(e),Bp(e))}function Up(e,t){var n=e.o,r=t.indexOf("\n",n);return-1==r?Op:(n=Number(t.substring(n,r)),isNaN(n)?Rp:(r+=1)+n>t.length?Op:(t=t.slice(r,r+n),e.o=r+n,t))}function jp(e){e.Y=Date.now()+e.P,Vp(e,e.P)}function Vp(e,t){if(null!=e.C)throw Error("WatchDog timer not null");e.C=yp(Vd(e.lb,e),t)}function zp(e){e.C&&(Od.clearTimeout(e.C),e.C=null)}function Bp(e){0==e.l.H||e.J||cg(e.l,e)}function qp(e){zp(e);var t=e.M;t&&"function"==typeof t.sa&&t.sa(),e.M=null,ep(e.V),ap(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.sa())}function Kp(e,t){try{var n=e.l;if(0!=n.H&&(n.g==e||wm(n.i,e)))if(!e.K&&wm(n.i,e)&&3==n.H){try{var r=n.Ja.g.parse(t)}catch(l){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<e.G))break e;ag(n),Ym(n)}ig(n),gp(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&0==n.A&&!n.v&&(n.v=yp(Vd(n.ib,n),6e3));if(1>=ym(n.i)&&n.oa){try{n.oa()}catch(l){}n.oa=void 0}}else ug(n,11)}else if((e.K||n.g==e)&&ag(n),!Jd(t))for(i=n.Ja.g.parse(t),t=0;t<i.length;t++){let l=i[t];if(n.V=l[0],l=l[1],2==n.H)if("c"==l[0]){n.K=l[1],n.pa=l[2];const t=l[3];null!=t&&(n.ra=t,n.l.info("VER="+n.ra));const i=l[4];null!=i&&(n.Ga=i,n.l.info("SVER="+n.Ga));const u=l[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const h=e.g;if(h){const e=h.g?h.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var o=r.i;o.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(o.j=o.l,o.g=new Set,o.h&&(bm(o,o.h),o.h=null))}if(r.F){const e=h.g?h.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.Da=e,Xp(r.I,r.F,e))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-e.G,n.l.info("Handshake RTT: "+n.S+"ms"));var s=e;if((r=n).wa=dg(r,r.J?r.pa:null,r.Y),s.K){_m(r.i,s);var a=s,c=r.L;c&&a.setTimeout(c),a.C&&(zp(a),jp(a)),r.g=s}else rg(r);0<n.j.length&&Zm(n)}else"stop"!=l[0]&&"close"!=l[0]||ug(n,7);else 3==n.H&&("stop"==l[0]||"close"==l[0]?"stop"==l[0]?ug(n,7):$m(n):"noop"!=l[0]&&n.h&&n.h.Aa(l),n.A=0)}pp()}catch(l){}}function Hp(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(Dd(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.ta&&"function"==typeof e.ta)return e.ta();if(!e.Z||"function"!=typeof e.Z){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(Dd(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}(e),r=function(e){if(e.Z&&"function"==typeof e.Z)return e.Z();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(Dd(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,o=0;o<i;o++)t.call(void 0,r[o],n&&n[o],e)}(Nd=Np.prototype).setTimeout=function(e){this.P=e},Nd.nb=function(e){e=e.target;const t=this.M;t&&3==Km(e)?t.l():this.Pa(e)},Nd.Pa=function(e){try{if(e==this.g)e:{const u=Km(this.g);var t=this.g.Ia();this.g.da();if(!(3>u)&&(3!=u||of||this.g&&(this.h.h||this.g.ja()||Hm(this.g)))){this.J||4!=u||7==t||pp(),zp(this);var n=this.g.da();this.ca=n;t:if(Mp(this)){var r=Hm(this.g);e="";var i=r.length,o=4==Km(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){qp(this),Bp(this);var s="";break t}this.h.i=new Od.TextDecoder}for(t=0;t<i;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:o&&t==i-1});r.length=0,this.h.g+=e,this.o=0,s=this.h.g}else s=this.g.ja();if(this.i=200==n,function(e,t,n,r,i,o,s){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+o+" "+s}))}(this.j,this.v,this.B,this.m,this.W,u,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,c=this.g;if((a=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Jd(a)){var l=a;break t}}l=null}if(!(n=l)){this.i=!1,this.s=3,gp(12),qp(this),Bp(this);break e}lp(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Kp(this,n)}this.S?(Fp(this,u,s),of&&this.i&&3==u&&(sp(this.U,this.V,"tick",this.mb),this.V.start())):(lp(this.j,this.m,s,null),Kp(this,s)),4==u&&qp(this),this.i&&!this.J&&(4==u?cg(this.l,this):(this.i=!1,jp(this)))}else(function(e){const t={};e=(e.g&&2<=Km(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<e.length;r++){if(Jd(e[r]))continue;var n=Gf(e[r]);const i=n[0];if("string"!==typeof(n=n[1]))continue;n=n.trim();const o=t[i]||[];t[i]=o,o.push(n)}!function(e,t){for(const n in e)t.call(void 0,e[n],n,e)}(t,(function(e){return e.join(", ")}))})(this.g),400==n&&0<s.indexOf("Unknown SID")?(this.s=3,gp(12)):(this.s=0,gp(13)),qp(this),Bp(this)}}}catch(u){}},Nd.mb=function(){if(this.g){var e=Km(this.g),t=this.g.ja();this.o<t.length&&(zp(this),Fp(this,e,t),this.i&&4!=e&&jp(this))}},Nd.cancel=function(){this.J=!0,qp(this)},Nd.lb=function(){this.C=null;const e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.B),2!=this.L&&(pp(),gp(17)),qp(this),this.s=2,Bp(this)):Vp(this,this.Y-e)};var Gp=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Wp(e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof Wp){this.h=e.h,Jp(this,e.j),this.s=e.s,this.g=e.g,$p(this,e.m),this.l=e.l;var t=e.i,n=new cm;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),Yp(this,n),this.o=e.o}else e&&(t=String(e).match(Gp))?(this.h=!1,Jp(this,t[1]||"",!0),this.s=em(t[2]||""),this.g=em(t[3]||"",!0),$p(this,t[4]),this.l=em(t[5]||"",!0),Yp(this,t[6]||"",!0),this.o=em(t[7]||"")):(this.h=!1,this.i=new cm(null,this.h))}function Qp(e){return new Wp(e)}function Jp(e,t,n){e.j=n?em(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function $p(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function Yp(e,t,n){t instanceof cm?(e.i=t,function(e,t){t&&!e.j&&(lm(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(um(this,t),dm(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=tm(t,sm)),e.i=new cm(t,e.h))}function Xp(e,t,n){e.i.set(t,n)}function Zp(e){return Xp(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function em(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function tm(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,nm),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function nm(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Wp.prototype.toString=function(){var e=[],t=this.j;t&&e.push(tm(t,rm,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(tm(t,rm,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(tm(n,"/"==n.charAt(0)?om:im,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",tm(n,am)),e.join("")};var rm=/[#\/\?@]/g,im=/[#\?:]/g,om=/[#\?]/g,sm=/[#\?@]/g,am=/#/g;function cm(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function lm(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var o=e[n].substring(0,r);i=e[n].substring(r+1)}else o=e[n];t(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function um(e,t){lm(e),t=fm(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function hm(e,t){return lm(e),t=fm(e,t),e.g.has(t)}function dm(e,t,n){um(e,t),0<n.length&&(e.i=null,e.g.set(fm(e,t),Hd(n)),e.h+=n.length)}function fm(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(Nd=cm.prototype).add=function(e,t){lm(this),this.i=null,e=fm(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},Nd.forEach=function(e,t){lm(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},Nd.ta=function(){lm(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const i=e[r];for(let e=0;e<i.length;e++)n.push(t[r])}return n},Nd.Z=function(e){lm(this);let t=[];if("string"===typeof e)hm(this,e)&&(t=t.concat(this.g.get(fm(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t},Nd.set=function(e,t){return lm(this),this.i=null,hm(this,e=fm(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},Nd.get=function(e,t){return e&&0<(e=this.Z(e)).length?String(e[0]):t},Nd.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const o=encodeURIComponent(String(r)),s=this.Z(r);for(r=0;r<s.length;r++){var i=o;""!==s[r]&&(i+="="+encodeURIComponent(String(s[r]))),e.push(i)}}return this.i=e.join("&")};var pm=class{constructor(e,t){this.g=e,this.map=t}};function mm(e){this.l=e||gm,Od.PerformanceNavigationTiming?e=0<(e=Od.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(Od.g&&Od.g.Ka&&Od.g.Ka()&&Od.g.Ka().dc),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var gm=10;function vm(e){return!!e.h||!!e.g&&e.g.size>=e.j}function ym(e){return e.h?1:e.g?e.g.size:0}function wm(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function bm(e,t){e.g?e.g.add(t):e.h=t}function _m(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function Em(e){if(null!=e.h)return e.i.concat(e.h.F);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.F);return t}return Hd(e.i)}mm.prototype.cancel=function(){if(this.i=Em(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var Im,Tm=class{stringify(e){return Od.JSON.stringify(e,void 0)}parse(e){return Od.JSON.parse(e,void 0)}};function Sm(){this.g=new Tm}function km(e,t,n){const r=n||"";try{Hp(e,(function(e,n){let i=e;Ld(e)&&(i=Bf(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(vV){throw t.push(r+"type="+encodeURIComponent("_badmap")),vV}}function Cm(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(o){}}function xm(e){this.l=e.ec||null,this.j=e.ob||!1}function Nm(e,t){jf.call(this),this.F=e,this.u=t,this.m=void 0,this.readyState=Am,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Bd(xm,_p),xm.prototype.g=function(){return new Nm(this.l,this.j)},xm.prototype.i=(Im={},function(){return Im}),Bd(Nm,jf);var Am=0;function Pm(e){e.j.read().then(e.Xa.bind(e)).catch(e.ka.bind(e))}function Rm(e){e.readyState=4,e.l=null,e.j=null,e.A=null,Om(e)}function Om(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(Nd=Nm.prototype).open=function(e,t){if(this.readyState!=Am)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,Om(this)},Nd.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.F||Od).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))},Nd.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((()=>{})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Rm(this)),this.readyState=Am},Nd.$a=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Om(this)),this.g&&(this.readyState=3,Om(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if("undefined"!==typeof Od.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Pm(this)}else e.text().then(this.Za.bind(this),this.ka.bind(this))},Nd.Xa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Rm(this):Om(this),3==this.readyState&&Pm(this)}},Nd.Za=function(e){this.g&&(this.response=this.responseText=e,Rm(this))},Nd.Ya=function(e){this.g&&(this.response=e,Rm(this))},Nd.ka=function(){this.g&&Rm(this)},Nd.setRequestHeader=function(e,t){this.v.append(e,t)},Nd.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},Nd.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Nm.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var Dm=Od.JSON.parse;function Lm(e){jf.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=Mm,this.L=this.M=!1}Bd(Lm,jf);var Mm="",Fm=/^https?$/i,Um=["POST","PUT"];function jm(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,Vm(e),Bm(e)}function Vm(e){e.F||(e.F=!0,Vf(e,"complete"),Vf(e,"error"))}function zm(e){if(e.h&&"undefined"!=typeof Rd&&(!e.C[1]||4!=Km(e)||2!=e.da()))if(e.v&&4==Km(e))tp(e.La,0,e);else if(Vf(e,"readystatechange"),4==Km(e)){e.h=!1;try{const a=e.da();e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var r;if(r=0===a){var i=String(e.I).match(Gp)[1]||null;!i&&Od.self&&Od.self.location&&(i=Od.self.location.protocol.slice(0,-1)),r=!Fm.test(i?i.toLowerCase():"")}n=r}if(n)Vf(e,"complete"),Vf(e,"success");else{e.m=6;try{var o=2<Km(e)?e.g.statusText:""}catch(s){o=""}e.j=o+" ["+e.da()+"]",Vm(e)}}finally{Bm(e)}}}function Bm(e,t){if(e.g){qm(e);const n=e.g,r=e.C[0]?()=>{}:null;e.g=null,e.C=null,t||Vf(e,"ready");try{n.onreadystatechange=r}catch(vV){}}}function qm(e){e.g&&e.L&&(e.g.ontimeout=null),e.A&&(Od.clearTimeout(e.A),e.A=null)}function Km(e){return e.g?e.g.readyState:0}function Hm(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.K){case Mm:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(Xg){return null}}function Gm(e){let t="";return bf(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function Wm(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Gm(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):Xp(e,t,n))}function Qm(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Jm(e){this.Ga=0,this.j=[],this.l=new cp,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Qm("failFast",!1,e),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Qm("baseRetryDelayMs",5e3,e),this.hb=Qm("retryDelaySeedMs",1e4,e),this.eb=Qm("forwardChannelMaxRetries",2,e),this.xa=Qm("forwardChannelRequestTimeoutMs",2e4,e),this.va=e&&e.xmlHttpFactory||void 0,this.Ha=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.i=new mm(e&&e.concurrentRequestLimit),this.Ja=new Sm,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=e&&e.bc||!1,e&&e.Ea&&this.l.Ea(),e&&e.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&e&&e.detectBufferingProxy||!1,this.qa=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.qa=e.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function $m(e){if(Xm(e),3==e.H){var t=e.W++,n=Qp(e.I);if(Xp(n,"SID",e.K),Xp(n,"RID",t),Xp(n,"TYPE","terminate"),tg(e,n),(t=new Np(e,e.l,t)).L=2,t.A=Zp(Qp(n)),n=!1,Od.navigator&&Od.navigator.sendBeacon)try{n=Od.navigator.sendBeacon(t.A.toString(),"")}catch(r){}!n&&Od.Image&&((new Image).src=t.A,n=!0),n||(t.g=fg(t.l,null),t.g.ha(t.A)),t.G=Date.now(),jp(t)}hg(e)}function Ym(e){e.g&&(og(e),e.g.cancel(),e.g=null)}function Xm(e){Ym(e),e.u&&(Od.clearTimeout(e.u),e.u=null),ag(e),e.i.cancel(),e.m&&("number"===typeof e.m&&Od.clearTimeout(e.m),e.m=null)}function Zm(e){if(!vm(e.i)&&!e.m){e.m=!0;var t=e.Na;Qf||Yf(),Jf||(Qf(),Jf=!0),$f.add(t,e),e.C=0}}function eg(e,t){var n;n=t?t.m:e.W++;const r=Qp(e.I);Xp(r,"SID",e.K),Xp(r,"RID",n),Xp(r,"AID",e.V),tg(e,r),e.o&&e.s&&Wm(r,e.o,e.s),n=new Np(e,e.l,n,e.C+1),null===e.o&&(n.I=e.s),t&&(e.j=t.F.concat(e.j)),t=ng(e,n,1e3),n.setTimeout(Math.round(.5*e.xa)+Math.round(.5*e.xa*Math.random())),bm(e.i,n),Dp(n,r,t)}function tg(e,t){e.na&&bf(e.na,(function(e,n){Xp(t,n,e)})),e.h&&Hp({},(function(e,n){Xp(t,n,e)}))}function ng(e,t,n){n=Math.min(e.j.length,n);var r=e.h?Vd(e.h.Va,e.h,e):null;e:{var i=e.j;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=i[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let o=!0;for(let s=0;s<n;s++){let n=i[s].g;const a=i[s].map;if(n-=t,0>n)t=Math.max(0,i[s].g-100),o=!1;else try{km(a,e,"req"+n+"_")}catch(my){r&&r(a)}}if(o){r=e.join("&");break e}}}return e=e.j.splice(0,n),t.F=e,r}function rg(e){if(!e.g&&!e.u){e.ba=1;var t=e.Ma;Qf||Yf(),Jf||(Qf(),Jf=!0),$f.add(t,e),e.A=0}}function ig(e){return!(e.g||e.u||3<=e.A)&&(e.ba++,e.u=yp(Vd(e.Ma,e),lg(e,e.A)),e.A++,!0)}function og(e){null!=e.B&&(Od.clearTimeout(e.B),e.B=null)}function sg(e){e.g=new Np(e,e.l,"rpc",e.ba),null===e.o&&(e.g.I=e.s),e.g.O=0;var t=Qp(e.wa);Xp(t,"RID","rpc"),Xp(t,"SID",e.K),Xp(t,"AID",e.V),Xp(t,"CI",e.G?"0":"1"),!e.G&&e.qa&&Xp(t,"TO",e.qa),Xp(t,"TYPE","xmlhttp"),tg(e,t),e.o&&e.s&&Wm(t,e.o,e.s),e.L&&e.g.setTimeout(e.L);var n=e.g;e=e.pa,n.L=1,n.A=Zp(Qp(t)),n.u=null,n.S=!0,Lp(n,e)}function ag(e){null!=e.v&&(Od.clearTimeout(e.v),e.v=null)}function cg(e,t){var n=null;if(e.g==t){ag(e),og(e),e.g=null;var r=2}else{if(!wm(e.i,t))return;n=t.F,_m(e.i,t),r=1}if(0!=e.H)if(t.i)if(1==r){n=t.u?t.u.length:0,t=Date.now()-t.G;var i=e.C;Vf(r=dp(),new vp(r,n)),Zm(e)}else rg(e);else if(3==(i=t.s)||0==i&&0<t.ca||!(1==r&&function(e,t){return!(ym(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.j=t.F.concat(e.j),!0):!(1==e.H||2==e.H||e.C>=(e.cb?0:e.eb))&&(e.m=yp(Vd(e.Na,e,t),lg(e,e.C)),e.C++,!0))}(e,t)||2==r&&ig(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:ug(e,5);break;case 4:ug(e,10);break;case 3:ug(e,6);break;default:ug(e,2)}}function lg(e,t){let n=e.ab+Math.floor(Math.random()*e.hb);return e.isActive()||(n*=2),n*t}function ug(e,t){if(e.l.info("Error code "+t),2==t){var n=null;e.h&&(n=null);var r=Vd(e.pb,e);n||(n=new Wp("//www.google.com/images/cleardot.gif"),Od.location&&"http"==Od.location.protocol||Jp(n,"https"),Zp(n)),function(e,t){const n=new cp;if(Od.Image){const r=new Image;r.onload=zd(Cm,n,r,"TestLoadImage: loaded",!0,t),r.onerror=zd(Cm,n,r,"TestLoadImage: error",!1,t),r.onabort=zd(Cm,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=zd(Cm,n,r,"TestLoadImage: timeout",!1,t),Od.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else gp(2);e.H=0,e.h&&e.h.za(t),hg(e),Xm(e)}function hg(e){if(e.H=0,e.ma=[],e.h){const t=Em(e.i);0==t.length&&0==e.j.length||(Gd(e.ma,t),Gd(e.ma,e.j),e.i.i.length=0,Hd(e.j),e.j.length=0),e.h.ya()}}function dg(e,t,n){var r=n instanceof Wp?Qp(n):new Wp(n);if(""!=r.g)t&&(r.g=t+"."+r.g),$p(r,r.m);else{var i=Od.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var o=new Wp(null);r&&Jp(o,r),t&&(o.g=t),i&&$p(o,i),n&&(o.l=n),r=o}return n=e.F,t=e.Da,n&&t&&Xp(r,n,t),Xp(r,"VER",e.ra),tg(e,r),r}function fg(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=e.Ha&&!e.va?new Lm(new xm({ob:n})):new Lm(e.va)).Oa(e.J),t}function pg(){}function mg(){if(nf&&!(10<=Number(ff)))throw Error("Environmental error: no available transport.")}function gg(e,t){jf.call(this),this.g=new Jm(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(e?e["X-WebChannel-Client-Profile"]=t.Ca:e={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=e,(e=t&&t.cc)&&!Jd(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Jd(t)&&(this.g.F=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new wg(this)}function vg(e){kp.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function yg(){Cp.call(this),this.status=1}function wg(e){this.g=e}function bg(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function _g(e,t,n){n||(n=0);var r=Array(16);if("string"===typeof t)for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var o=e.g[3],s=t+(o^n&(i^o))+r[0]+3614090360&4294967295;s=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=n+(s<<7&4294967295|s>>>25))+((s=o+(i^t&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|s>>>15))+((s=n+(t^i&(o^t))+r[3]+3250441966&4294967295)<<22&4294967295|s>>>10))+((s=t+(o^n&(i^o))+r[4]+4118548399&4294967295)<<7&4294967295|s>>>25))+((s=o+(i^t&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|s>>>15))+((s=n+(t^i&(o^t))+r[7]+4249261313&4294967295)<<22&4294967295|s>>>10))+((s=t+(o^n&(i^o))+r[8]+1770035416&4294967295)<<7&4294967295|s>>>25))+((s=o+(i^t&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|s>>>15))+((s=n+(t^i&(o^t))+r[11]+2304563134&4294967295)<<22&4294967295|s>>>10))+((s=t+(o^n&(i^o))+r[12]+1804603682&4294967295)<<7&4294967295|s>>>25))+((s=o+(i^t&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|s>>>15))+((s=n+(t^i&(o^t))+r[15]+1236535329&4294967295)<<22&4294967295|s>>>10))+((s=t+(i^o&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|s>>>23))+((s=i+(t^n&(o^t))+r[11]+643717713&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^t&(i^o))+r[0]+3921069994&4294967295)<<20&4294967295|s>>>12))+((s=t+(i^o&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|s>>>23))+((s=i+(t^n&(o^t))+r[15]+3634488961&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^t&(i^o))+r[4]+3889429448&4294967295)<<20&4294967295|s>>>12))+((s=t+(i^o&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|s>>>23))+((s=i+(t^n&(o^t))+r[3]+4107603335&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^t&(i^o))+r[8]+1163531501&4294967295)<<20&4294967295|s>>>12))+((s=t+(i^o&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|s>>>23))+((s=i+(t^n&(o^t))+r[7]+1735328473&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^t&(i^o))+r[12]+2368359562&4294967295)<<20&4294967295|s>>>12))+((s=t+(n^i^o)+r[5]+4294588738&4294967295)<<4&4294967295|s>>>28))+((s=o+(t^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^t)+r[14]+4259657740&4294967295)<<23&4294967295|s>>>9))+((s=t+(n^i^o)+r[1]+2763975236&4294967295)<<4&4294967295|s>>>28))+((s=o+(t^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^t)+r[10]+3200236656&4294967295)<<23&4294967295|s>>>9))+((s=t+(n^i^o)+r[13]+681279174&4294967295)<<4&4294967295|s>>>28))+((s=o+(t^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^t)+r[6]+76029189&4294967295)<<23&4294967295|s>>>9))+((s=t+(n^i^o)+r[9]+3654602809&4294967295)<<4&4294967295|s>>>28))+((s=o+(t^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^t^n)+r[15]+530742520&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^t)+r[2]+3299628645&4294967295)<<23&4294967295|s>>>9))+((s=t+(i^(n|~o))+r[0]+4096336452&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(t|~i))+r[7]+1126891415&4294967295)<<10&4294967295|s>>>22))+((s=i+(t^(o|~n))+r[14]+2878612391&4294967295)<<15&4294967295|s>>>17))+((s=n+(o^(i|~t))+r[5]+4237533241&4294967295)<<21&4294967295|s>>>11))+((s=t+(i^(n|~o))+r[12]+1700485571&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(t|~i))+r[3]+2399980690&4294967295)<<10&4294967295|s>>>22))+((s=i+(t^(o|~n))+r[10]+4293915773&4294967295)<<15&4294967295|s>>>17))+((s=n+(o^(i|~t))+r[1]+2240044497&4294967295)<<21&4294967295|s>>>11))+((s=t+(i^(n|~o))+r[8]+1873313359&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(t|~i))+r[15]+4264355552&4294967295)<<10&4294967295|s>>>22))+((s=i+(t^(o|~n))+r[6]+2734768916&4294967295)<<15&4294967295|s>>>17))+((s=n+(o^(i|~t))+r[13]+1309151649&4294967295)<<21&4294967295|s>>>11))+((o=(t=n+((s=t+(i^(n|~o))+r[4]+4149444226&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(t|~i))+r[11]+3174756917&4294967295)<<10&4294967295|s>>>22))^((i=o+((s=i+(t^(o|~n))+r[2]+718787259&4294967295)<<15&4294967295|s>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(s<<21&4294967295|s>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+o&4294967295}function Eg(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var o=0|e[i];r&&o==t||(n[i]=o,r=!1)}this.g=n}(Nd=Lm.prototype).Oa=function(e){this.M=e},Nd.ha=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+e);t=t?t.toUpperCase():"GET",this.I=e,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Tp.g(),this.C=this.u?Ep(this.u):Ep(Tp),this.g.onreadystatechange=Vd(this.La,this);try{this.G=!0,this.g.open(t,String(e),!0),this.G=!1}catch(o){return void jm(this,o)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const e of r.keys())n.set(e,r.get(e))}r=Array.from(n.keys()).find((e=>"content-type"==e.toLowerCase())),i=Od.FormData&&e instanceof Od.FormData,!(0<=Kd(Um,t))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,a]of n)this.g.setRequestHeader(s,a);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{qm(this),0<this.B&&((this.L=function(e){return nf&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Vd(this.ua,this)):this.A=tp(this.ua,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(o){jm(this,o)}},Nd.ua=function(){"undefined"!=typeof Rd&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Vf(this,"timeout"),this.abort(8))},Nd.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Vf(this,"complete"),Vf(this,"abort"),Bm(this))},Nd.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Bm(this,!0)),Lm.$.N.call(this)},Nd.La=function(){this.s||(this.G||this.v||this.l?zm(this):this.kb())},Nd.kb=function(){zm(this)},Nd.isActive=function(){return!!this.g},Nd.da=function(){try{return 2<Km(this)?this.g.status:-1}catch(Im){return-1}},Nd.ja=function(){try{return this.g?this.g.responseText:""}catch(Im){return""}},Nd.Wa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),Dm(t)}},Nd.Ia=function(){return this.m},Nd.Sa=function(){return"string"===typeof this.j?this.j:String(this.j)},(Nd=Jm.prototype).ra=8,Nd.H=1,Nd.Na=function(e){if(this.m)if(this.m=null,1==this.H){if(!e){this.W=Math.floor(1e5*Math.random()),e=this.W++;const i=new Np(this,this.l,e);let o=this.s;if(this.U&&(o?(o=_f(o),If(o,this.U)):o=this.U),null!==this.o||this.O||(i.I=o,o=null),this.P)e:{for(var t=0,n=0;n<this.j.length;n++){var r=this.j[n];if(void 0===(r="__data__"in r.map&&"string"===typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(t+=r)){t=n;break e}if(4096===t||n===this.j.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=ng(this,i,t),Xp(n=Qp(this.I),"RID",e),Xp(n,"CVER",22),this.F&&Xp(n,"X-HTTP-Session-Id",this.F),tg(this,n),o&&(this.O?t="headers="+encodeURIComponent(String(Gm(o)))+"&"+t:this.o&&Wm(n,this.o,o)),bm(this.i,i),this.bb&&Xp(n,"TYPE","init"),this.P?(Xp(n,"$req",t),Xp(n,"SID","null"),i.aa=!0,Dp(i,n,null)):Dp(i,n,t),this.H=2}}else 3==this.H&&(e?eg(this,e):0==this.j.length||vm(this.i)||eg(this))},Nd.Ma=function(){if(this.u=null,sg(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var e=2*this.S;this.l.info("BP detection timer enabled: "+e),this.B=yp(Vd(this.jb,this),e)}},Nd.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,gp(10),Ym(this),sg(this))},Nd.ib=function(){null!=this.v&&(this.v=null,Ym(this),ig(this),gp(19))},Nd.pb=function(e){e?(this.l.info("Successfully pinged google.com"),gp(2)):(this.l.info("Failed to ping google.com"),gp(1))},Nd.isActive=function(){return!!this.h&&this.h.isActive(this)},(Nd=pg.prototype).Ba=function(){},Nd.Aa=function(){},Nd.za=function(){},Nd.ya=function(){},Nd.isActive=function(){return!0},Nd.Va=function(){},mg.prototype.g=function(e,t){return new gg(e,t)},Bd(gg,jf),gg.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var e=this.g,t=this.l,n=this.h||void 0;gp(0),e.Y=t,e.na=n||{},e.G=e.aa,e.I=dg(e,null,e.Y),Zm(e)},gg.prototype.close=function(){$m(this.g)},gg.prototype.u=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=Bf(e),e=n);t.j.push(new pm(t.fb++,e)),3==t.H&&Zm(t)},gg.prototype.N=function(){this.g.h=null,delete this.j,$m(this.g),delete this.g,gg.$.N.call(this)},Bd(vg,kp),Bd(yg,Cp),Bd(wg,pg),wg.prototype.Ba=function(){Vf(this.g,"a")},wg.prototype.Aa=function(e){Vf(this.g,new vg(e))},wg.prototype.za=function(e){Vf(this.g,new yg)},wg.prototype.ya=function(){Vf(this.g,"b")},Bd(bg,(function(){this.blockSize=-1})),bg.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},bg.prototype.j=function(e,t){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=this.m,i=this.h,o=0;o<t;){if(0==i)for(;o<=n;)_g(this,e,o),o+=this.blockSize;if("string"===typeof e){for(;o<t;)if(r[i++]=e.charCodeAt(o++),i==this.blockSize){_g(this,r),i=0;break}}else for(;o<t;)if(r[i++]=e[o++],i==this.blockSize){_g(this,r),i=0;break}}this.h=i,this.i+=t},bg.prototype.l=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.i;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.j(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var Ig={};function Tg(e){return-128<=e&&128>e?function(e,t){var n=Ig;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,(function(e){return new Eg([0|e],0>e?-1:0)})):new Eg([0|e],0>e?-1:0)}function Sg(e){if(isNaN(e)||!isFinite(e))return Cg;if(0>e)return Rg(Sg(-e));for(var t=[],n=1,r=0;e>=n;r++)t[r]=e/n|0,n*=kg;return new Eg(t,0)}var kg=4294967296,Cg=Tg(0),xg=Tg(1),Ng=Tg(16777216);function Ag(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function Pg(e){return-1==e.h}function Rg(e){for(var t=e.g.length,n=[],r=0;r<t;r++)n[r]=~e.g[r];return new Eg(n,~e.h).add(xg)}function Og(e,t){return e.add(Rg(t))}function Dg(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function Lg(e,t){this.g=e,this.h=t}function Mg(e,t){if(Ag(t))throw Error("division by zero");if(Ag(e))return new Lg(Cg,Cg);if(Pg(e))return t=Mg(Rg(e),t),new Lg(Rg(t.g),Rg(t.h));if(Pg(t))return t=Mg(e,Rg(t)),new Lg(Rg(t.g),t.h);if(30<e.g.length){if(Pg(e)||Pg(t))throw Error("slowDivide_ only works with positive integers.");for(var n=xg,r=t;0>=r.X(e);)n=Fg(n),r=Fg(r);var i=Ug(n,1),o=Ug(r,1);for(r=Ug(r,2),n=Ug(n,2);!Ag(r);){var s=o.add(r);0>=s.X(e)&&(i=i.add(n),o=s),r=Ug(r,1),n=Ug(n,1)}return t=Og(e,i.R(t)),new Lg(i,t)}for(i=Cg;0<=e.X(t);){for(n=Math.max(1,Math.floor(e.ea()/t.ea())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),s=(o=Sg(n)).R(t);Pg(s)||0<s.X(e);)s=(o=Sg(n-=r)).R(t);Ag(o)&&(o=xg),i=i.add(o),e=Og(e,s)}return new Lg(i,e)}function Fg(e){for(var t=e.g.length+1,n=[],r=0;r<t;r++)n[r]=e.D(r)<<1|e.D(r-1)>>>31;return new Eg(n,e.h)}function Ug(e,t){var n=t>>5;t%=32;for(var r=e.g.length-n,i=[],o=0;o<r;o++)i[o]=0<t?e.D(o+n)>>>t|e.D(o+n+1)<<32-t:e.D(o+n);return new Eg(i,e.h)}(Nd=Eg.prototype).ea=function(){if(Pg(this))return-Rg(this).ea();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.D(n);e+=(0<=r?r:kg+r)*t,t*=kg}return e},Nd.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(Ag(this))return"0";if(Pg(this))return"-"+Rg(this).toString(e);for(var t=Sg(Math.pow(e,6)),n=this,r="";;){var i=Mg(n,t).g,o=((0<(n=Og(n,i.R(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(Ag(n=i))return o+r;for(;6>o.length;)o="0"+o;r=o+r}},Nd.D=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},Nd.X=function(e){return Pg(e=Og(this,e))?-1:Ag(e)?0:1},Nd.abs=function(){return Pg(this)?Rg(this):this},Nd.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0,i=0;i<=t;i++){var o=r+(65535&this.D(i))+(65535&e.D(i)),s=(o>>>16)+(this.D(i)>>>16)+(e.D(i)>>>16);r=s>>>16,o&=65535,s&=65535,n[i]=s<<16|o}return new Eg(n,-2147483648&n[n.length-1]?-1:0)},Nd.R=function(e){if(Ag(this)||Ag(e))return Cg;if(Pg(this))return Pg(e)?Rg(this).R(Rg(e)):Rg(Rg(this).R(e));if(Pg(e))return Rg(this.R(Rg(e)));if(0>this.X(Ng)&&0>e.X(Ng))return Sg(this.ea()*e.ea());for(var t=this.g.length+e.g.length,n=[],r=0;r<2*t;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<e.g.length;i++){var o=this.D(r)>>>16,s=65535&this.D(r),a=e.D(i)>>>16,c=65535&e.D(i);n[2*r+2*i]+=s*c,Dg(n,2*r+2*i),n[2*r+2*i+1]+=o*c,Dg(n,2*r+2*i+1),n[2*r+2*i+1]+=s*a,Dg(n,2*r+2*i+1),n[2*r+2*i+2]+=o*a,Dg(n,2*r+2*i+2)}for(r=0;r<t;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=t;r<2*t;r++)n[r]=0;return new Eg(n,0)},Nd.gb=function(e){return Mg(this,e).h},Nd.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)&e.D(r);return new Eg(n,this.h&e.h)},Nd.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)|e.D(r);return new Eg(n,this.h|e.h)},Nd.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)^e.D(r);return new Eg(n,this.h^e.h)},mg.prototype.createWebChannel=mg.prototype.g,gg.prototype.send=gg.prototype.u,gg.prototype.open=gg.prototype.m,gg.prototype.close=gg.prototype.close,wp.NO_ERROR=0,wp.TIMEOUT=8,wp.HTTP_ERROR=6,bp.COMPLETE="complete",Ip.EventType=Sp,Sp.OPEN="a",Sp.CLOSE="b",Sp.ERROR="c",Sp.MESSAGE="d",jf.prototype.listen=jf.prototype.O,Lm.prototype.listenOnce=Lm.prototype.P,Lm.prototype.getLastError=Lm.prototype.Sa,Lm.prototype.getLastErrorCode=Lm.prototype.Ia,Lm.prototype.getStatus=Lm.prototype.da,Lm.prototype.getResponseJson=Lm.prototype.Wa,Lm.prototype.getResponseText=Lm.prototype.ja,Lm.prototype.send=Lm.prototype.ha,Lm.prototype.setWithCredentials=Lm.prototype.Oa,bg.prototype.digest=bg.prototype.l,bg.prototype.reset=bg.prototype.reset,bg.prototype.update=bg.prototype.j,Eg.prototype.add=Eg.prototype.add,Eg.prototype.multiply=Eg.prototype.R,Eg.prototype.modulo=Eg.prototype.gb,Eg.prototype.compare=Eg.prototype.X,Eg.prototype.toNumber=Eg.prototype.ea,Eg.prototype.toString=Eg.prototype.toString,Eg.prototype.getBits=Eg.prototype.D,Eg.fromNumber=Sg,Eg.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return Rg(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=Sg(Math.pow(n,8)),i=Cg,o=0;o<t.length;o+=8){var s=Math.min(8,t.length-o),a=parseInt(t.substring(o,o+s),n);8>s?(s=Sg(Math.pow(n,s)),i=i.R(s).add(Sg(a))):i=(i=i.R(r)).add(Sg(a))}return i};var jg=Pd.createWebChannelTransport=function(){return new mg},Vg=Pd.getStatEventTarget=function(){return dp()},zg=Pd.ErrorCode=wp,Bg=Pd.EventType=bp,qg=Pd.Event=up,Kg=Pd.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Hg=Pd.FetchXmlHttpFactory=xm,Gg=Pd.WebChannel=Ip,Wg=Pd.XhrIo=Lm,Qg=Pd.Md5=bg,Jg=Pd.Integer=Eg;const $g="@firebase/firestore";class Yg{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Yg.UNAUTHENTICATED=new Yg(null),Yg.GOOGLE_CREDENTIALS=new Yg("google-credentials-uid"),Yg.FIRST_PARTY=new Yg("first-party-uid"),Yg.MOCK_USER=new Yg("mock-user");let Xg="10.11.1";const Zg=new zo("@firebase/firestore");function ev(){return Zg.logLevel}function tv(e){if(Zg.logLevel<=Mo.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(iv);Zg.debug("Firestore (".concat(Xg,"): ").concat(e),...i)}}function nv(e){if(Zg.logLevel<=Mo.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(iv);Zg.error("Firestore (".concat(Xg,"): ").concat(e),...i)}}function rv(e){if(Zg.logLevel<=Mo.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(iv);Zg.warn("Firestore (".concat(Xg,"): ").concat(e),...i)}}function iv(e){if("string"==typeof e)return e;try{return function(e){return JSON.stringify(e)}(e)}catch(t){return e}}function ov(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state";const t="FIRESTORE (".concat(Xg,") INTERNAL ASSERTION FAILED: ")+e;throw nv(t),new Error(t)}function sv(e,t){e||ov()}function av(e,t){return e}const cv={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class lv extends yo{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>"".concat(this.name,": [code=").concat(this.code,"]: ").concat(this.message)}}class uv{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class hv{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(e))}}class dv{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(Yg.UNAUTHENTICATED)))}shutdown(){}}class fv{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class pv{constructor(e){this.t=e,this.currentUser=Yg.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let i=new uv;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new uv,e.enqueueRetryable((()=>r(this.currentUser)))};const o=()=>{const t=i;e.enqueueRetryable((async()=>{await t.promise,await r(this.currentUser)}))},s=e=>{tv("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit((e=>s(e))),setTimeout((()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?s(e):(tv("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new uv)}}),0),o()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((t=>this.i!==e?(tv("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(sv("string"==typeof t.accessToken),new hv(t.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return sv(null===e||"string"==typeof e),new Yg(e)}}class mv{constructor(e,t,n){this.l=e,this.h=t,this.P=n,this.type="FirstParty",this.user=Yg.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class gv{constructor(e,t,n){this.l=e,this.h=t,this.P=n}getToken(){return Promise.resolve(new mv(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable((()=>t(Yg.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class vv{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class yv{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){const n=e=>{null!=e.error&&tv("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));const n=e.token!==this.R;return this.R=e.token,tv("FirebaseAppCheckTokenProvider","Received ".concat(n?"new":"existing"," token.")),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable((()=>n(t)))};const r=e=>{tv("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.appCheck.addTokenListener(this.o)};this.A.onInit((e=>r(e))),setTimeout((()=>{if(!this.appCheck){const e=this.A.getImmediate({optional:!0});e?r(e):tv("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((e=>e?(sv("string"==typeof e.token),this.R=e.token,new vv(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function wv(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}class bv{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(256/62);let n="";for(;n.length<20;){const r=wv(40);for(let i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%62))}return n}}function _v(e,t){return e<t?-1:e>t?1:0}function Ev(e,t,n){return e.length===t.length&&e.every(((e,r)=>n(e,t[r])))}function Iv(e){return e+"\0"}class Tv{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new lv(cv.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new lv(cv.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new lv(cv.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new lv(cv.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Tv.fromMillis(Date.now())}static fromDate(e){return Tv.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*t));return new Tv(t,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?_v(this.nanoseconds,e.nanoseconds):_v(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Sv{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Sv(e)}static min(){return new Sv(new Tv(0,0))}static max(){return new Sv(new Tv(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class kv{constructor(e,t,n){void 0===t?t=0:t>e.length&&ov(),void 0===n?n=e.length-t:n>e.length-t&&ov(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===kv.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof kv?e.forEach((e=>{t.push(e)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=e.get(r),i=t.get(r);if(n<i)return-1;if(n>i)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Cv extends kv{construct(e,t,n){return new Cv(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(){const e=[];for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n){if(i.indexOf("//")>=0)throw new lv(cv.INVALID_ARGUMENT,"Invalid segment (".concat(i,"). Paths must not contain // in them."));e.push(...i.split("/").filter((e=>e.length>0)))}return new Cv(e)}static emptyPath(){return new Cv([])}}const xv=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Nv extends kv{construct(e,t,n){return new Nv(e,t,n)}static isValidIdentifier(e){return xv.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Nv.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Nv(["__name__"])}static fromServerFormat(e){const t=[];let n="",r=0;const i=()=>{if(0===n.length)throw new lv(cv.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(n),n=""};let o=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new lv(cv.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new lv(cv.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(o=!o,r++):"."!==t||o?(n+=t,r++):(i(),r++)}if(i(),o)throw new lv(cv.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Nv(t)}static emptyPath(){return new Nv([])}}class Av{constructor(e){this.path=e}static fromPath(e){return new Av(Cv.fromString(e))}static fromName(e){return new Av(Cv.fromString(e).popFirst(5))}static empty(){return new Av(Cv.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Cv.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Cv.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Av(new Cv(e.slice()))}}class Pv{constructor(e,t,n,r){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=r}}function Rv(e){return e.fields.find((e=>2===e.kind))}function Ov(e){return e.fields.filter((e=>2!==e.kind))}Pv.UNKNOWN_ID=-1;class Dv{constructor(e,t){this.fieldPath=e,this.kind=t}}class Lv{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new Lv(0,Uv.min())}}function Mv(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=Sv.fromTimestamp(1e9===r?new Tv(n+1,0):new Tv(n,r));return new Uv(i,Av.empty(),t)}function Fv(e){return new Uv(e.readTime,e.key,-1)}class Uv{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new Uv(Sv.min(),Av.empty(),-1)}static max(){return new Uv(Sv.max(),Av.empty(),-1)}}function jv(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=Av.comparator(e.documentKey,t.documentKey),0!==n?n:_v(e.largestBatchId,t.largestBatchId))}const Vv="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class zv{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Bv(e){if(e.code!==cv.FAILED_PRECONDITION||e.message!==Vv)throw e;tv("LocalStore","Unexpectedly lost primary lease")}class qv{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&ov(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new qv(((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof qv?t:qv.resolve(t)}catch(e){return qv.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):qv.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):qv.reject(t)}static resolve(e){return new qv(((t,n)=>{t(e)}))}static reject(e){return new qv(((t,n)=>{n(e)}))}static waitFor(e){return new qv(((t,n)=>{let r=0,i=0,o=!1;e.forEach((e=>{++r,e.next((()=>{++i,o&&i===r&&t()}),(e=>n(e)))})),o=!0,i===r&&t()}))}static or(e){let t=qv.resolve(!1);for(const n of e)t=t.next((e=>e?qv.resolve(e):n()));return t}static forEach(e,t){const n=[];return e.forEach(((e,r)=>{n.push(t.call(this,e,r))})),this.waitFor(n)}static mapArray(e,t){return new qv(((n,r)=>{const i=e.length,o=new Array(i);let s=0;for(let a=0;a<i;a++){const c=a;t(e[c]).next((e=>{o[c]=e,++s,s===i&&n(o)}),(e=>r(e)))}}))}static doWhile(e,t){return new qv(((n,r)=>{const i=()=>{!0===e()?t().next((()=>{i()}),r):n()};i()}))}}class Kv{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.V=new uv,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{t.error?this.V.reject(new Qv(e,t.error)):this.V.resolve()},this.transaction.onerror=t=>{const n=Zv(t.target.error);this.V.reject(new Qv(e,n))}}static open(e,t,n,r){try{return new Kv(t,e.transaction(r,n))}catch(e){throw new Qv(t,e)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(tv("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new $v(t)}}class Hv{constructor(e,t,n){this.name=e,this.version=t,this.p=n,12.2===Hv.S(lo())&&nv("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return tv("SimpleDb","Removing database:",e),Yv(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!vo())return!1;if(Hv.C())return!0;const e=lo(),t=Hv.S(e),n=0<t&&t<10,r=Gv(e),i=0<r&&r<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||n||i)}static C(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.__PRIVATE_env)||void 0===e?void 0:e.v)}static F(e,t){return e.store(t)}static S(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}async M(e){return this.db||(tv("SimpleDb","Opening database:",this.name),this.db=await new Promise(((t,n)=>{const r=indexedDB.open(this.name,this.version);r.onsuccess=e=>{const n=e.target.result;t(n)},r.onblocked=()=>{n(new Qv(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},r.onerror=t=>{const r=t.target.error;"VersionError"===r.name?n(new lv(cv.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===r.name?n(new lv(cv.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+r)):n(new Qv(e,r))},r.onupgradeneeded=e=>{tv("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',e.oldVersion);const t=e.target.result;this.p.O(t,r.transaction,e.oldVersion,this.version).next((()=>{tv("SimpleDb","Database upgrade to version "+this.version+" complete")}))}}))),this.N&&(this.db.onversionchange=e=>this.N(e)),this.db}L(e){this.N=e,this.db&&(this.db.onversionchange=t=>e(t))}async runTransaction(e,t,n,r){const i="readonly"===t;let o=0;for(;;){++o;try{this.db=await this.M(e);const t=Kv.open(this.db,e,i?"readonly":"readwrite",n),o=r(t).next((e=>(t.g(),e))).catch((e=>(t.abort(e),qv.reject(e)))).toPromise();return o.catch((()=>{})),await t.m,o}catch(e){const t=e,n="FirebaseError"!==t.name&&o<3;if(tv("SimpleDb","Transaction failed with error:",t.message,"Retrying:",n),this.close(),!n)return Promise.reject(t)}}}close(){this.db&&this.db.close(),this.db=void 0}}function Gv(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}class Wv{constructor(e){this.B=e,this.k=!1,this.q=null}get isDone(){return this.k}get K(){return this.q}set cursor(e){this.B=e}done(){this.k=!0}$(e){this.q=e}delete(){return Yv(this.B.delete())}}class Qv extends lv{constructor(e,t){super(cv.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(t)),this.name="IndexedDbTransactionError"}}function Jv(e){return"IndexedDbTransactionError"===e.name}class $v{constructor(e){this.store=e}put(e,t){let n;return void 0!==t?(tv("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(tv("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),Yv(n)}add(e){return tv("SimpleDb","ADD",this.store.name,e,e),Yv(this.store.add(e))}get(e){return Yv(this.store.get(e)).next((t=>(void 0===t&&(t=null),tv("SimpleDb","GET",this.store.name,e,t),t)))}delete(e){return tv("SimpleDb","DELETE",this.store.name,e),Yv(this.store.delete(e))}count(){return tv("SimpleDb","COUNT",this.store.name),Yv(this.store.count())}U(e,t){const n=this.options(e,t),r=n.index?this.store.index(n.index):this.store;if("function"==typeof r.getAll){const e=r.getAll(n.range);return new qv(((t,n)=>{e.onerror=e=>{n(e.target.error)},e.onsuccess=e=>{t(e.target.result)}}))}{const e=this.cursor(n),t=[];return this.W(e,((e,n)=>{t.push(n)})).next((()=>t))}}G(e,t){const n=this.store.getAll(e,null===t?void 0:t);return new qv(((e,t)=>{n.onerror=e=>{t(e.target.error)},n.onsuccess=t=>{e(t.target.result)}}))}j(e,t){tv("SimpleDb","DELETE ALL",this.store.name);const n=this.options(e,t);n.H=!1;const r=this.cursor(n);return this.W(r,((e,t,n)=>n.delete()))}J(e,t){let n;t?n=e:(n={},t=e);const r=this.cursor(n);return this.W(r,t)}Y(e){const t=this.cursor({});return new qv(((n,r)=>{t.onerror=e=>{const t=Zv(e.target.error);r(t)},t.onsuccess=t=>{const r=t.target.result;r?e(r.primaryKey,r.value).next((e=>{e?r.continue():n()})):n()}}))}W(e,t){const n=[];return new qv(((r,i)=>{e.onerror=e=>{i(e.target.error)},e.onsuccess=e=>{const i=e.target.result;if(!i)return void r();const o=new Wv(i),s=t(i.primaryKey,i.value,o);if(s instanceof qv){const e=s.catch((e=>(o.done(),qv.reject(e))));n.push(e)}o.isDone?r():null===o.K?i.continue():i.continue(o.K)}})).next((()=>qv.waitFor(n)))}options(e,t){let n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const n=this.store.index(e.index);return e.H?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Yv(e){return new qv(((t,n)=>{e.onsuccess=e=>{const n=e.target.result;t(n)},e.onerror=e=>{const t=Zv(e.target.error);n(t)}}))}let Xv=!1;function Zv(e){const t=Hv.S(lo());if(t>=12.2&&t<13){const t="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(t)>=0){const e=new lv("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(t,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return Xv||(Xv=!0,setTimeout((()=>{throw e}),0)),e}}return e}class ey{constructor(e,t){this.asyncQueue=e,this.Z=t,this.task=null}start(){this.X(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}X(e){tv("IndexBackfiller","Scheduled in ".concat(e,"ms")),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(async()=>{this.task=null;try{tv("IndexBackfiller","Documents written: ".concat(await this.Z.ee()))}catch(e){Jv(e)?tv("IndexBackfiller","Ignoring IndexedDB error during index backfill: ",e):await Bv(e)}await this.X(6e4)}))}}class ty{constructor(e,t){this.localStore=e,this.persistence=t}async ee(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:50;return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(t=>this.te(t,e)))}te(e,t){const n=new Set;let r=t,i=!0;return qv.doWhile((()=>!0===i&&r>0),(()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((t=>{if(null!==t&&!n.has(t))return tv("IndexBackfiller","Processing collection: ".concat(t)),this.ne(e,t,r).next((e=>{r-=e,n.add(t)}));i=!1})))).next((()=>t-r))}ne(e,t,n){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next((r=>this.localStore.localDocuments.getNextDocuments(e,t,r,n).next((n=>{const i=n.changes;return this.localStore.indexManager.updateIndexEntries(e,i).next((()=>this.re(r,n))).next((n=>(tv("IndexBackfiller","Updating offset: ".concat(n)),this.localStore.indexManager.updateCollectionGroup(e,t,n)))).next((()=>i.size))}))))}re(e,t){let n=e;return t.changes.forEach(((e,t)=>{const r=Fv(t);jv(r,n)>0&&(n=r)})),new Uv(n.readTime,n.documentKey,Math.max(t.batchId,e.largestBatchId))}}class ny{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.ie(e),this.se=e=>t.writeSequenceNumber(e))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}function ry(e){return null==e}function iy(e){return 0===e&&1/e==-1/0}function oy(e){return"number"==typeof e&&Number.isInteger(e)&&!iy(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}function sy(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=cy(t)),t=ay(e.get(n),t);return cy(t)}function ay(e,t){let n=t;const r=e.length;for(let i=0;i<r;i++){const t=e.charAt(i);switch(t){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=t}}return n}function cy(e){return e+"\x01\x01"}function ly(e){const t=e.length;if(sv(t>=2),2===t)return sv("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),Cv.emptyPath();const n=t-2,r=[];let i="";for(let o=0;o<t;){const t=e.indexOf("\x01",o);switch((t<0||t>n)&&ov(),e.charAt(t+1)){case"\x01":const n=e.substring(o,t);let s;0===i.length?s=n:(i+=n,s=i,i=""),r.push(s);break;case"\x10":i+=e.substring(o,t),i+="\0";break;case"\x11":i+=e.substring(o,t+1);break;default:ov()}o=t+2}return new Cv(r)}ny.oe=-1;const uy=["userId","batchId"];function hy(e,t){return[e,sy(t)]}function dy(e,t,n){return[e,sy(t),n]}const fy={},py=["prefixPath","collectionGroup","readTime","documentId"],my=["prefixPath","collectionGroup","documentId"],gy=["collectionGroup","readTime","prefixPath","documentId"],vy=["canonicalId","targetId"],yy=["targetId","path"],wy=["path","targetId"],by=["collectionId","parent"],_y=["indexId","uid"],Ey=["uid","sequenceNumber"],Iy=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],Ty=["indexId","uid","orderedDocumentKey"],Sy=["userId","collectionPath","documentId"],ky=["userId","collectionPath","largestBatchId"],Cy=["userId","collectionGroup","largestBatchId"],xy=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Ny=[...xy,"documentOverlays"],Ay=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Py=Ay,Ry=[...Py,"indexConfiguration","indexState","indexEntries"],Oy=Ry;class Dy extends zv{constructor(e,t){super(),this._e=e,this.currentSequenceNumber=t}}function Ly(e,t){const n=av(e);return Hv.F(n._e,t)}function My(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Fy(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Uy(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class jy{constructor(e,t){this.comparator=e,this.root=t||zy.EMPTY}insert(e,t){return new jy(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,zy.BLACK,null,null))}remove(e){return new jy(this.comparator,this.root.remove(e,this.comparator).copy(null,null,zy.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,n)=>(e(t,n),!1)))}toString(){const e=[];return this.inorderTraversal(((t,n)=>(e.push("".concat(t,":").concat(n)),!1))),"{".concat(e.join(", "),"}")}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Vy(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Vy(this.root,e,this.comparator,!1)}getReverseIterator(){return new Vy(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Vy(this.root,e,this.comparator,!0)}}class Vy{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,t&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class zy{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:zy.RED,this.left=null!=r?r:zy.EMPTY,this.right=null!=i?i:zy.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new zy(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return zy.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return zy.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,zy.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,zy.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ov();if(this.right.isRed())throw ov();const e=this.left.check();if(e!==this.right.check())throw ov();return e+(this.isRed()?0:1)}}zy.EMPTY=null,zy.RED=!0,zy.BLACK=!1,zy.EMPTY=new class{constructor(){this.size=0}get key(){throw ov()}get value(){throw ov()}get color(){throw ov()}get left(){throw ov()}get right(){throw ov()}copy(e,t,n,r,i){return this}insert(e,t,n){return new zy(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class By{constructor(e){this.comparator=e,this.data=new jy(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,n)=>(e(t),!1)))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new qy(this.data.getIterator())}getIteratorFrom(e){return new qy(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((e=>{t=t.add(e)})),t}isEqual(e){if(!(e instanceof By))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new By(this.comparator);return t.data=e,t}}class qy{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Ky(e){return e.hasNext()?e.getNext():void 0}class Hy{constructor(e){this.fields=e,e.sort(Nv.comparator)}static empty(){return new Hy([])}unionWith(e){let t=new By(Nv.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new Hy(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Ev(this.fields,e.fields,((e,t)=>e.isEqual(t)))}}class Gy extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Wy{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new Gy("Invalid base64 string: "+e):e}}(e);return new Wy(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new Wy(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return _v(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Wy.EMPTY_BYTE_STRING=new Wy("");const Qy=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Jy(e){if(sv(!!e),"string"==typeof e){let t=0;const n=Qy.exec(e);if(sv(!!n),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:$y(e.seconds),nanos:$y(e.nanos)}}function $y(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Yy(e){return"string"==typeof e?Wy.fromBase64String(e):Wy.fromUint8Array(e)}function Xy(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Zy(e){const t=e.mapValue.fields.__previous_value__;return Xy(t)?Zy(t):t}function ew(e){const t=Jy(e.mapValue.fields.__local_write_time__.timestampValue);return new Tv(t.seconds,t.nanos)}class tw{constructor(e,t,n,r,i,o,s,a,c){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=s,this.longPollingOptions=a,this.useFetchStreams=c}}class nw{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new nw("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof nw&&e.projectId===this.projectId&&e.database===this.database}}const rw={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},iw={nullValue:"NULL_VALUE"};function ow(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Xy(e)?4:ww(e)?9007199254740991:10:ov()}function sw(e,t){if(e===t)return!0;const n=ow(e);if(n!==ow(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return ew(e).isEqual(ew(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=Jy(e.timestampValue),r=Jy(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return Yy(e.bytesValue).isEqual(Yy(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return $y(e.geoPointValue.latitude)===$y(t.geoPointValue.latitude)&&$y(e.geoPointValue.longitude)===$y(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return $y(e.integerValue)===$y(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=$y(e.doubleValue),r=$y(t.doubleValue);return n===r?iy(n)===iy(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Ev(e.arrayValue.values||[],t.arrayValue.values||[],sw);case 10:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(My(n)!==My(r))return!1;for(const i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!sw(n[i],r[i])))return!1;return!0}(e,t);default:return ov()}}function aw(e,t){return void 0!==(e.values||[]).find((e=>sw(e,t)))}function cw(e,t){if(e===t)return 0;const n=ow(e),r=ow(t);if(n!==r)return _v(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return _v(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=$y(e.integerValue||e.doubleValue),r=$y(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return lw(e.timestampValue,t.timestampValue);case 4:return lw(ew(e),ew(t));case 5:return _v(e.stringValue,t.stringValue);case 6:return function(e,t){const n=Yy(e),r=Yy(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let i=0;i<n.length&&i<r.length;i++){const e=_v(n[i],r[i]);if(0!==e)return e}return _v(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=_v($y(e.latitude),$y(t.latitude));return 0!==n?n:_v($y(e.longitude),$y(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){const n=e.values||[],r=t.values||[];for(let i=0;i<n.length&&i<r.length;++i){const e=cw(n[i],r[i]);if(e)return e}return _v(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===rw.mapValue&&t===rw.mapValue)return 0;if(e===rw.mapValue)return 1;if(t===rw.mapValue)return-1;const n=e.fields||{},r=Object.keys(n),i=t.fields||{},o=Object.keys(i);r.sort(),o.sort();for(let s=0;s<r.length&&s<o.length;++s){const e=_v(r[s],o[s]);if(0!==e)return e;const t=cw(n[r[s]],i[o[s]]);if(0!==t)return t}return _v(r.length,o.length)}(e.mapValue,t.mapValue);default:throw ov()}}function lw(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return _v(e,t);const n=Jy(e),r=Jy(t),i=_v(n.seconds,r.seconds);return 0!==i?i:_v(n.nanos,r.nanos)}function uw(e){return hw(e)}function hw(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=Jy(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(e){return Yy(e).toBase64()}(e.bytesValue):"referenceValue"in e?function(e){return Av.fromName(e).toString()}(e.referenceValue):"geoPointValue"in e?function(e){return"geo(".concat(e.latitude,",").concat(e.longitude,")")}(e.geoPointValue):"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=hw(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const i of t)r?r=!1:n+=",",n+="".concat(i,":").concat(hw(e.fields[i]));return n+"}"}(e.mapValue):ov()}function dw(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function fw(e){return!!e&&"integerValue"in e}function pw(e){return!!e&&"arrayValue"in e}function mw(e){return!!e&&"nullValue"in e}function gw(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function vw(e){return!!e&&"mapValue"in e}function yw(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return Fy(e.mapValue.fields,((e,n)=>t.mapValue.fields[e]=yw(n))),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=yw(e.arrayValue.values[n]);return t}return Object.assign({},e)}function ww(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}function bw(e){return"nullValue"in e?iw:"booleanValue"in e?{booleanValue:!1}:"integerValue"in e||"doubleValue"in e?{doubleValue:NaN}:"timestampValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in e?{stringValue:""}:"bytesValue"in e?{bytesValue:""}:"referenceValue"in e?dw(nw.empty(),Av.empty()):"geoPointValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in e?{arrayValue:{}}:"mapValue"in e?{mapValue:{}}:ov()}function _w(e){return"nullValue"in e?{booleanValue:!1}:"booleanValue"in e?{doubleValue:NaN}:"integerValue"in e||"doubleValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in e?{stringValue:""}:"stringValue"in e?{bytesValue:""}:"bytesValue"in e?dw(nw.empty(),Av.empty()):"referenceValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in e?{arrayValue:{}}:"arrayValue"in e?{mapValue:{}}:"mapValue"in e?rw:ov()}function Ew(e,t){const n=cw(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?-1:!e.inclusive&&t.inclusive?1:0}function Iw(e,t){const n=cw(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?1:!e.inclusive&&t.inclusive?-1:0}class Tw{constructor(e){this.value=e}static empty(){return new Tw({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!vw(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=yw(t)}setAll(e){let t=Nv.emptyPath(),n={},r=[];e.forEach(((e,i)=>{if(!t.isImmediateParentOf(i)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=yw(e):r.push(i.lastSegment())}));const i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){const t=this.field(e.popLast());vw(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return sw(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];vw(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){Fy(t,((t,n)=>e[t]=n));for(const r of n)delete e[r]}clone(){return new Tw(yw(this.value))}}function Sw(e){const t=[];return Fy(e.fields,((e,n)=>{const r=new Nv([e]);if(vw(n)){const e=Sw(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)})),new Hy(t)}class kw{constructor(e,t,n,r,i,o,s){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=i,this.data=o,this.documentState=s}static newInvalidDocument(e){return new kw(e,0,Sv.min(),Sv.min(),Sv.min(),Tw.empty(),0)}static newFoundDocument(e,t,n,r){return new kw(e,1,t,Sv.min(),n,r,0)}static newNoDocument(e,t){return new kw(e,2,t,Sv.min(),Sv.min(),Tw.empty(),0)}static newUnknownDocument(e,t){return new kw(e,3,t,Sv.min(),Sv.min(),Tw.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Sv.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Tw.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Tw.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Sv.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof kw&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new kw(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}class Cw{constructor(e,t){this.position=e,this.inclusive=t}}function xw(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const o=t[i],s=e.position[i];if(r=o.field.isKeyField()?Av.comparator(Av.fromName(s.referenceValue),n.key):cw(s,n.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return r}function Nw(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!sw(e.position[n],t.position[n]))return!1;return!0}class Aw{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";this.field=e,this.dir=t}}function Pw(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class Rw{}class Ow extends Rw{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new qw(e,t,n):"array-contains"===t?new Ww(e,n):"in"===t?new Qw(e,n):"not-in"===t?new Jw(e,n):"array-contains-any"===t?new $w(e,n):new Ow(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new Kw(e,n):new Hw(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(cw(t,this.value)):null!==t&&ow(this.value)===ow(t)&&this.matchesComparison(cw(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return ov()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Dw extends Rw{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new Dw(e,t)}matches(e){return Lw(this)?void 0===this.filters.find((t=>!t.matches(e))):void 0!==this.filters.find((t=>t.matches(e)))}getFlattenedFilters(){return null!==this.ae||(this.ae=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function Lw(e){return"and"===e.op}function Mw(e){return"or"===e.op}function Fw(e){return Uw(e)&&Lw(e)}function Uw(e){for(const t of e.filters)if(t instanceof Dw)return!1;return!0}function jw(e){if(e instanceof Ow)return e.field.canonicalString()+e.op.toString()+uw(e.value);if(Fw(e))return e.filters.map((e=>jw(e))).join(",");{const t=e.filters.map((e=>jw(e))).join(",");return"".concat(e.op,"(").concat(t,")")}}function Vw(e,t){return e instanceof Ow?function(e,t){return t instanceof Ow&&e.op===t.op&&e.field.isEqual(t.field)&&sw(e.value,t.value)}(e,t):e instanceof Dw?function(e,t){return t instanceof Dw&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce(((e,n,r)=>e&&Vw(n,t.filters[r])),!0)}(e,t):void ov()}function zw(e,t){const n=e.filters.concat(t);return Dw.create(n,e.op)}function Bw(e){return e instanceof Ow?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(uw(e.value))}(e):e instanceof Dw?function(e){return e.op.toString()+" {"+e.getFilters().map(Bw).join(" ,")+"}"}(e):"Filter"}class qw extends Ow{constructor(e,t,n){super(e,t,n),this.key=Av.fromName(n.referenceValue)}matches(e){const t=Av.comparator(e.key,this.key);return this.matchesComparison(t)}}class Kw extends Ow{constructor(e,t){super(e,"in",t),this.keys=Gw("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class Hw extends Ow{constructor(e,t){super(e,"not-in",t),this.keys=Gw("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function Gw(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((e=>Av.fromName(e.referenceValue)))}class Ww extends Ow{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return pw(t)&&aw(t.arrayValue,this.value)}}class Qw extends Ow{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&aw(this.value.arrayValue,t)}}class Jw extends Ow{constructor(e,t){super(e,"not-in",t)}matches(e){if(aw(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!aw(this.value.arrayValue,t)}}class $w extends Ow{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!pw(t)||!t.arrayValue.values)&&t.arrayValue.values.some((e=>aw(this.value.arrayValue,e)))}}class Yw{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=s,this.ue=null}}function Xw(e){return new Yw(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function Zw(e){const t=av(e);if(null===t.ue){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((e=>jw(e))).join(","),e+="|ob:",e+=t.orderBy.map((e=>function(e){return e.field.canonicalString()+e.dir}(e))).join(","),ry(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((e=>uw(e))).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((e=>uw(e))).join(",")),t.ue=e}return t.ue}function eb(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!Pw(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!Vw(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Nw(e.startAt,t.startAt)&&Nw(e.endAt,t.endAt)}function tb(e){return Av.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}function nb(e,t){return e.filters.filter((e=>e instanceof Ow&&e.field.isEqual(t)))}function rb(e,t,n){let r=iw,i=!0;for(const o of nb(e,t)){let e=iw,t=!0;switch(o.op){case"<":case"<=":e=bw(o.value);break;case"==":case"in":case">=":e=o.value;break;case">":e=o.value,t=!1;break;case"!=":case"not-in":e=iw}Ew({value:r,inclusive:i},{value:e,inclusive:t})<0&&(r=e,i=t)}if(null!==n)for(let o=0;o<e.orderBy.length;++o)if(e.orderBy[o].field.isEqual(t)){const e=n.position[o];Ew({value:r,inclusive:i},{value:e,inclusive:n.inclusive})<0&&(r=e,i=n.inclusive);break}return{value:r,inclusive:i}}function ib(e,t,n){let r=rw,i=!0;for(const o of nb(e,t)){let e=rw,t=!0;switch(o.op){case">=":case">":e=_w(o.value),t=!1;break;case"==":case"in":case"<=":e=o.value;break;case"<":e=o.value,t=!1;break;case"!=":case"not-in":e=rw}Iw({value:r,inclusive:i},{value:e,inclusive:t})>0&&(r=e,i=t)}if(null!==n)for(let o=0;o<e.orderBy.length;++o)if(e.orderBy[o].field.isEqual(t)){const e=n.position[o];Iw({value:r,inclusive:i},{value:e,inclusive:n.inclusive})>0&&(r=e,i=n.inclusive);break}return{value:r,inclusive:i}}class ob{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=s,this.endAt=a,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function sb(e,t,n,r,i,o,s,a){return new ob(e,t,n,r,i,o,s,a)}function ab(e){return new ob(e)}function cb(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function lb(e){return null!==e.collectionGroup}function ub(e){const t=av(e);if(null===t.ce){t.ce=[];const e=new Set;for(const i of t.explicitOrderBy)t.ce.push(i),e.add(i.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc",r=function(e){let t=new By(Nv.comparator);return e.filters.forEach((e=>{e.getFlattenedFilters().forEach((e=>{e.isInequality()&&(t=t.add(e.field))}))})),t}(t);r.forEach((r=>{e.has(r.canonicalString())||r.isKeyField()||t.ce.push(new Aw(r,n))})),e.has(Nv.keyField().canonicalString())||t.ce.push(new Aw(Nv.keyField(),n))}return t.ce}function hb(e){const t=av(e);return t.le||(t.le=db(t,ub(e))),t.le}function db(e,t){if("F"===e.limitType)return Xw(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map((e=>{const t="desc"===e.dir?"asc":"desc";return new Aw(e.field,t)}));const n=e.endAt?new Cw(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new Cw(e.startAt.position,e.startAt.inclusive):null;return Xw(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function fb(e,t){const n=e.filters.concat([t]);return new ob(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function pb(e,t,n){return new ob(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function mb(e,t){return eb(hb(e),hb(t))&&e.limitType===t.limitType}function gb(e){return"".concat(Zw(hb(e)),"|lt:").concat(e.limitType)}function vb(e){return"Query(target=".concat(function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((e=>Bw(e))).join(", "),"]")),ry(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((e=>function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e))).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((e=>uw(e))).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((e=>uw(e))).join(",")),"Target(".concat(t,")")}(hb(e)),"; limitType=").concat(e.limitType,")")}function yb(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):Av.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of ub(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const r=xw(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,ub(e),t))&&!(e.endAt&&!function(e,t,n){const r=xw(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,ub(e),t))}(e,t)}function wb(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function bb(e){return(t,n)=>{let r=!1;for(const i of ub(e)){const e=_b(i,t,n);if(0!==e)return e;r=r||i.field.isKeyField()}return 0}}function _b(e,t,n){const r=e.field.isKeyField()?Av.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?cw(r,i):ov()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return ov()}}class Eb{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[r,i]of n)if(this.equalsFn(r,e))return i}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){Fy(this.inner,((t,n)=>{for(const[r,i]of n)e(r,i)}))}isEmpty(){return Uy(this.inner)}size(){return this.innerSize}}const Ib=new jy(Av.comparator);function Tb(){return Ib}const Sb=new jy(Av.comparator);function kb(){let e=Sb;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.insert(i.key,i);return e}function Cb(e){let t=Sb;return e.forEach(((e,n)=>t=t.insert(e,n.overlayedDocument))),t}function xb(){return Ab()}function Nb(){return Ab()}function Ab(){return new Eb((e=>e.toString()),((e,t)=>e.isEqual(t)))}const Pb=new jy(Av.comparator),Rb=new By(Av.comparator);function Ob(){let e=Rb;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.add(i);return e}const Db=new By(_v);function Lb(){return Db}function Mb(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:iy(t)?"-0":t}}function Fb(e){return{integerValue:""+e}}function Ub(e,t){return oy(t)?Fb(t):Mb(e,t)}class jb{constructor(){this._=void 0}}function Vb(e,t,n){return e instanceof qb?function(e,t){const n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&Xy(t)&&(t=Zy(t)),t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof Kb?Hb(e,t):e instanceof Gb?Wb(e,t):function(e,t){const n=Bb(e,t),r=Jb(n)+Jb(e.Pe);return fw(n)&&fw(e.Pe)?Fb(r):Mb(e.serializer,r)}(e,t)}function zb(e,t,n){return e instanceof Kb?Hb(e,t):e instanceof Gb?Wb(e,t):n}function Bb(e,t){return e instanceof Qb?function(e){return fw(e)||function(e){return!!e&&"doubleValue"in e}(e)}(t)?t:{integerValue:0}:null}class qb extends jb{}class Kb extends jb{constructor(e){super(),this.elements=e}}function Hb(e,t){const n=$b(t);for(const r of e.elements)n.some((e=>sw(e,r)))||n.push(r);return{arrayValue:{values:n}}}class Gb extends jb{constructor(e){super(),this.elements=e}}function Wb(e,t){let n=$b(t);for(const r of e.elements)n=n.filter((e=>!sw(e,r)));return{arrayValue:{values:n}}}class Qb extends jb{constructor(e,t){super(),this.serializer=e,this.Pe=t}}function Jb(e){return $y(e.integerValue||e.doubleValue)}function $b(e){return pw(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class Yb{constructor(e,t){this.field=e,this.transform=t}}class Xb{constructor(e,t){this.version=e,this.transformResults=t}}class Zb{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Zb}static exists(e){return new Zb(void 0,e)}static updateTime(e){return new Zb(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function e_(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class t_{}function n_(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new d_(e.key,Zb.none()):new a_(e.key,e.data,Zb.none());{const n=e.data,r=Tw.empty();let i=new By(Nv.comparator);for(let e of t.fields)if(!i.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),i=i.add(e)}return new c_(e.key,r,new Hy(i.toArray()),Zb.none())}}function r_(e,t,n){e instanceof a_?function(e,t,n){const r=e.value.clone(),i=u_(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof c_?function(e,t,n){if(!e_(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=u_(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(l_(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function i_(e,t,n,r){return e instanceof a_?function(e,t,n,r){if(!e_(e.precondition,t))return n;const i=e.value.clone(),o=h_(e.fieldTransforms,r,t);return i.setAll(o),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof c_?function(e,t,n,r){if(!e_(e.precondition,t))return n;const i=h_(e.fieldTransforms,r,t),o=t.data;return o.setAll(l_(e)),o.setAll(i),t.convertToFoundDocument(t.version,o).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((e=>e.field)))}(e,t,n,r):function(e,t,n){return e_(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function o_(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),i=Bb(r.transform,e||null);null!=i&&(null===n&&(n=Tw.empty()),n.set(r.field,i))}return n||null}function s_(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&Ev(e,t,((e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof Kb&&t instanceof Kb||e instanceof Gb&&t instanceof Gb?Ev(e.elements,t.elements,sw):e instanceof Qb&&t instanceof Qb?sw(e.Pe,t.Pe):e instanceof qb&&t instanceof qb}(e.transform,t.transform)}(e,t)))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class a_ extends t_{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class c_ extends t_{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function l_(e){const t=new Map;return e.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}})),t}function u_(e,t,n){const r=new Map;sv(e.length===n.length);for(let i=0;i<n.length;i++){const o=e[i],s=o.transform,a=t.data.field(o.field);r.set(o.field,zb(s,a,n[i]))}return r}function h_(e,t,n){const r=new Map;for(const i of e){const e=i.transform,o=n.data.field(i.field);r.set(i.field,Vb(e,o,t))}return r}class d_ extends t_{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class f_ extends t_{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class p_{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const t=this.mutations[r];t.key.isEqual(e.key)&&r_(t,e,n[r])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=i_(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=i_(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=Nb();return this.mutations.forEach((r=>{const i=e.get(r.key),o=i.overlayedDocument;let s=this.applyToLocalView(o,i.mutatedFields);s=t.has(r.key)?null:s;const a=n_(o,s);null!==a&&n.set(r.key,a),o.isValidDocument()||o.convertToNoDocument(Sv.min())})),n}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),Ob())}isEqual(e){return this.batchId===e.batchId&&Ev(this.mutations,e.mutations,((e,t)=>s_(e,t)))&&Ev(this.baseMutations,e.baseMutations,((e,t)=>s_(e,t)))}}class m_{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){sv(e.mutations.length===n.length);let r=Pb;const i=e.mutations;for(let o=0;o<i.length;o++)r=r.insert(i[o].key,n[o].version);return new m_(e,t,n,r)}}class g_{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}class v_{constructor(e,t){this.count=e,this.unchangedNames=t}}var y_,w_;function b_(e){switch(e){default:return ov();case cv.CANCELLED:case cv.UNKNOWN:case cv.DEADLINE_EXCEEDED:case cv.RESOURCE_EXHAUSTED:case cv.INTERNAL:case cv.UNAVAILABLE:case cv.UNAUTHENTICATED:return!1;case cv.INVALID_ARGUMENT:case cv.NOT_FOUND:case cv.ALREADY_EXISTS:case cv.PERMISSION_DENIED:case cv.FAILED_PRECONDITION:case cv.ABORTED:case cv.OUT_OF_RANGE:case cv.UNIMPLEMENTED:case cv.DATA_LOSS:return!0}}function __(e){if(void 0===e)return nv("GRPC error has no .code"),cv.UNKNOWN;switch(e){case y_.OK:return cv.OK;case y_.CANCELLED:return cv.CANCELLED;case y_.UNKNOWN:return cv.UNKNOWN;case y_.DEADLINE_EXCEEDED:return cv.DEADLINE_EXCEEDED;case y_.RESOURCE_EXHAUSTED:return cv.RESOURCE_EXHAUSTED;case y_.INTERNAL:return cv.INTERNAL;case y_.UNAVAILABLE:return cv.UNAVAILABLE;case y_.UNAUTHENTICATED:return cv.UNAUTHENTICATED;case y_.INVALID_ARGUMENT:return cv.INVALID_ARGUMENT;case y_.NOT_FOUND:return cv.NOT_FOUND;case y_.ALREADY_EXISTS:return cv.ALREADY_EXISTS;case y_.PERMISSION_DENIED:return cv.PERMISSION_DENIED;case y_.FAILED_PRECONDITION:return cv.FAILED_PRECONDITION;case y_.ABORTED:return cv.ABORTED;case y_.OUT_OF_RANGE:return cv.OUT_OF_RANGE;case y_.UNIMPLEMENTED:return cv.UNIMPLEMENTED;case y_.DATA_LOSS:return cv.DATA_LOSS;default:return ov()}}(w_=y_||(y_={}))[w_.OK=0]="OK",w_[w_.CANCELLED=1]="CANCELLED",w_[w_.UNKNOWN=2]="UNKNOWN",w_[w_.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",w_[w_.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",w_[w_.NOT_FOUND=5]="NOT_FOUND",w_[w_.ALREADY_EXISTS=6]="ALREADY_EXISTS",w_[w_.PERMISSION_DENIED=7]="PERMISSION_DENIED",w_[w_.UNAUTHENTICATED=16]="UNAUTHENTICATED",w_[w_.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",w_[w_.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",w_[w_.ABORTED=10]="ABORTED",w_[w_.OUT_OF_RANGE=11]="OUT_OF_RANGE",w_[w_.UNIMPLEMENTED=12]="UNIMPLEMENTED",w_[w_.INTERNAL=13]="INTERNAL",w_[w_.UNAVAILABLE=14]="UNAVAILABLE",w_[w_.DATA_LOSS=15]="DATA_LOSS";let E_=null;function I_(){return new TextEncoder}const T_=new Jg([4294967295,4294967295],0);function S_(e){const t=I_().encode(e),n=new Qg;return n.update(t),new Uint8Array(n.digest())}function k_(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),o=t.getUint32(12,!0);return[new Jg([n,r],0),new Jg([i,o],0)]}class C_{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new x_("Invalid padding: ".concat(t));if(n<0)throw new x_("Invalid hash count: ".concat(n));if(e.length>0&&0===this.hashCount)throw new x_("Invalid hash count: ".concat(n));if(0===e.length&&0!==t)throw new x_("Invalid padding when bitmap length is 0: ".concat(t));this.Ie=8*e.length-t,this.Te=Jg.fromNumber(this.Ie)}Ee(e,t,n){let r=e.add(t.multiply(Jg.fromNumber(n)));return 1===r.compare(T_)&&(r=new Jg([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Te).toNumber()}de(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Ie)return!1;const t=S_(e),[n,r]=k_(t);for(let i=0;i<this.hashCount;i++){const e=this.Ee(n,r,i);if(!this.de(e))return!1}return!0}static create(e,t,n){const r=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new C_(i,r,t);return n.forEach((e=>o.insert(e))),o}insert(e){if(0===this.Ie)return;const t=S_(e),[n,r]=k_(t);for(let i=0;i<this.hashCount;i++){const e=this.Ee(n,r,i);this.Ae(e)}}Ae(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class x_ extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class N_{constructor(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const r=new Map;return r.set(e,A_.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new N_(Sv.min(),r,new jy(_v),Tb(),Ob())}}class A_{constructor(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new A_(n,t,Ob(),Ob(),Ob())}}class P_{constructor(e,t,n,r){this.Re=e,this.removedTargetIds=t,this.key=n,this.Ve=r}}class R_{constructor(e,t){this.targetId=e,this.me=t}}class O_{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Wy.EMPTY_BYTE_STRING,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class D_{constructor(){this.fe=0,this.ge=F_(),this.pe=Wy.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return 0!==this.fe}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}Ce(){let e=Ob(),t=Ob(),n=Ob();return this.ge.forEach(((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:ov()}})),new A_(this.pe,this.ye,e,t,n)}ve(){this.we=!1,this.ge=F_()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,sv(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class L_{constructor(e){this.Le=e,this.Be=new Map,this.ke=Tb(),this.qe=M_(),this.Qe=new jy(_v)}Ke(e){for(const t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(t,e.Ve):this.Ue(t,e.key,e.Ve);for(const t of e.removedTargetIds)this.Ue(t,e.key,e.Ve)}We(e){this.forEachTarget(e,(t=>{const n=this.Ge(t);switch(e.state){case 0:this.ze(t)&&n.De(e.resumeToken);break;case 1:n.Oe(),n.Se||n.ve(),n.De(e.resumeToken);break;case 2:n.Oe(),n.Se||this.removeTarget(t);break;case 3:this.ze(t)&&(n.Ne(),n.De(e.resumeToken));break;case 4:this.ze(t)&&(this.je(t),n.De(e.resumeToken));break;default:ov()}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach(((e,n)=>{this.ze(n)&&t(n)}))}He(e){const t=e.targetId,n=e.me.count,r=this.Je(t);if(r){const i=r.target;if(tb(i))if(0===n){const e=new Av(i.path);this.Ue(t,e,kw.newNoDocument(e,Sv.min()))}else sv(1===n);else{const r=this.Ye(t);if(r!==n){const n=this.Ze(e),i=n?this.Xe(n,e,r):1;if(0!==i){this.je(t);const e=2===i?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(t,e)}null==E_||E_.et(function(e,t,n,r,i){var o,s,a,c,l,u;const h={localCacheCount:e,existenceFilterCount:t.count,databaseId:n.database,projectId:n.projectId},d=t.unchangedNames;return d&&(h.bloomFilter={applied:0===i,hashCount:null!==(o=null==d?void 0:d.hashCount)&&void 0!==o?o:0,bitmapLength:null!==(c=null===(a=null===(s=null==d?void 0:d.bits)||void 0===s?void 0:s.bitmap)||void 0===a?void 0:a.length)&&void 0!==c?c:0,padding:null!==(u=null===(l=null==d?void 0:d.bits)||void 0===l?void 0:l.padding)&&void 0!==u?u:0,mightContain:e=>{var t;return null!==(t=null==r?void 0:r.mightContain(e))&&void 0!==t&&t}}),h}(r,e.me,this.Le.tt(),n,i))}}}}Ze(e){const t=e.me.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:r=0},hashCount:i=0}=t;let o,s;try{o=Yy(n).toUint8Array()}catch(e){if(e instanceof Gy)return rv("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw e}try{s=new C_(o,r,i)}catch(e){return rv(e instanceof x_?"BloomFilter error: ":"Applying bloom filter failed: ",e),null}return 0===s.Ie?null:s}Xe(e,t,n){return t.me.count===n-this.nt(e,t.targetId)?0:2}nt(e,t){const n=this.Le.getRemoteKeysForTarget(t);let r=0;return n.forEach((n=>{const i=this.Le.tt(),o="projects/".concat(i.projectId,"/databases/").concat(i.database,"/documents/").concat(n.path.canonicalString());e.mightContain(o)||(this.Ue(t,n,null),r++)})),r}rt(e){const t=new Map;this.Be.forEach(((n,r)=>{const i=this.Je(r);if(i){if(n.current&&tb(i.target)){const t=new Av(i.target.path);null!==this.ke.get(t)||this.it(r,t)||this.Ue(r,t,kw.newNoDocument(t,e))}n.be&&(t.set(r,n.Ce()),n.ve())}}));let n=Ob();this.qe.forEach(((e,t)=>{let r=!0;t.forEachWhile((e=>{const t=this.Je(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(r=!1,!1)})),r&&(n=n.add(e))})),this.ke.forEach(((t,n)=>n.setReadTime(e)));const r=new N_(e,t,this.Qe,this.ke,n);return this.ke=Tb(),this.qe=M_(),this.Qe=new jy(_v),r}$e(e,t){if(!this.ze(e))return;const n=this.it(e,t.key)?2:0;this.Ge(e).Fe(t.key,n),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e))}Ue(e,t,n){if(!this.ze(e))return;const r=this.Ge(e);this.it(e,t)?r.Fe(t,1):r.Me(t),this.qe=this.qe.insert(t,this.st(t).delete(e)),n&&(this.ke=this.ke.insert(t,n))}removeTarget(e){this.Be.delete(e)}Ye(e){const t=this.Ge(e).Ce();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let t=this.Be.get(e);return t||(t=new D_,this.Be.set(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new By(_v),this.qe=this.qe.insert(e,t)),t}ze(e){const t=null!==this.Je(e);return t||tv("WatchChangeAggregator","Detected inactive target",e),t}Je(e){const t=this.Be.get(e);return t&&t.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new D_),this.Le.getRemoteKeysForTarget(e).forEach((t=>{this.Ue(e,t,null)}))}it(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function M_(){return new jy(Av.comparator)}function F_(){return new jy(Av.comparator)}const U_={asc:"ASCENDING",desc:"DESCENDING"},j_={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},V_={and:"AND",or:"OR"};class z_{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function B_(e,t){return e.useProto3Json||ry(t)?t:{value:t}}function q_(e,t){return e.useProto3Json?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function K_(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function H_(e,t){return q_(e,t.toTimestamp())}function G_(e){return sv(!!e),Sv.fromTimestamp(function(e){const t=Jy(e);return new Tv(t.seconds,t.nanos)}(e))}function W_(e,t){return Q_(e,t).canonicalString()}function Q_(e,t){const n=function(e){return new Cv(["projects",e.projectId,"databases",e.database])}(e).child("documents");return void 0===t?n:n.child(t)}function J_(e){const t=Cv.fromString(e);return sv(vE(t)),t}function $_(e,t){return W_(e.databaseId,t.path)}function Y_(e,t){const n=J_(t);if(n.get(1)!==e.databaseId.projectId)throw new lv(cv.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new lv(cv.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Av(tE(n))}function X_(e,t){return W_(e.databaseId,t)}function Z_(e){const t=J_(e);return 4===t.length?Cv.emptyPath():tE(t)}function eE(e){return new Cv(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function tE(e){return sv(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function nE(e,t,n){return{name:$_(e,t),fields:n.value.mapValue.fields}}function rE(e,t,n){const r=Y_(e,t.name),i=G_(t.updateTime),o=t.createTime?G_(t.createTime):Sv.min(),s=new Tw({mapValue:{fields:t.fields}}),a=kw.newFoundDocument(r,i,o,s);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function iE(e,t){let n;if(t instanceof a_)n={update:nE(e,t.key,t.value)};else if(t instanceof d_)n={delete:$_(e,t.key)};else if(t instanceof c_)n={update:nE(e,t.key,t.data),updateMask:gE(t.fieldMask)};else{if(!(t instanceof f_))return ov();n={verify:$_(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((e=>function(e,t){const n=t.transform;if(n instanceof qb)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Kb)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Gb)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Qb)return{fieldPath:t.field.canonicalString(),increment:n.Pe};throw ov()}(0,e)))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:H_(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:ov()}(e,t.precondition)),n}function oE(e,t){const n=t.currentDocument?function(e){return void 0!==e.updateTime?Zb.updateTime(G_(e.updateTime)):void 0!==e.exists?Zb.exists(e.exists):Zb.none()}(t.currentDocument):Zb.none(),r=t.updateTransforms?t.updateTransforms.map((t=>function(e,t){let n=null;if("setToServerValue"in t)sv("REQUEST_TIME"===t.setToServerValue),n=new qb;else if("appendMissingElements"in t){const e=t.appendMissingElements.values||[];n=new Kb(e)}else if("removeAllFromArray"in t){const e=t.removeAllFromArray.values||[];n=new Gb(e)}else"increment"in t?n=new Qb(e,t.increment):ov();const r=Nv.fromServerFormat(t.fieldPath);return new Yb(r,n)}(e,t))):[];if(t.update){t.update.name;const i=Y_(e,t.update.name),o=new Tw({mapValue:{fields:t.update.fields}});if(t.updateMask){const e=function(e){const t=e.fieldPaths||[];return new Hy(t.map((e=>Nv.fromServerFormat(e))))}(t.updateMask);return new c_(i,o,e,n,r)}return new a_(i,o,n,r)}if(t.delete){const r=Y_(e,t.delete);return new d_(r,n)}if(t.verify){const r=Y_(e,t.verify);return new f_(r,n)}return ov()}function sE(e,t){return{documents:[X_(e,t.path)]}}function aE(e,t){const n={structuredQuery:{}},r=t.path;let i;null!==t.collectionGroup?(i=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=X_(e,i);const o=function(e){if(0!==e.length)return mE(Dw.create(e,"and"))}(t.filters);o&&(n.structuredQuery.where=o);const s=function(e){if(0!==e.length)return e.map((e=>function(e){return{field:fE(e.field),direction:uE(e.dir)}}(e)))}(t.orderBy);s&&(n.structuredQuery.orderBy=s);const a=B_(e,t.limit);return null!==a&&(n.structuredQuery.limit=a),t.startAt&&(n.structuredQuery.startAt=function(e){return{before:e.inclusive,values:e.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),{_t:n,parent:i}}function cE(e){let t=Z_(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){sv(1===r);const e=n.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let o=[];n.where&&(o=function(e){const t=lE(e);return t instanceof Dw&&Fw(t)?t.getFilters():[t]}(n.where));let s=[];n.orderBy&&(s=function(e){return e.map((e=>function(e){return new Aw(pE(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)))}(n.orderBy));let a=null;n.limit&&(a=function(e){let t;return t="object"==typeof e?e.value:e,ry(t)?null:t}(n.limit));let c=null;n.startAt&&(c=function(e){const t=!!e.before,n=e.values||[];return new Cw(n,t)}(n.startAt));let l=null;return n.endAt&&(l=function(e){const t=!e.before,n=e.values||[];return new Cw(n,t)}(n.endAt)),sb(t,i,s,o,a,"F",c,l)}function lE(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=pE(e.unaryFilter.field);return Ow.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=pE(e.unaryFilter.field);return Ow.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=pE(e.unaryFilter.field);return Ow.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=pE(e.unaryFilter.field);return Ow.create(i,"!=",{nullValue:"NULL_VALUE"});default:return ov()}}(e):void 0!==e.fieldFilter?function(e){return Ow.create(pE(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ov()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return Dw.create(e.compositeFilter.filters.map((e=>lE(e))),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return ov()}}(e.compositeFilter.op))}(e):ov()}function uE(e){return U_[e]}function hE(e){return j_[e]}function dE(e){return V_[e]}function fE(e){return{fieldPath:e.canonicalString()}}function pE(e){return Nv.fromServerFormat(e.fieldPath)}function mE(e){return e instanceof Ow?function(e){if("=="===e.op){if(gw(e.value))return{unaryFilter:{field:fE(e.field),op:"IS_NAN"}};if(mw(e.value))return{unaryFilter:{field:fE(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(gw(e.value))return{unaryFilter:{field:fE(e.field),op:"IS_NOT_NAN"}};if(mw(e.value))return{unaryFilter:{field:fE(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:fE(e.field),op:hE(e.op),value:e.value}}}(e):e instanceof Dw?function(e){const t=e.getFilters().map((e=>mE(e)));return 1===t.length?t[0]:{compositeFilter:{op:dE(e.op),filters:t}}}(e):ov()}function gE(e){const t=[];return e.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function vE(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}class yE{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Sv.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Sv.min(),s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Wy.EMPTY_BYTE_STRING,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s,this.expectedCount=a}withSequenceNumber(e){return new yE(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new yE(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new yE(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new yE(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class wE{constructor(e){this.ut=e}}function bE(e,t){const n=t.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:_E(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())r.document=function(e,t){return{name:$_(e,t.key),fields:t.data.value.mapValue.fields,updateTime:q_(e,t.version.toTimestamp()),createTime:q_(e,t.createTime.toTimestamp())}}(e.ut,t);else if(t.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:EE(t.version)};else{if(!t.isUnknownDocument())return ov();r.unknownDocument={path:n.path.toArray(),version:EE(t.version)}}return r}function _E(e){const t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function EE(e){const t=e.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function IE(e){const t=new Tv(e.seconds,e.nanoseconds);return Sv.fromTimestamp(t)}function TE(e,t){const n=(t.baseMutations||[]).map((t=>oE(e.ut,t)));for(let o=0;o<t.mutations.length-1;++o){const e=t.mutations[o];if(o+1<t.mutations.length&&void 0!==t.mutations[o+1].transform){const n=t.mutations[o+1];e.updateTransforms=n.transform.fieldTransforms,t.mutations.splice(o+1,1),++o}}const r=t.mutations.map((t=>oE(e.ut,t))),i=Tv.fromMillis(t.localWriteTimeMs);return new p_(t.batchId,i,n,r)}function SE(e){const t=IE(e.readTime),n=void 0!==e.lastLimboFreeSnapshotVersion?IE(e.lastLimboFreeSnapshotVersion):Sv.min();let r;return r=function(e){return void 0!==e.documents}(e.query)?function(e){return sv(1===e.documents.length),hb(ab(Z_(e.documents[0])))}(e.query):function(e){return hb(cE(e))}(e.query),new yE(r,e.targetId,"TargetPurposeListen",e.lastListenSequenceNumber,t,n,Wy.fromBase64String(e.resumeToken))}function kE(e,t){const n=EE(t.snapshotVersion),r=EE(t.lastLimboFreeSnapshotVersion);let i;i=tb(t.target)?sE(e.ut,t.target):aE(e.ut,t.target)._t;const o=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:Zw(t.target),readTime:n,resumeToken:o,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function CE(e){const t=cE({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?pb(t,t.limit,"L"):t}function xE(e,t){return new g_(t.largestBatchId,oE(e.ut,t.overlayMutation))}function NE(e,t){const n=t.path.lastSegment();return[e,sy(t.path.popLast()),n]}function AE(e,t,n,r){return{indexId:e,uid:t,sequenceNumber:n,readTime:EE(r.readTime),documentKey:sy(r.documentKey.path),largestBatchId:r.largestBatchId}}class PE{getBundleMetadata(e,t){return RE(e).get(t).next((e=>{if(e)return function(e){return{id:e.bundleId,createTime:IE(e.createTime),version:e.version}}(e)}))}saveBundleMetadata(e,t){return RE(e).put(function(e){return{bundleId:e.id,createTime:EE(G_(e.createTime)),version:e.version}}(t))}getNamedQuery(e,t){return OE(e).get(t).next((e=>{if(e)return function(e){return{name:e.name,query:CE(e.bundledQuery),readTime:IE(e.readTime)}}(e)}))}saveNamedQuery(e,t){return OE(e).put(function(e){return{name:e.name,readTime:EE(G_(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}function RE(e){return Ly(e,"bundles")}function OE(e){return Ly(e,"namedQueries")}class DE{constructor(e,t){this.serializer=e,this.userId=t}static ct(e,t){const n=t.uid||"";return new DE(e,n)}getOverlay(e,t){return LE(e).get(NE(this.userId,t)).next((e=>e?xE(this.serializer,e):null))}getOverlays(e,t){const n=xb();return qv.forEach(t,(t=>this.getOverlay(e,t).next((e=>{null!==e&&n.set(t,e)})))).next((()=>n))}saveOverlays(e,t,n){const r=[];return n.forEach(((n,i)=>{const o=new g_(t,i);r.push(this.lt(e,o))})),qv.waitFor(r)}removeOverlaysForBatchId(e,t,n){const r=new Set;t.forEach((e=>r.add(sy(e.getCollectionPath()))));const i=[];return r.forEach((t=>{const r=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,n+1],!1,!0);i.push(LE(e).j("collectionPathOverlayIndex",r))})),qv.waitFor(i)}getOverlaysForCollection(e,t,n){const r=xb(),i=sy(t),o=IDBKeyRange.bound([this.userId,i,n],[this.userId,i,Number.POSITIVE_INFINITY],!0);return LE(e).U("collectionPathOverlayIndex",o).next((e=>{for(const t of e){const e=xE(this.serializer,t);r.set(e.getKey(),e)}return r}))}getOverlaysForCollectionGroup(e,t,n,r){const i=xb();let o;const s=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,Number.POSITIVE_INFINITY],!0);return LE(e).J({index:"collectionGroupOverlayIndex",range:s},((e,t,n)=>{const s=xE(this.serializer,t);i.size()<r||s.largestBatchId===o?(i.set(s.getKey(),s),o=s.largestBatchId):n.done()})).next((()=>i))}lt(e,t){return LE(e).put(function(e,t,n){const[r,i,o]=NE(t,n.mutation.key);return{userId:t,collectionPath:i,documentId:o,collectionGroup:n.mutation.key.getCollectionGroup(),largestBatchId:n.largestBatchId,overlayMutation:iE(e.ut,n.mutation)}}(this.serializer,this.userId,t))}}function LE(e){return Ly(e,"documentOverlays")}class ME{constructor(){}ht(e,t){this.Pt(e,t),t.It()}Pt(e,t){if("nullValue"in e)this.Tt(t,5);else if("booleanValue"in e)this.Tt(t,10),t.Et(e.booleanValue?1:0);else if("integerValue"in e)this.Tt(t,15),t.Et($y(e.integerValue));else if("doubleValue"in e){const n=$y(e.doubleValue);isNaN(n)?this.Tt(t,13):(this.Tt(t,15),iy(n)?t.Et(0):t.Et(n))}else if("timestampValue"in e){let n=e.timestampValue;this.Tt(t,20),"string"==typeof n&&(n=Jy(n)),t.dt("".concat(n.seconds||"")),t.Et(n.nanos||0)}else if("stringValue"in e)this.At(e.stringValue,t),this.Rt(t);else if("bytesValue"in e)this.Tt(t,30),t.Vt(Yy(e.bytesValue)),this.Rt(t);else if("referenceValue"in e)this.ft(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.Tt(t,45),t.Et(n.latitude||0),t.Et(n.longitude||0)}else"mapValue"in e?ww(e)?this.Tt(t,Number.MAX_SAFE_INTEGER):(this.gt(e.mapValue,t),this.Rt(t)):"arrayValue"in e?(this.yt(e.arrayValue,t),this.Rt(t)):ov()}At(e,t){this.Tt(t,25),this.wt(e,t)}wt(e,t){t.dt(e)}gt(e,t){const n=e.fields||{};this.Tt(t,55);for(const r of Object.keys(n))this.At(r,t),this.Pt(n[r],t)}yt(e,t){const n=e.values||[];this.Tt(t,50);for(const r of n)this.Pt(r,t)}ft(e,t){this.Tt(t,37),Av.fromName(e).path.forEach((e=>{this.Tt(t,60),this.wt(e,t)}))}Tt(e,t){e.Et(t)}Rt(e){e.Et(2)}}function FE(e){if(0===e)return 8;let t=0;return e>>4==0&&(t+=4,e<<=4),e>>6==0&&(t+=2,e<<=2),e>>7==0&&(t+=1),t}function UE(e){const t=64-function(e){let t=0;for(let n=0;n<8;++n){const r=FE(255&e[n]);if(t+=r,8!==r)break}return t}(e);return Math.ceil(t/8)}ME.St=new ME;class jE{constructor(){this.buffer=new Uint8Array(1024),this.position=0}bt(e){const t=e[Symbol.iterator]();let n=t.next();for(;!n.done;)this.Dt(n.value),n=t.next();this.Ct()}vt(e){const t=e[Symbol.iterator]();let n=t.next();for(;!n.done;)this.Ft(n.value),n=t.next();this.Mt()}xt(e){for(const t of e){const e=t.charCodeAt(0);if(e<128)this.Dt(e);else if(e<2048)this.Dt(960|e>>>6),this.Dt(128|63&e);else if(t<"\ud800"||"\udbff"<t)this.Dt(480|e>>>12),this.Dt(128|63&e>>>6),this.Dt(128|63&e);else{const e=t.codePointAt(0);this.Dt(240|e>>>18),this.Dt(128|63&e>>>12),this.Dt(128|63&e>>>6),this.Dt(128|63&e)}}this.Ct()}Ot(e){for(const t of e){const e=t.charCodeAt(0);if(e<128)this.Ft(e);else if(e<2048)this.Ft(960|e>>>6),this.Ft(128|63&e);else if(t<"\ud800"||"\udbff"<t)this.Ft(480|e>>>12),this.Ft(128|63&e>>>6),this.Ft(128|63&e);else{const e=t.codePointAt(0);this.Ft(240|e>>>18),this.Ft(128|63&e>>>12),this.Ft(128|63&e>>>6),this.Ft(128|63&e)}}this.Mt()}Nt(e){const t=this.Lt(e),n=UE(t);this.Bt(1+n),this.buffer[this.position++]=255&n;for(let r=t.length-n;r<t.length;++r)this.buffer[this.position++]=255&t[r]}kt(e){const t=this.Lt(e),n=UE(t);this.Bt(1+n),this.buffer[this.position++]=~(255&n);for(let r=t.length-n;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}qt(){this.Qt(255),this.Qt(255)}Kt(){this.$t(255),this.$t(255)}reset(){this.position=0}seed(e){this.Bt(e.length),this.buffer.set(e,this.position),this.position+=e.length}Ut(){return this.buffer.slice(0,this.position)}Lt(e){const t=function(e){const t=new DataView(new ArrayBuffer(8));return t.setFloat64(0,e,!1),new Uint8Array(t.buffer)}(e),n=0!=(128&t[0]);t[0]^=n?255:128;for(let r=1;r<t.length;++r)t[r]^=n?255:0;return t}Dt(e){const t=255&e;0===t?(this.Qt(0),this.Qt(255)):255===t?(this.Qt(255),this.Qt(0)):this.Qt(t)}Ft(e){const t=255&e;0===t?(this.$t(0),this.$t(255)):255===t?(this.$t(255),this.$t(0)):this.$t(e)}Ct(){this.Qt(0),this.Qt(1)}Mt(){this.$t(0),this.$t(1)}Qt(e){this.Bt(1),this.buffer[this.position++]=e}$t(e){this.Bt(1),this.buffer[this.position++]=~e}Bt(e){const t=e+this.position;if(t<=this.buffer.length)return;let n=2*this.buffer.length;n<t&&(n=t);const r=new Uint8Array(n);r.set(this.buffer),this.buffer=r}}class VE{constructor(e){this.Wt=e}Vt(e){this.Wt.bt(e)}dt(e){this.Wt.xt(e)}Et(e){this.Wt.Nt(e)}It(){this.Wt.qt()}}class zE{constructor(e){this.Wt=e}Vt(e){this.Wt.vt(e)}dt(e){this.Wt.Ot(e)}Et(e){this.Wt.kt(e)}It(){this.Wt.Kt()}}class BE{constructor(){this.Wt=new jE,this.Gt=new VE(this.Wt),this.zt=new zE(this.Wt)}seed(e){this.Wt.seed(e)}jt(e){return 0===e?this.Gt:this.zt}Ut(){return this.Wt.Ut()}reset(){this.Wt.reset()}}class qE{constructor(e,t,n,r){this.indexId=e,this.documentKey=t,this.arrayValue=n,this.directionalValue=r}Ht(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,n=new Uint8Array(t);return n.set(this.directionalValue,0),t!==e?n.set([0],this.directionalValue.length):++n[n.length-1],new qE(this.indexId,this.documentKey,this.arrayValue,n)}}function KE(e,t){let n=e.indexId-t.indexId;return 0!==n?n:(n=HE(e.arrayValue,t.arrayValue),0!==n?n:(n=HE(e.directionalValue,t.directionalValue),0!==n?n:Av.comparator(e.documentKey,t.documentKey)))}function HE(e,t){for(let n=0;n<e.length&&n<t.length;++n){const r=e[n]-t[n];if(0!==r)return r}return e.length-t.length}class GE{constructor(e){this.Jt=new By(((e,t)=>Nv.comparator(e.field,t.field))),this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Yt=e.orderBy,this.Zt=[];for(const t of e.filters){const e=t;e.isInequality()?this.Jt=this.Jt.add(e):this.Zt.push(e)}}get Xt(){return this.Jt.size>1}en(e){if(sv(e.collectionGroup===this.collectionId),this.Xt)return!1;const t=Rv(e);if(void 0!==t&&!this.tn(t))return!1;const n=Ov(e);let r=new Set,i=0,o=0;for(;i<n.length&&this.tn(n[i]);++i)r=r.add(n[i].fieldPath.canonicalString());if(i===n.length)return!0;if(this.Jt.size>0){const e=this.Jt.getIterator().getNext();if(!r.has(e.field.canonicalString())){const t=n[i];if(!this.nn(e,t)||!this.rn(this.Yt[o++],t))return!1}++i}for(;i<n.length;++i){const e=n[i];if(o>=this.Yt.length||!this.rn(this.Yt[o++],e))return!1}return!0}sn(){if(this.Xt)return null;let e=new By(Nv.comparator);const t=[];for(const n of this.Zt)if(!n.field.isKeyField())if("array-contains"===n.op||"array-contains-any"===n.op)t.push(new Dv(n.field,2));else{if(e.has(n.field))continue;e=e.add(n.field),t.push(new Dv(n.field,0))}for(const n of this.Yt)n.field.isKeyField()||e.has(n.field)||(e=e.add(n.field),t.push(new Dv(n.field,"asc"===n.dir?0:1)));return new Pv(Pv.UNKNOWN_ID,this.collectionId,t,Lv.empty())}tn(e){for(const t of this.Zt)if(this.nn(t,e))return!0;return!1}nn(e,t){if(void 0===e||!e.field.isEqual(t.fieldPath))return!1;const n="array-contains"===e.op||"array-contains-any"===e.op;return 2===t.kind===n}rn(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function WE(e){var t,n;if(sv(e instanceof Ow||e instanceof Dw),e instanceof Ow){if(e instanceof Qw){const r=(null===(n=null===(t=e.value.arrayValue)||void 0===t?void 0:t.values)||void 0===n?void 0:n.map((t=>Ow.create(e.field,"==",t))))||[];return Dw.create(r,"or")}return e}const r=e.filters.map((e=>WE(e)));return Dw.create(r,e.op)}function QE(e){if(0===e.getFilters().length)return[];const t=XE(WE(e));return sv(YE(t)),JE(t)||$E(t)?[t]:t.getFilters()}function JE(e){return e instanceof Ow}function $E(e){return e instanceof Dw&&Fw(e)}function YE(e){return JE(e)||$E(e)||function(e){if(e instanceof Dw&&Mw(e)){for(const t of e.getFilters())if(!JE(t)&&!$E(t))return!1;return!0}return!1}(e)}function XE(e){if(sv(e instanceof Ow||e instanceof Dw),e instanceof Ow)return e;if(1===e.filters.length)return XE(e.filters[0]);const t=e.filters.map((e=>XE(e)));let n=Dw.create(t,e.op);return n=tI(n),YE(n)?n:(sv(n instanceof Dw),sv(Lw(n)),sv(n.filters.length>1),n.filters.reduce(((e,t)=>ZE(e,t))))}function ZE(e,t){let n;return sv(e instanceof Ow||e instanceof Dw),sv(t instanceof Ow||t instanceof Dw),n=e instanceof Ow?t instanceof Ow?function(e,t){return Dw.create([e,t],"and")}(e,t):eI(e,t):t instanceof Ow?eI(t,e):function(e,t){if(sv(e.filters.length>0&&t.filters.length>0),Lw(e)&&Lw(t))return zw(e,t.getFilters());const n=Mw(e)?e:t,r=Mw(e)?t:e,i=n.filters.map((e=>ZE(e,r)));return Dw.create(i,"or")}(e,t),tI(n)}function eI(e,t){if(Lw(t))return zw(t,e.getFilters());{const n=t.filters.map((t=>ZE(e,t)));return Dw.create(n,"or")}}function tI(e){if(sv(e instanceof Ow||e instanceof Dw),e instanceof Ow)return e;const t=e.getFilters();if(1===t.length)return tI(t[0]);if(Uw(e))return e;const n=t.map((e=>tI(e))),r=[];return n.forEach((t=>{t instanceof Ow?r.push(t):t instanceof Dw&&(t.op===e.op?r.push(...t.filters):r.push(t))})),1===r.length?r[0]:Dw.create(r,e.op)}class nI{constructor(){this.on=new rI}addToCollectionParentIndex(e,t){return this.on.add(t),qv.resolve()}getCollectionParents(e,t){return qv.resolve(this.on.getEntries(t))}addFieldIndex(e,t){return qv.resolve()}deleteFieldIndex(e,t){return qv.resolve()}deleteAllFieldIndexes(e){return qv.resolve()}createTargetIndexes(e,t){return qv.resolve()}getDocumentsMatchingTarget(e,t){return qv.resolve(null)}getIndexType(e,t){return qv.resolve(0)}getFieldIndexes(e,t){return qv.resolve([])}getNextCollectionGroupToUpdate(e){return qv.resolve(null)}getMinOffset(e,t){return qv.resolve(Uv.min())}getMinOffsetFromCollectionGroup(e,t){return qv.resolve(Uv.min())}updateCollectionGroup(e,t,n){return qv.resolve()}updateIndexEntries(e,t){return qv.resolve()}}class rI{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new By(Cv.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new By(Cv.comparator)).toArray()}}const iI=new Uint8Array(0);class oI{constructor(e,t){this.databaseId=t,this._n=new rI,this.an=new Eb((e=>Zw(e)),((e,t)=>eb(e,t))),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this._n.has(t)){const n=t.lastSegment(),r=t.popLast();e.addOnCommittedListener((()=>{this._n.add(t)}));const i={collectionId:n,parent:sy(r)};return sI(e).put(i)}return qv.resolve()}getCollectionParents(e,t){const n=[],r=IDBKeyRange.bound([t,""],[Iv(t),""],!1,!0);return sI(e).U(r).next((e=>{for(const r of e){if(r.collectionId!==t)break;n.push(ly(r.parent))}return n}))}addFieldIndex(e,t){const n=cI(e),r=function(e){return{indexId:e.indexId,collectionGroup:e.collectionGroup,fields:e.fields.map((e=>[e.fieldPath.canonicalString(),e.kind]))}}(t);delete r.indexId;const i=n.add(r);if(t.indexState){const n=lI(e);return i.next((e=>{n.put(AE(e,this.uid,t.indexState.sequenceNumber,t.indexState.offset))}))}return i.next()}deleteFieldIndex(e,t){const n=cI(e),r=lI(e),i=aI(e);return n.delete(t.indexId).next((()=>r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))).next((()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))))}deleteAllFieldIndexes(e){const t=cI(e),n=aI(e),r=lI(e);return t.j().next((()=>n.j())).next((()=>r.j()))}createTargetIndexes(e,t){return qv.forEach(this.un(t),(t=>this.getIndexType(e,t).next((n=>{if(0===n||1===n){const n=new GE(t).sn();if(null!=n)return this.addFieldIndex(e,n)}}))))}getDocumentsMatchingTarget(e,t){const n=aI(e);let r=!0;const i=new Map;return qv.forEach(this.un(t),(t=>this.cn(e,t).next((e=>{r&&(r=!!e),i.set(t,e)})))).next((()=>{if(r){let e=Ob();const r=[];return qv.forEach(i,((i,o)=>{tv("IndexedDbIndexManager","Using index ".concat(function(e){return"id=".concat(e.indexId,"|cg=").concat(e.collectionGroup,"|f=").concat(e.fields.map((e=>"".concat(e.fieldPath,":").concat(e.kind))).join(","))}(i)," to execute ").concat(Zw(t)));const s=function(e,t){const n=Rv(t);if(void 0===n)return null;for(const r of nb(e,n.fieldPath))switch(r.op){case"array-contains-any":return r.value.arrayValue.values||[];case"array-contains":return[r.value]}return null}(o,i),a=function(e,t){const n=new Map;for(const r of Ov(t))for(const t of nb(e,r.fieldPath))switch(t.op){case"==":case"in":n.set(r.fieldPath.canonicalString(),t.value);break;case"not-in":case"!=":return n.set(r.fieldPath.canonicalString(),t.value),Array.from(n.values())}return null}(o,i),c=function(e,t){const n=[];let r=!0;for(const i of Ov(t)){const t=0===i.kind?rb(e,i.fieldPath,e.startAt):ib(e,i.fieldPath,e.startAt);n.push(t.value),r&&(r=t.inclusive)}return new Cw(n,r)}(o,i),l=function(e,t){const n=[];let r=!0;for(const i of Ov(t)){const t=0===i.kind?ib(e,i.fieldPath,e.endAt):rb(e,i.fieldPath,e.endAt);n.push(t.value),r&&(r=t.inclusive)}return new Cw(n,r)}(o,i),u=this.ln(i,o,c),h=this.ln(i,o,l),d=this.hn(i,o,a),f=this.Pn(i.indexId,s,u,c.inclusive,h,l.inclusive,d);return qv.forEach(f,(i=>n.G(i,t.limit).next((t=>{t.forEach((t=>{const n=Av.fromSegments(t.documentKey);e.has(n)||(e=e.add(n),r.push(n))}))}))))})).next((()=>r))}return qv.resolve(null)}))}un(e){let t=this.an.get(e);return t||(t=0===e.filters.length?[e]:QE(Dw.create(e.filters,"and")).map((t=>Xw(e.path,e.collectionGroup,e.orderBy,t.getFilters(),e.limit,e.startAt,e.endAt))),this.an.set(e,t),t)}Pn(e,t,n,r,i,o,s){const a=(null!=t?t.length:1)*Math.max(n.length,i.length),c=a/(null!=t?t.length:1),l=[];for(let u=0;u<a;++u){const a=t?this.In(t[u/c]):iI,h=this.Tn(e,a,n[u%c],r),d=this.En(e,a,i[u%c],o),f=s.map((t=>this.Tn(e,a,t,!0)));l.push(...this.createRange(h,d,f))}return l}Tn(e,t,n,r){const i=new qE(e,Av.empty(),t,n);return r?i:i.Ht()}En(e,t,n,r){const i=new qE(e,Av.empty(),t,n);return r?i.Ht():i}cn(e,t){const n=new GE(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next((e=>{let t=null;for(const r of e)n.en(r)&&(!t||r.fields.length>t.fields.length)&&(t=r);return t}))}getIndexType(e,t){let n=2;const r=this.un(t);return qv.forEach(r,(t=>this.cn(e,t).next((e=>{e?0!==n&&e.fields.length<function(e){let t=new By(Nv.comparator),n=!1;for(const r of e.filters)for(const e of r.getFlattenedFilters())e.field.isKeyField()||("array-contains"===e.op||"array-contains-any"===e.op?n=!0:t=t.add(e.field));for(const r of e.orderBy)r.field.isKeyField()||(t=t.add(r.field));return t.size+(n?1:0)}(t)&&(n=1):n=0})))).next((()=>function(e){return null!==e.limit}(t)&&r.length>1&&2===n?1:n))}dn(e,t){const n=new BE;for(const r of Ov(e)){const e=t.data.field(r.fieldPath);if(null==e)return null;const i=n.jt(r.kind);ME.St.ht(e,i)}return n.Ut()}In(e){const t=new BE;return ME.St.ht(e,t.jt(0)),t.Ut()}An(e,t){const n=new BE;return ME.St.ht(dw(this.databaseId,t),n.jt(function(e){const t=Ov(e);return 0===t.length?0:t[t.length-1].kind}(e))),n.Ut()}hn(e,t,n){if(null===n)return[];let r=[];r.push(new BE);let i=0;for(const o of Ov(e)){const e=n[i++];for(const n of r)if(this.Rn(t,o.fieldPath)&&pw(e))r=this.Vn(r,o,e);else{const t=n.jt(o.kind);ME.St.ht(e,t)}}return this.mn(r)}ln(e,t,n){return this.hn(e,t,n.position)}mn(e){const t=[];for(let n=0;n<e.length;++n)t[n]=e[n].Ut();return t}Vn(e,t,n){const r=[...e],i=[];for(const o of n.arrayValue.values||[])for(const e of r){const n=new BE;n.seed(e.Ut()),ME.St.ht(o,n.jt(t.kind)),i.push(n)}return i}Rn(e,t){return!!e.filters.find((e=>e instanceof Ow&&e.field.isEqual(t)&&("in"===e.op||"not-in"===e.op)))}getFieldIndexes(e,t){const n=cI(e),r=lI(e);return(t?n.U("collectionGroupIndex",IDBKeyRange.bound(t,t)):n.U()).next((e=>{const t=[];return qv.forEach(e,(e=>r.get([e.indexId,this.uid]).next((n=>{t.push(function(e,t){const n=t?new Lv(t.sequenceNumber,new Uv(IE(t.readTime),new Av(ly(t.documentKey)),t.largestBatchId)):Lv.empty(),r=e.fields.map((e=>{let[t,n]=e;return new Dv(Nv.fromServerFormat(t),n)}));return new Pv(e.indexId,e.collectionGroup,r,n)}(e,n))})))).next((()=>t))}))}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next((e=>0===e.length?null:(e.sort(((e,t)=>{const n=e.indexState.sequenceNumber-t.indexState.sequenceNumber;return 0!==n?n:_v(e.collectionGroup,t.collectionGroup)})),e[0].collectionGroup)))}updateCollectionGroup(e,t,n){const r=cI(e),i=lI(e);return this.fn(e).next((e=>r.U("collectionGroupIndex",IDBKeyRange.bound(t,t)).next((t=>qv.forEach(t,(t=>i.put(AE(t.indexId,this.uid,e,n))))))))}updateIndexEntries(e,t){const n=new Map;return qv.forEach(t,((t,r)=>{const i=n.get(t.collectionGroup);return(i?qv.resolve(i):this.getFieldIndexes(e,t.collectionGroup)).next((i=>(n.set(t.collectionGroup,i),qv.forEach(i,(n=>this.gn(e,t,n).next((t=>{const i=this.pn(r,n);return t.isEqual(i)?qv.resolve():this.yn(e,r,n,t,i)})))))))}))}wn(e,t,n,r){return aI(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.An(n,t.key),documentKey:t.key.path.toArray()})}Sn(e,t,n,r){return aI(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.An(n,t.key),t.key.path.toArray()])}gn(e,t,n){const r=aI(e);let i=new By(KE);return r.J({index:"documentKeyIndex",range:IDBKeyRange.only([n.indexId,this.uid,this.An(n,t)])},((e,r)=>{i=i.add(new qE(n.indexId,t,r.arrayValue,r.directionalValue))})).next((()=>i))}pn(e,t){let n=new By(KE);const r=this.dn(t,e);if(null==r)return n;const i=Rv(t);if(null!=i){const o=e.data.field(i.fieldPath);if(pw(o))for(const i of o.arrayValue.values||[])n=n.add(new qE(t.indexId,e.key,this.In(i),r))}else n=n.add(new qE(t.indexId,e.key,iI,r));return n}yn(e,t,n,r,i){tv("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const o=[];return function(e,t,n,r,i){const o=e.getIterator(),s=t.getIterator();let a=Ky(o),c=Ky(s);for(;a||c;){let e=!1,t=!1;if(a&&c){const r=n(a,c);r<0?t=!0:r>0&&(e=!0)}else null!=a?t=!0:e=!0;e?(r(c),c=Ky(s)):t?(i(a),a=Ky(o)):(a=Ky(o),c=Ky(s))}}(r,i,KE,(r=>{o.push(this.wn(e,t,n,r))}),(r=>{o.push(this.Sn(e,t,n,r))})),qv.waitFor(o)}fn(e){let t=1;return lI(e).J({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},((e,n,r)=>{r.done(),t=n.sequenceNumber+1})).next((()=>t))}createRange(e,t,n){n=n.sort(((e,t)=>KE(e,t))).filter(((e,t,n)=>!t||0!==KE(e,n[t-1])));const r=[];r.push(e);for(const o of n){const n=KE(o,e),i=KE(o,t);if(0===n)r[0]=e.Ht();else if(n>0&&i<0)r.push(o),r.push(o.Ht());else if(i>0)break}r.push(t);const i=[];for(let o=0;o<r.length;o+=2){if(this.bn(r[o],r[o+1]))return[];const e=[r[o].indexId,this.uid,r[o].arrayValue,r[o].directionalValue,iI,[]],t=[r[o+1].indexId,this.uid,r[o+1].arrayValue,r[o+1].directionalValue,iI,[]];i.push(IDBKeyRange.bound(e,t))}return i}bn(e,t){return KE(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(uI)}getMinOffset(e,t){return qv.mapArray(this.un(t),(t=>this.cn(e,t).next((e=>e||ov())))).next(uI)}}function sI(e){return Ly(e,"collectionParents")}function aI(e){return Ly(e,"indexEntries")}function cI(e){return Ly(e,"indexConfiguration")}function lI(e){return Ly(e,"indexState")}function uI(e){sv(0!==e.length);let t=e[0].indexState.offset,n=t.largestBatchId;for(let r=1;r<e.length;r++){const i=e[r].indexState.offset;jv(i,t)<0&&(t=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new Uv(t.readTime,t.documentKey,n)}const hI={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class dI{constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}static withCacheSize(e){return new dI(e,dI.DEFAULT_COLLECTION_PERCENTILE,dI.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function fI(e,t,n){const r=e.store("mutations"),i=e.store("documentMutations"),o=[],s=IDBKeyRange.only(n.batchId);let a=0;const c=r.J({range:s},((e,t,n)=>(a++,n.delete())));o.push(c.next((()=>{sv(1===a)})));const l=[];for(const u of n.mutations){const e=dy(t,u.key.path,n.batchId);o.push(i.delete(e)),l.push(u.key)}return qv.waitFor(o).next((()=>l))}function pI(e){if(!e)return 0;let t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw ov();t=e.noDocument}return JSON.stringify(t).length}dI.DEFAULT_COLLECTION_PERCENTILE=10,dI.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,dI.DEFAULT=new dI(41943040,dI.DEFAULT_COLLECTION_PERCENTILE,dI.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),dI.DISABLED=new dI(-1,0,0);class mI{constructor(e,t,n,r){this.userId=e,this.serializer=t,this.indexManager=n,this.referenceDelegate=r,this.Dn={}}static ct(e,t,n,r){sv(""!==e.uid);const i=e.isAuthenticated()?e.uid:"";return new mI(i,t,n,r)}checkEmpty(e){let t=!0;const n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return vI(e).J({index:"userMutationsIndex",range:n},((e,n,r)=>{t=!1,r.done()})).next((()=>t))}addMutationBatch(e,t,n,r){const i=yI(e),o=vI(e);return o.add({}).next((s=>{sv("number"==typeof s);const a=new p_(s,t,n,r),c=function(e,t,n){const r=n.baseMutations.map((t=>iE(e.ut,t))),i=n.mutations.map((t=>iE(e.ut,t)));return{userId:t,batchId:n.batchId,localWriteTimeMs:n.localWriteTime.toMillis(),baseMutations:r,mutations:i}}(this.serializer,this.userId,a),l=[];let u=new By(((e,t)=>_v(e.canonicalString(),t.canonicalString())));for(const e of r){const t=dy(this.userId,e.key.path,s);u=u.add(e.key.path.popLast()),l.push(o.put(c)),l.push(i.put(t,fy))}return u.forEach((t=>{l.push(this.indexManager.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((()=>{this.Dn[s]=a.keys()})),qv.waitFor(l).next((()=>a))}))}lookupMutationBatch(e,t){return vI(e).get(t).next((e=>e?(sv(e.userId===this.userId),TE(this.serializer,e)):null))}Cn(e,t){return this.Dn[t]?qv.resolve(this.Dn[t]):this.lookupMutationBatch(e,t).next((e=>{if(e){const n=e.keys();return this.Dn[t]=n,n}return null}))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=IDBKeyRange.lowerBound([this.userId,n]);let i=null;return vI(e).J({index:"userMutationsIndex",range:r},((e,t,r)=>{t.userId===this.userId&&(sv(t.batchId>=n),i=TE(this.serializer,t)),r.done()})).next((()=>i))}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let n=-1;return vI(e).J({index:"userMutationsIndex",range:t,reverse:!0},((e,t,r)=>{n=t.batchId,r.done()})).next((()=>n))}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return vI(e).U("userMutationsIndex",t).next((e=>e.map((e=>TE(this.serializer,e)))))}getAllMutationBatchesAffectingDocumentKey(e,t){const n=hy(this.userId,t.path),r=IDBKeyRange.lowerBound(n),i=[];return yI(e).J({range:r},((n,r,o)=>{const[s,a,c]=n,l=ly(a);if(s===this.userId&&t.path.isEqual(l))return vI(e).get(c).next((e=>{if(!e)throw ov();sv(e.userId===this.userId),i.push(TE(this.serializer,e))}));o.done()})).next((()=>i))}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new By(_v);const r=[];return t.forEach((t=>{const i=hy(this.userId,t.path),o=IDBKeyRange.lowerBound(i),s=yI(e).J({range:o},((e,r,i)=>{const[o,s,a]=e,c=ly(s);o===this.userId&&t.path.isEqual(c)?n=n.add(a):i.done()}));r.push(s)})),qv.waitFor(r).next((()=>this.vn(e,n)))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1,i=hy(this.userId,n),o=IDBKeyRange.lowerBound(i);let s=new By(_v);return yI(e).J({range:o},((e,t,i)=>{const[o,a,c]=e,l=ly(a);o===this.userId&&n.isPrefixOf(l)?l.length===r&&(s=s.add(c)):i.done()})).next((()=>this.vn(e,s)))}vn(e,t){const n=[],r=[];return t.forEach((t=>{r.push(vI(e).get(t).next((e=>{if(null===e)throw ov();sv(e.userId===this.userId),n.push(TE(this.serializer,e))})))})),qv.waitFor(r).next((()=>n))}removeMutationBatch(e,t){return fI(e._e,this.userId,t).next((n=>(e.addOnCommittedListener((()=>{this.Fn(t.batchId)})),qv.forEach(n,(t=>this.referenceDelegate.markPotentiallyOrphaned(e,t))))))}Fn(e){delete this.Dn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next((t=>{if(!t)return qv.resolve();const n=IDBKeyRange.lowerBound(function(e){return[e]}(this.userId)),r=[];return yI(e).J({range:n},((e,t,n)=>{if(e[0]===this.userId){const t=ly(e[1]);r.push(t)}else n.done()})).next((()=>{sv(0===r.length)}))}))}containsKey(e,t){return gI(e,this.userId,t)}Mn(e){return wI(e).get(this.userId).next((e=>e||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""}))}}function gI(e,t,n){const r=hy(t,n.path),i=r[1],o=IDBKeyRange.lowerBound(r);let s=!1;return yI(e).J({range:o,H:!0},((e,n,r)=>{const[o,a,c]=e;o===t&&a===i&&(s=!0),r.done()})).next((()=>s))}function vI(e){return Ly(e,"mutations")}function yI(e){return Ly(e,"documentMutations")}function wI(e){return Ly(e,"mutationQueues")}class bI{constructor(e){this.xn=e}next(){return this.xn+=2,this.xn}static On(){return new bI(0)}static Nn(){return new bI(-1)}}class _I{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.Ln(e).next((t=>{const n=new bI(t.highestTargetId);return t.highestTargetId=n.next(),this.Bn(e,t).next((()=>t.highestTargetId))}))}getLastRemoteSnapshotVersion(e){return this.Ln(e).next((e=>Sv.fromTimestamp(new Tv(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))))}getHighestSequenceNumber(e){return this.Ln(e).next((e=>e.highestListenSequenceNumber))}setTargetsMetadata(e,t,n){return this.Ln(e).next((r=>(r.highestListenSequenceNumber=t,n&&(r.lastRemoteSnapshotVersion=n.toTimestamp()),t>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=t),this.Bn(e,r))))}addTargetData(e,t){return this.kn(e,t).next((()=>this.Ln(e).next((n=>(n.targetCount+=1,this.qn(t,n),this.Bn(e,n))))))}updateTargetData(e,t){return this.kn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next((()=>EI(e).delete(t.targetId))).next((()=>this.Ln(e))).next((t=>(sv(t.targetCount>0),t.targetCount-=1,this.Bn(e,t))))}removeTargets(e,t,n){let r=0;const i=[];return EI(e).J(((o,s)=>{const a=SE(s);a.sequenceNumber<=t&&null===n.get(a.targetId)&&(r++,i.push(this.removeTargetData(e,a)))})).next((()=>qv.waitFor(i))).next((()=>r))}forEachTarget(e,t){return EI(e).J(((e,n)=>{const r=SE(n);t(r)}))}Ln(e){return II(e).get("targetGlobalKey").next((e=>(sv(null!==e),e)))}Bn(e,t){return II(e).put("targetGlobalKey",t)}kn(e,t){return EI(e).put(kE(this.serializer,t))}qn(e,t){let n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}getTargetCount(e){return this.Ln(e).next((e=>e.targetCount))}getTargetData(e,t){const n=Zw(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]);let i=null;return EI(e).J({range:r,index:"queryTargetsIndex"},((e,n,r)=>{const o=SE(n);eb(t,o.target)&&(i=o,r.done())})).next((()=>i))}addMatchingKeys(e,t,n){const r=[],i=TI(e);return t.forEach((t=>{const o=sy(t.path);r.push(i.put({targetId:n,path:o})),r.push(this.referenceDelegate.addReference(e,n,t))})),qv.waitFor(r)}removeMatchingKeys(e,t,n){const r=TI(e);return qv.forEach(t,(t=>{const i=sy(t.path);return qv.waitFor([r.delete([n,i]),this.referenceDelegate.removeReference(e,n,t)])}))}removeMatchingKeysForTargetId(e,t){const n=TI(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}getMatchingKeysForTargetId(e,t){const n=IDBKeyRange.bound([t],[t+1],!1,!0),r=TI(e);let i=Ob();return r.J({range:n,H:!0},((e,t,n)=>{const r=ly(e[1]),o=new Av(r);i=i.add(o)})).next((()=>i))}containsKey(e,t){const n=sy(t.path),r=IDBKeyRange.bound([n],[Iv(n)],!1,!0);let i=0;return TI(e).J({index:"documentTargetsIndex",H:!0,range:r},((e,t,n)=>{let[r,o]=e;0!==r&&(i++,n.done())})).next((()=>i>0))}ot(e,t){return EI(e).get(t).next((e=>e?SE(e):null))}}function EI(e){return Ly(e,"targets")}function II(e){return Ly(e,"targetGlobal")}function TI(e){return Ly(e,"targetDocuments")}function SI(e,t){let[n,r]=e,[i,o]=t;const s=_v(n,i);return 0===s?_v(r,o):s}class kI{constructor(e){this.Qn=e,this.buffer=new By(SI),this.Kn=0}$n(){return++this.Kn}Un(e){const t=[e,this.$n()];if(this.buffer.size<this.Qn)this.buffer=this.buffer.add(t);else{const e=this.buffer.last();SI(t,e)<0&&(this.buffer=this.buffer.delete(e).add(t))}}get maxValue(){return this.buffer.last()[0]}}class CI{constructor(e,t,n){this.garbageCollector=e,this.asyncQueue=t,this.localStore=n,this.Wn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Gn(6e4)}stop(){this.Wn&&(this.Wn.cancel(),this.Wn=null)}get started(){return null!==this.Wn}Gn(e){tv("LruGarbageCollector","Garbage collection scheduled in ".concat(e,"ms")),this.Wn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Wn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){Jv(e)?tv("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e):await Bv(e)}await this.Gn(3e5)}))}}class xI{constructor(e,t){this.zn=e,this.params=t}calculateTargetCount(e,t){return this.zn.jn(e).next((e=>Math.floor(t/100*e)))}nthSequenceNumber(e,t){if(0===t)return qv.resolve(ny.oe);const n=new kI(t);return this.zn.forEachTarget(e,(e=>n.Un(e.sequenceNumber))).next((()=>this.zn.Hn(e,(e=>n.Un(e))))).next((()=>n.maxValue))}removeTargets(e,t,n){return this.zn.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.zn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(tv("LruGarbageCollector","Garbage collection skipped; disabled"),qv.resolve(hI)):this.getCacheSize(e).next((n=>n<this.params.cacheSizeCollectionThreshold?(tv("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(n," is lower than threshold ").concat(this.params.cacheSizeCollectionThreshold)),hI):this.Jn(e,t)))}getCacheSize(e){return this.zn.getCacheSize(e)}Jn(e,t){let n,r,i,o,s,a,c;const l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((t=>(t>this.params.maximumSequenceNumbersToCollect?(tv("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(this.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=this.params.maximumSequenceNumbersToCollect):r=t,o=Date.now(),this.nthSequenceNumber(e,r)))).next((r=>(n=r,s=Date.now(),this.removeTargets(e,n,t)))).next((t=>(i=t,a=Date.now(),this.removeOrphanedDocuments(e,n)))).next((e=>(c=Date.now(),ev()<=Mo.DEBUG&&tv("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(o-l,"ms\n\tDetermined least recently used ").concat(r," in ")+(s-o)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(a-s)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(c-a)+"ms\n"+"Total Duration: ".concat(c-l,"ms")),qv.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e}))))}}function NI(e,t){return new xI(e,t)}class AI{constructor(e,t){this.db=e,this.garbageCollector=NI(this,t)}jn(e){const t=this.Yn(e);return this.db.getTargetCache().getTargetCount(e).next((e=>t.next((t=>e+t))))}Yn(e){let t=0;return this.Hn(e,(e=>{t++})).next((()=>t))}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Hn(e,t){return this.Zn(e,((e,n)=>t(n)))}addReference(e,t,n){return PI(e,n)}removeReference(e,t,n){return PI(e,n)}removeTargets(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}markPotentiallyOrphaned(e,t){return PI(e,t)}Xn(e,t){return function(e,t){let n=!1;return wI(e).Y((r=>gI(e,r,t).next((e=>(e&&(n=!0),qv.resolve(!e)))))).next((()=>n))}(e,t)}removeOrphanedDocuments(e,t){const n=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let i=0;return this.Zn(e,((o,s)=>{if(s<=t){const t=this.Xn(e,o).next((t=>{if(!t)return i++,n.getEntry(e,o).next((()=>(n.removeEntry(o,Sv.min()),TI(e).delete(function(e){return[0,sy(e.path)]}(o)))))}));r.push(t)}})).next((()=>qv.waitFor(r))).next((()=>n.apply(e))).next((()=>i))}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}updateLimboDocument(e,t){return PI(e,t)}Zn(e,t){const n=TI(e);let r,i=ny.oe;return n.J({index:"documentTargetsIndex"},((e,n)=>{let[o,s]=e,{path:a,sequenceNumber:c}=n;0===o?(i!==ny.oe&&t(new Av(ly(r)),i),i=c,r=a):i=ny.oe})).next((()=>{i!==ny.oe&&t(new Av(ly(r)),i)}))}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function PI(e,t){return TI(e).put(function(e,t){return{targetId:0,path:sy(e.path),sequenceNumber:t}}(t,e.currentSequenceNumber))}class RI{constructor(){this.changes=new Eb((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,kw.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?qv.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class OI{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,n){return FI(e).put(n)}removeEntry(e,t,n){return FI(e).delete(function(e,t){const n=e.path.toArray();return[n.slice(0,n.length-2),n[n.length-2],_E(t),n[n.length-1]]}(t,n))}updateMetadata(e,t){return this.getMetadata(e).next((n=>(n.byteSize+=t,this.er(e,n))))}getEntry(e,t){let n=kw.newInvalidDocument(t);return FI(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(UI(t))},((e,r)=>{n=this.tr(t,r)})).next((()=>n))}nr(e,t){let n={size:0,document:kw.newInvalidDocument(t)};return FI(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(UI(t))},((e,r)=>{n={document:this.tr(t,r),size:pI(r)}})).next((()=>n))}getEntries(e,t){let n=Tb();return this.rr(e,t,((e,t)=>{const r=this.tr(e,t);n=n.insert(e,r)})).next((()=>n))}ir(e,t){let n=Tb(),r=new jy(Av.comparator);return this.rr(e,t,((e,t)=>{const i=this.tr(e,t);n=n.insert(e,i),r=r.insert(e,pI(t))})).next((()=>({documents:n,sr:r})))}rr(e,t,n){if(t.isEmpty())return qv.resolve();let r=new By(VI);t.forEach((e=>r=r.add(e)));const i=IDBKeyRange.bound(UI(r.first()),UI(r.last())),o=r.getIterator();let s=o.getNext();return FI(e).J({index:"documentKeyIndex",range:i},((e,t,r)=>{const i=Av.fromSegments([...t.prefixPath,t.collectionGroup,t.documentId]);for(;s&&VI(s,i)<0;)n(s,null),s=o.getNext();s&&s.isEqual(i)&&(n(s,t),s=o.hasNext()?o.getNext():null),s?r.$(UI(s)):r.done()})).next((()=>{for(;s;)n(s,null),s=o.hasNext()?o.getNext():null}))}getDocumentsMatchingQuery(e,t,n,r,i){const o=t.path,s=[o.popLast().toArray(),o.lastSegment(),_E(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],a=[o.popLast().toArray(),o.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return FI(e).U(IDBKeyRange.bound(s,a,!0)).next((e=>{null==i||i.incrementDocumentReadCount(e.length);let n=Tb();for(const i of e){const e=this.tr(Av.fromSegments(i.prefixPath.concat(i.collectionGroup,i.documentId)),i);e.isFoundDocument()&&(yb(t,e)||r.has(e.key))&&(n=n.insert(e.key,e))}return n}))}getAllFromCollectionGroup(e,t,n,r){let i=Tb();const o=jI(t,n),s=jI(t,Uv.max());return FI(e).J({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,s,!0)},((e,t,n)=>{const o=this.tr(Av.fromSegments(t.prefixPath.concat(t.collectionGroup,t.documentId)),t);i=i.insert(o.key,o),i.size===r&&n.done()})).next((()=>i))}newChangeBuffer(e){return new LI(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next((e=>e.byteSize))}getMetadata(e){return MI(e).get("remoteDocumentGlobalKey").next((e=>(sv(!!e),e)))}er(e,t){return MI(e).put("remoteDocumentGlobalKey",t)}tr(e,t){if(t){const e=function(e,t){let n;if(t.document)n=rE(e.ut,t.document,!!t.hasCommittedMutations);else if(t.noDocument){const e=Av.fromSegments(t.noDocument.path),r=IE(t.noDocument.readTime);n=kw.newNoDocument(e,r),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return ov();{const e=Av.fromSegments(t.unknownDocument.path),r=IE(t.unknownDocument.version);n=kw.newUnknownDocument(e,r)}}return t.readTime&&n.setReadTime(function(e){const t=new Tv(e[0],e[1]);return Sv.fromTimestamp(t)}(t.readTime)),n}(this.serializer,t);if(!e.isNoDocument()||!e.version.isEqual(Sv.min()))return e}return kw.newInvalidDocument(e)}}function DI(e){return new OI(e)}class LI extends RI{constructor(e,t){super(),this._r=e,this.trackRemovals=t,this.ar=new Eb((e=>e.toString()),((e,t)=>e.isEqual(t)))}applyChanges(e){const t=[];let n=0,r=new By(((e,t)=>_v(e.canonicalString(),t.canonicalString())));return this.changes.forEach(((i,o)=>{const s=this.ar.get(i);if(t.push(this._r.removeEntry(e,i,s.readTime)),o.isValidDocument()){const a=bE(this._r.serializer,o);r=r.add(i.path.popLast());const c=pI(a);n+=c-s.size,t.push(this._r.addEntry(e,i,a))}else if(n-=s.size,this.trackRemovals){const n=bE(this._r.serializer,o.convertToNoDocument(Sv.min()));t.push(this._r.addEntry(e,i,n))}})),r.forEach((n=>{t.push(this._r.indexManager.addToCollectionParentIndex(e,n))})),t.push(this._r.updateMetadata(e,n)),qv.waitFor(t)}getFromCache(e,t){return this._r.nr(e,t).next((e=>(this.ar.set(t,{size:e.size,readTime:e.document.readTime}),e.document)))}getAllFromCache(e,t){return this._r.ir(e,t).next((e=>{let{documents:t,sr:n}=e;return n.forEach(((e,n)=>{this.ar.set(e,{size:n,readTime:t.get(e).readTime})})),t}))}}function MI(e){return Ly(e,"remoteDocumentGlobal")}function FI(e){return Ly(e,"remoteDocumentsV14")}function UI(e){const t=e.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function jI(e,t){const n=t.documentKey.path.toArray();return[e,_E(t.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function VI(e,t){const n=e.path.toArray(),r=t.path.toArray();let i=0;for(let o=0;o<n.length-2&&o<r.length-2;++o)if(i=_v(n[o],r[o]),i)return i;return i=_v(n.length,r.length),i||(i=_v(n[n.length-2],r[r.length-2]),i||_v(n[n.length-1],r[r.length-1]))}class zI{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class BI{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next((r=>(n=r,this.remoteDocumentCache.getEntry(e,t)))).next((e=>(null!==n&&i_(n.mutation,e,Hy.empty(),Tv.now()),e)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.getLocalViewOfDocuments(e,t,Ob()).next((()=>t))))}getLocalViewOfDocuments(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Ob();const r=xb();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,n).next((e=>{let t=kb();return e.forEach(((e,n)=>{t=t.insert(e,n.overlayedDocument)})),t}))))}getOverlayedDocuments(e,t){const n=xb();return this.populateOverlays(e,n,t).next((()=>this.computeViews(e,t,n,Ob())))}populateOverlays(e,t,n){const r=[];return n.forEach((e=>{t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((e=>{e.forEach(((e,n)=>{t.set(e,n)}))}))}computeViews(e,t,n,r){let i=Tb();const o=Ab(),s=Ab();return t.forEach(((e,t)=>{const s=n.get(t.key);r.has(t.key)&&(void 0===s||s.mutation instanceof c_)?i=i.insert(t.key,t):void 0!==s?(o.set(t.key,s.mutation.getFieldMask()),i_(s.mutation,t,s.mutation.getFieldMask(),Tv.now())):o.set(t.key,Hy.empty())})),this.recalculateAndSaveOverlays(e,i).next((e=>(e.forEach(((e,t)=>o.set(e,t))),t.forEach(((e,t)=>{var n;return s.set(e,new zI(t,null!==(n=o.get(e))&&void 0!==n?n:null))})),s)))}recalculateAndSaveOverlays(e,t){const n=Ab();let r=new jy(((e,t)=>e-t)),i=Ob();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((e=>{for(const i of e)i.keys().forEach((e=>{const o=t.get(e);if(null===o)return;let s=n.get(e)||Hy.empty();s=i.applyToLocalView(o,s),n.set(e,s);const a=(r.get(i.batchId)||Ob()).add(e);r=r.insert(i.batchId,a)}))})).next((()=>{const o=[],s=r.getReverseIterator();for(;s.hasNext();){const r=s.getNext(),a=r.key,c=r.value,l=Nb();c.forEach((e=>{if(!i.has(e)){const r=n_(t.get(e),n.get(e));null!==r&&l.set(e,r),i=i.add(e)}})),o.push(this.documentOverlayCache.saveOverlays(e,a,l))}return qv.waitFor(o)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.recalculateAndSaveOverlays(e,t)))}getDocumentsMatchingQuery(e,t,n,r){return function(e){return Av.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):lb(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,r):this.getDocumentsMatchingCollectionQuery(e,t,n,r)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((i=>{const o=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-i.size):qv.resolve(xb());let s=-1,a=i;return o.next((t=>qv.forEach(t,((t,n)=>(s<n.largestBatchId&&(s=n.largestBatchId),i.get(t)?qv.resolve():this.remoteDocumentCache.getEntry(e,t).next((e=>{a=a.insert(t,e)}))))).next((()=>this.populateOverlays(e,t,i))).next((()=>this.computeViews(e,a,t,Ob()))).next((e=>({batchId:s,changes:Cb(e)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Av(t)).next((e=>{let t=kb();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}getDocumentsMatchingCollectionGroupQuery(e,t,n,r){const i=t.collectionGroup;let o=kb();return this.indexManager.getCollectionParents(e,i).next((s=>qv.forEach(s,(s=>{const a=function(e,t){return new ob(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,s.child(i));return this.getDocumentsMatchingCollectionQuery(e,a,n,r).next((e=>{e.forEach(((e,t)=>{o=o.insert(e,t)}))}))})).next((()=>o))))}getDocumentsMatchingCollectionQuery(e,t,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,i,r)))).next((e=>{i.forEach(((t,n)=>{const r=n.getKey();null===e.get(r)&&(e=e.insert(r,kw.newInvalidDocument(r)))}));let n=kb();return e.forEach(((e,r)=>{const o=i.get(e);void 0!==o&&i_(o.mutation,r,Hy.empty(),Tv.now()),yb(t,r)&&(n=n.insert(e,r))})),n}))}}class qI{constructor(e){this.serializer=e,this.ur=new Map,this.cr=new Map}getBundleMetadata(e,t){return qv.resolve(this.ur.get(t))}saveBundleMetadata(e,t){return this.ur.set(t.id,function(e){return{id:e.id,version:e.version,createTime:G_(e.createTime)}}(t)),qv.resolve()}getNamedQuery(e,t){return qv.resolve(this.cr.get(t))}saveNamedQuery(e,t){return this.cr.set(t.name,function(e){return{name:e.name,query:CE(e.bundledQuery),readTime:G_(e.readTime)}}(t)),qv.resolve()}}class KI{constructor(){this.overlays=new jy(Av.comparator),this.lr=new Map}getOverlay(e,t){return qv.resolve(this.overlays.get(t))}getOverlays(e,t){const n=xb();return qv.forEach(t,(t=>this.getOverlay(e,t).next((e=>{null!==e&&n.set(t,e)})))).next((()=>n))}saveOverlays(e,t,n){return n.forEach(((n,r)=>{this.lt(e,t,r)})),qv.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.lr.get(n);return void 0!==r&&(r.forEach((e=>this.overlays=this.overlays.remove(e))),this.lr.delete(n)),qv.resolve()}getOverlaysForCollection(e,t,n){const r=xb(),i=t.length+1,o=new Av(t.child("")),s=this.overlays.getIteratorFrom(o);for(;s.hasNext();){const e=s.getNext().value,o=e.getKey();if(!t.isPrefixOf(o.path))break;o.path.length===i&&e.largestBatchId>n&&r.set(e.getKey(),e)}return qv.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let i=new jy(((e,t)=>e-t));const o=this.overlays.getIterator();for(;o.hasNext();){const e=o.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=i.get(e.largestBatchId);null===t&&(t=xb(),i=i.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const s=xb(),a=i.getIterator();for(;a.hasNext()&&(a.getNext().value.forEach(((e,t)=>s.set(e,t))),!(s.size()>=r)););return qv.resolve(s)}lt(e,t,n){const r=this.overlays.get(n.key);if(null!==r){const e=this.lr.get(r.largestBatchId).delete(n.key);this.lr.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new g_(t,n));let i=this.lr.get(t);void 0===i&&(i=Ob(),this.lr.set(t,i)),this.lr.set(t,i.add(n.key))}}class HI{constructor(){this.hr=new By(GI.Pr),this.Ir=new By(GI.Tr)}isEmpty(){return this.hr.isEmpty()}addReference(e,t){const n=new GI(e,t);this.hr=this.hr.add(n),this.Ir=this.Ir.add(n)}Er(e,t){e.forEach((e=>this.addReference(e,t)))}removeReference(e,t){this.dr(new GI(e,t))}Ar(e,t){e.forEach((e=>this.removeReference(e,t)))}Rr(e){const t=new Av(new Cv([])),n=new GI(t,e),r=new GI(t,e+1),i=[];return this.Ir.forEachInRange([n,r],(e=>{this.dr(e),i.push(e.key)})),i}Vr(){this.hr.forEach((e=>this.dr(e)))}dr(e){this.hr=this.hr.delete(e),this.Ir=this.Ir.delete(e)}mr(e){const t=new Av(new Cv([])),n=new GI(t,e),r=new GI(t,e+1);let i=Ob();return this.Ir.forEachInRange([n,r],(e=>{i=i.add(e.key)})),i}containsKey(e){const t=new GI(e,0),n=this.hr.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class GI{constructor(e,t){this.key=e,this.gr=t}static Pr(e,t){return Av.comparator(e.key,t.key)||_v(e.gr,t.gr)}static Tr(e,t){return _v(e.gr,t.gr)||Av.comparator(e.key,t.key)}}class WI{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.pr=1,this.yr=new By(GI.Pr)}checkEmpty(e){return qv.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){const i=this.pr;this.pr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new p_(i,t,n,r);this.mutationQueue.push(o);for(const s of r)this.yr=this.yr.add(new GI(s.key,i)),this.indexManager.addToCollectionParentIndex(e,s.key.path.popLast());return qv.resolve(o)}lookupMutationBatch(e,t){return qv.resolve(this.wr(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.Sr(n),i=r<0?0:r;return qv.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return qv.resolve(0===this.mutationQueue.length?-1:this.pr-1)}getAllMutationBatches(e){return qv.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new GI(t,0),r=new GI(t,Number.POSITIVE_INFINITY),i=[];return this.yr.forEachInRange([n,r],(e=>{const t=this.wr(e.gr);i.push(t)})),qv.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new By(_v);return t.forEach((e=>{const t=new GI(e,0),r=new GI(e,Number.POSITIVE_INFINITY);this.yr.forEachInRange([t,r],(e=>{n=n.add(e.gr)}))})),qv.resolve(this.br(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let i=n;Av.isDocumentKey(i)||(i=i.child(""));const o=new GI(new Av(i),0);let s=new By(_v);return this.yr.forEachWhile((e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(s=s.add(e.gr)),!0)}),o),qv.resolve(this.br(s))}br(e){const t=[];return e.forEach((e=>{const n=this.wr(e);null!==n&&t.push(n)})),t}removeMutationBatch(e,t){sv(0===this.Dr(t.batchId,"removed")),this.mutationQueue.shift();let n=this.yr;return qv.forEach(t.mutations,(r=>{const i=new GI(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)})).next((()=>{this.yr=n}))}Fn(e){}containsKey(e,t){const n=new GI(t,0),r=this.yr.firstAfterOrEqual(n);return qv.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,qv.resolve()}Dr(e,t){return this.Sr(e)}Sr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}wr(e){const t=this.Sr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class QI{constructor(e){this.Cr=e,this.docs=new jy(Av.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),i=r?r.size:0,o=this.Cr(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return qv.resolve(n?n.document.mutableCopy():kw.newInvalidDocument(t))}getEntries(e,t){let n=Tb();return t.forEach((e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():kw.newInvalidDocument(e))})),qv.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let i=Tb();const o=t.path,s=new Av(o.child("")),a=this.docs.getIteratorFrom(s);for(;a.hasNext();){const{key:e,value:{document:s}}=a.getNext();if(!o.isPrefixOf(e.path))break;e.path.length>o.length+1||jv(Fv(s),n)<=0||(r.has(s.key)||yb(t,s))&&(i=i.insert(s.key,s.mutableCopy()))}return qv.resolve(i)}getAllFromCollectionGroup(e,t,n,r){ov()}vr(e,t){return qv.forEach(this.docs,(e=>t(e)))}newChangeBuffer(e){return new JI(this)}getSize(e){return qv.resolve(this.size)}}class JI extends RI{constructor(e){super(),this._r=e}applyChanges(e){const t=[];return this.changes.forEach(((n,r)=>{r.isValidDocument()?t.push(this._r.addEntry(e,r)):this._r.removeEntry(n)})),qv.waitFor(t)}getFromCache(e,t){return this._r.getEntry(e,t)}getAllFromCache(e,t){return this._r.getEntries(e,t)}}class $I{constructor(e){this.persistence=e,this.Fr=new Eb((e=>Zw(e)),eb),this.lastRemoteSnapshotVersion=Sv.min(),this.highestTargetId=0,this.Mr=0,this.Or=new HI,this.targetCount=0,this.Nr=bI.On()}forEachTarget(e,t){return this.Fr.forEach(((e,n)=>t(n))),qv.resolve()}getLastRemoteSnapshotVersion(e){return qv.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return qv.resolve(this.Mr)}allocateTargetId(e){return this.highestTargetId=this.Nr.next(),qv.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Mr&&(this.Mr=t),qv.resolve()}kn(e){this.Fr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Nr=new bI(t),this.highestTargetId=t),e.sequenceNumber>this.Mr&&(this.Mr=e.sequenceNumber)}addTargetData(e,t){return this.kn(t),this.targetCount+=1,qv.resolve()}updateTargetData(e,t){return this.kn(t),qv.resolve()}removeTargetData(e,t){return this.Fr.delete(t.target),this.Or.Rr(t.targetId),this.targetCount-=1,qv.resolve()}removeTargets(e,t,n){let r=0;const i=[];return this.Fr.forEach(((o,s)=>{s.sequenceNumber<=t&&null===n.get(s.targetId)&&(this.Fr.delete(o),i.push(this.removeMatchingKeysForTargetId(e,s.targetId)),r++)})),qv.waitFor(i).next((()=>r))}getTargetCount(e){return qv.resolve(this.targetCount)}getTargetData(e,t){const n=this.Fr.get(t)||null;return qv.resolve(n)}addMatchingKeys(e,t,n){return this.Or.Er(t,n),qv.resolve()}removeMatchingKeys(e,t,n){this.Or.Ar(t,n);const r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((t=>{i.push(r.markPotentiallyOrphaned(e,t))})),qv.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this.Or.Rr(t),qv.resolve()}getMatchingKeysForTargetId(e,t){const n=this.Or.mr(t);return qv.resolve(n)}containsKey(e,t){return qv.resolve(this.Or.containsKey(t))}}class YI{constructor(e,t){this.Lr={},this.overlays={},this.Br=new ny(0),this.kr=!1,this.kr=!0,this.referenceDelegate=e(this),this.qr=new $I(this),this.indexManager=new nI,this.remoteDocumentCache=function(e){return new QI(e)}((e=>this.referenceDelegate.Qr(e))),this.serializer=new wE(t),this.Kr=new qI(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.kr=!1,Promise.resolve()}get started(){return this.kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new KI,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.Lr[e.toKey()];return n||(n=new WI(t,this.referenceDelegate),this.Lr[e.toKey()]=n),n}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Kr}runTransaction(e,t,n){tv("MemoryPersistence","Starting transaction:",e);const r=new XI(this.Br.next());return this.referenceDelegate.$r(),n(r).next((e=>this.referenceDelegate.Ur(r).next((()=>e)))).toPromise().then((e=>(r.raiseOnCommittedEvent(),e)))}Wr(e,t){return qv.or(Object.values(this.Lr).map((n=>()=>n.containsKey(e,t))))}}class XI extends zv{constructor(e){super(),this.currentSequenceNumber=e}}class ZI{constructor(e){this.persistence=e,this.Gr=new HI,this.zr=null}static jr(e){return new ZI(e)}get Hr(){if(this.zr)return this.zr;throw ov()}addReference(e,t,n){return this.Gr.addReference(n,t),this.Hr.delete(n.toString()),qv.resolve()}removeReference(e,t,n){return this.Gr.removeReference(n,t),this.Hr.add(n.toString()),qv.resolve()}markPotentiallyOrphaned(e,t){return this.Hr.add(t.toString()),qv.resolve()}removeTarget(e,t){this.Gr.Rr(t.targetId).forEach((e=>this.Hr.add(e.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next((e=>{e.forEach((e=>this.Hr.add(e.toString())))})).next((()=>n.removeTargetData(e,t)))}$r(){this.zr=new Set}Ur(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return qv.forEach(this.Hr,(n=>{const r=Av.fromPath(n);return this.Jr(e,r).next((e=>{e||t.removeEntry(r,Sv.min())}))})).next((()=>(this.zr=null,t.apply(e))))}updateLimboDocument(e,t){return this.Jr(e,t).next((e=>{e?this.Hr.delete(t.toString()):this.Hr.add(t.toString())}))}Qr(e){return 0}Jr(e,t){return qv.or([()=>qv.resolve(this.Gr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Wr(e,t)])}}class eT{constructor(e){this.serializer=e}O(e,t,n,r){const i=new Kv("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore("owner")}(e),function(e){e.createObjectStore("mutationQueues",{keyPath:"userId"}),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",uy,{unique:!0}),e.createObjectStore("documentMutations")}(e),tT(e),function(e){e.createObjectStore("remoteDocuments")}(e));let o=qv.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore("targetDocuments"),e.deleteObjectStore("targets"),e.deleteObjectStore("targetGlobal")}(e),tT(e)),o=o.next((()=>function(e){const t=e.store("targetGlobal"),n={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Sv.min().toTimestamp(),targetCount:0};return t.put("targetGlobalKey",n)}(i)))),n<4&&r>=4&&(0!==n&&(o=o.next((()=>function(e,t){return t.store("mutations").U().next((n=>{e.deleteObjectStore("mutations"),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",uy,{unique:!0});const r=t.store("mutations"),i=n.map((e=>r.put(e)));return qv.waitFor(i)}))}(e,i)))),o=o.next((()=>{!function(e){e.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)}))),n<5&&r>=5&&(o=o.next((()=>this.Zr(i)))),n<6&&r>=6&&(o=o.next((()=>(function(e){e.createObjectStore("remoteDocumentGlobal")}(e),this.Xr(i))))),n<7&&r>=7&&(o=o.next((()=>this.ei(i)))),n<8&&r>=8&&(o=o.next((()=>this.ti(e,i)))),n<9&&r>=9&&(o=o.next((()=>{!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e)}))),n<10&&r>=10&&(o=o.next((()=>this.ni(i)))),n<11&&r>=11&&(o=o.next((()=>{!function(e){e.createObjectStore("bundles",{keyPath:"bundleId"})}(e),function(e){e.createObjectStore("namedQueries",{keyPath:"name"})}(e)}))),n<12&&r>=12&&(o=o.next((()=>{!function(e){const t=e.createObjectStore("documentOverlays",{keyPath:Sy});t.createIndex("collectionPathOverlayIndex",ky,{unique:!1}),t.createIndex("collectionGroupOverlayIndex",Cy,{unique:!1})}(e)}))),n<13&&r>=13&&(o=o.next((()=>function(e){const t=e.createObjectStore("remoteDocumentsV14",{keyPath:py});t.createIndex("documentKeyIndex",my),t.createIndex("collectionGroupIndex",gy)}(e))).next((()=>this.ri(e,i))).next((()=>e.deleteObjectStore("remoteDocuments")))),n<14&&r>=14&&(o=o.next((()=>this.ii(e,i)))),n<15&&r>=15&&(o=o.next((()=>function(e){e.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),e.createObjectStore("indexState",{keyPath:_y}).createIndex("sequenceNumberIndex",Ey,{unique:!1}),e.createObjectStore("indexEntries",{keyPath:Iy}).createIndex("documentKeyIndex",Ty,{unique:!1})}(e)))),n<16&&r>=16&&(o=o.next((()=>{t.objectStore("indexState").clear()})).next((()=>{t.objectStore("indexEntries").clear()}))),o}Xr(e){let t=0;return e.store("remoteDocuments").J(((e,n)=>{t+=pI(n)})).next((()=>{const n={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",n)}))}Zr(e){const t=e.store("mutationQueues"),n=e.store("mutations");return t.U().next((t=>qv.forEach(t,(t=>{const r=IDBKeyRange.bound([t.userId,-1],[t.userId,t.lastAcknowledgedBatchId]);return n.U("userMutationsIndex",r).next((n=>qv.forEach(n,(n=>{sv(n.userId===t.userId);const r=TE(this.serializer,n);return fI(e,t.userId,r).next((()=>{}))}))))}))))}ei(e){const t=e.store("targetDocuments"),n=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next((e=>{const r=[];return n.J(((n,i)=>{const o=new Cv(n),s=function(e){return[0,sy(e)]}(o);r.push(t.get(s).next((n=>n?qv.resolve():(n=>t.put({targetId:0,path:sy(n),sequenceNumber:e.highestListenSequenceNumber}))(o))))})).next((()=>qv.waitFor(r)))}))}ti(e,t){e.createObjectStore("collectionParents",{keyPath:by});const n=t.store("collectionParents"),r=new rI,i=e=>{if(r.add(e)){const t=e.lastSegment(),r=e.popLast();return n.put({collectionId:t,parent:sy(r)})}};return t.store("remoteDocuments").J({H:!0},((e,t)=>{const n=new Cv(e);return i(n.popLast())})).next((()=>t.store("documentMutations").J({H:!0},((e,t)=>{let[n,r,o]=e;const s=ly(r);return i(s.popLast())}))))}ni(e){const t=e.store("targets");return t.J(((e,n)=>{const r=SE(n),i=kE(this.serializer,r);return t.put(i)}))}ri(e,t){const n=t.store("remoteDocuments"),r=[];return n.J(((e,n)=>{const i=t.store("remoteDocumentsV14"),o=function(e){return e.document?new Av(Cv.fromString(e.document.name).popFirst(5)):e.noDocument?Av.fromSegments(e.noDocument.path):e.unknownDocument?Av.fromSegments(e.unknownDocument.path):ov()}(n).path.toArray(),s={prefixPath:o.slice(0,o.length-2),collectionGroup:o[o.length-2],documentId:o[o.length-1],readTime:n.readTime||[0,0],unknownDocument:n.unknownDocument,noDocument:n.noDocument,document:n.document,hasCommittedMutations:!!n.hasCommittedMutations};r.push(i.put(s))})).next((()=>qv.waitFor(r)))}ii(e,t){const n=t.store("mutations"),r=DI(this.serializer),i=new YI(ZI.jr,this.serializer.ut);return n.U().next((e=>{const n=new Map;return e.forEach((e=>{var t;let r=null!==(t=n.get(e.userId))&&void 0!==t?t:Ob();TE(this.serializer,e).keys().forEach((e=>r=r.add(e))),n.set(e.userId,r)})),qv.forEach(n,((e,n)=>{const o=new Yg(n),s=DE.ct(this.serializer,o),a=i.getIndexManager(o),c=mI.ct(o,this.serializer,a,i.referenceDelegate);return new BI(r,c,s,a).recalculateAndSaveOverlaysForDocumentKeys(new Dy(t,ny.oe),e).next()}))}))}}function tT(e){e.createObjectStore("targetDocuments",{keyPath:yy}).createIndex("documentTargetsIndex",wy,{unique:!0}),e.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",vy,{unique:!0}),e.createObjectStore("targetGlobal")}const nT="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class rT{constructor(e,t,n,r,i,o,s,a,c,l){let u=arguments.length>10&&void 0!==arguments[10]?arguments[10]:16;if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=n,this.si=i,this.window=o,this.document=s,this.oi=c,this._i=l,this.ai=u,this.Br=null,this.kr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ui=null,this.inForeground=!1,this.ci=null,this.li=null,this.hi=Number.NEGATIVE_INFINITY,this.Pi=e=>Promise.resolve(),!rT.D())throw new lv(cv.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new AI(this,r),this.Ii=t+"main",this.serializer=new wE(a),this.Ti=new Hv(this.Ii,this.ai,new eT(this.serializer)),this.qr=new _I(this.referenceDelegate,this.serializer),this.remoteDocumentCache=DI(this.serializer),this.Kr=new PE,this.window&&this.window.localStorage?this.Ei=this.window.localStorage:(this.Ei=null,!1===l&&nv("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.di().then((()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new lv(cv.FAILED_PRECONDITION,nT);return this.Ai(),this.Ri(),this.Vi(),this.runTransaction("getHighestListenSequenceNumber","readonly",(e=>this.qr.getHighestSequenceNumber(e)))})).then((e=>{this.Br=new ny(e,this.oi)})).then((()=>{this.kr=!0})).catch((e=>(this.Ti&&this.Ti.close(),Promise.reject(e))))}mi(e){return this.Pi=async t=>{if(this.started)return e(t)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ti.L((async t=>{null===t.newVersion&&await e()}))}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.si.enqueueAndForget((async()=>{this.started&&await this.di()})))}di(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(e=>oT(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next((()=>{if(this.isPrimary)return this.fi(e).next((e=>{e||(this.isPrimary=!1,this.si.enqueueRetryable((()=>this.Pi(!1))))}))})).next((()=>this.gi(e))).next((t=>this.isPrimary&&!t?this.pi(e).next((()=>!1)):!!t&&this.yi(e).next((()=>!0)))))).catch((e=>{if(Jv(e))return tv("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return tv("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1})).then((e=>{this.isPrimary!==e&&this.si.enqueueRetryable((()=>this.Pi(e))),this.isPrimary=e}))}fi(e){return iT(e).get("owner").next((e=>qv.resolve(this.wi(e))))}Si(e){return oT(e).delete(this.clientId)}async bi(){if(this.isPrimary&&!this.Di(this.hi,18e5)){this.hi=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(e=>{const t=Ly(e,"clientMetadata");return t.U().next((e=>{const n=this.Ci(e,18e5),r=e.filter((e=>-1===n.indexOf(e)));return qv.forEach(r,(e=>t.delete(e.clientId))).next((()=>r))}))})).catch((()=>[]));if(this.Ei)for(const t of e)this.Ei.removeItem(this.vi(t.clientId))}}Vi(){this.li=this.si.enqueueAfterDelay("client_metadata_refresh",4e3,(()=>this.di().then((()=>this.bi())).then((()=>this.Vi()))))}wi(e){return!!e&&e.ownerId===this.clientId}gi(e){return this._i?qv.resolve(!0):iT(e).get("owner").next((t=>{if(null!==t&&this.Di(t.leaseTimestampMs,5e3)&&!this.Fi(t.ownerId)){if(this.wi(t)&&this.networkEnabled)return!0;if(!this.wi(t)){if(!t.allowTabSynchronization)throw new lv(cv.FAILED_PRECONDITION,nT);return!1}}return!(!this.networkEnabled||!this.inForeground)||oT(e).U().next((e=>void 0===this.Ci(e,5e3).find((e=>{if(this.clientId!==e.clientId){const t=!this.networkEnabled&&e.networkEnabled,n=!this.inForeground&&e.inForeground,r=this.networkEnabled===e.networkEnabled;if(t||n&&r)return!0}return!1}))))})).next((e=>(this.isPrimary!==e&&tv("IndexedDbPersistence","Client ".concat(e?"is":"is not"," eligible for a primary lease.")),e)))}async shutdown(){this.kr=!1,this.Mi(),this.li&&(this.li.cancel(),this.li=null),this.xi(),this.Oi(),await this.Ti.runTransaction("shutdown","readwrite",["owner","clientMetadata"],(e=>{const t=new Dy(e,ny.oe);return this.pi(t).next((()=>this.Si(t)))})),this.Ti.close(),this.Ni()}Ci(e,t){return e.filter((e=>this.Di(e.updateTimeMs,t)&&!this.Fi(e.clientId)))}Li(){return this.runTransaction("getActiveClients","readonly",(e=>oT(e).U().next((e=>this.Ci(e,18e5).map((e=>e.clientId))))))}get started(){return this.kr}getMutationQueue(e,t){return mI.ct(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new oI(e,this.serializer.ut.databaseId)}getDocumentOverlayCache(e){return DE.ct(this.serializer,e)}getBundleCache(){return this.Kr}runTransaction(e,t,n){tv("IndexedDbPersistence","Starting transaction:",e);const r="readonly"===t?"readonly":"readwrite",i=function(e){return 16===e?Oy:15===e?Ry:14===e?Py:13===e?Ay:12===e?Ny:11===e?xy:void ov()}(this.ai);let o;return this.Ti.runTransaction(e,r,i,(r=>(o=new Dy(r,this.Br?this.Br.next():ny.oe),"readwrite-primary"===t?this.fi(o).next((e=>!!e||this.gi(o))).next((t=>{if(!t)throw nv("Failed to obtain primary lease for action '".concat(e,"'.")),this.isPrimary=!1,this.si.enqueueRetryable((()=>this.Pi(!1))),new lv(cv.FAILED_PRECONDITION,Vv);return n(o)})).next((e=>this.yi(o).next((()=>e)))):this.Bi(o).next((()=>n(o)))))).then((e=>(o.raiseOnCommittedEvent(),e)))}Bi(e){return iT(e).get("owner").next((e=>{if(null!==e&&this.Di(e.leaseTimestampMs,5e3)&&!this.Fi(e.ownerId)&&!this.wi(e)&&!(this._i||this.allowTabSynchronization&&e.allowTabSynchronization))throw new lv(cv.FAILED_PRECONDITION,nT)}))}yi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return iT(e).put("owner",t)}static D(){return Hv.D()}pi(e){const t=iT(e);return t.get("owner").next((e=>this.wi(e)?(tv("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):qv.resolve()))}Di(e,t){const n=Date.now();return!(e<n-t)&&(!(e>n)||(nv("Detected an update time that is in the future: ".concat(e," > ").concat(n)),!1))}Ai(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ci=()=>{this.si.enqueueAndForget((()=>(this.inForeground="visible"===this.document.visibilityState,this.di())))},this.document.addEventListener("visibilitychange",this.ci),this.inForeground="visible"===this.document.visibilityState)}xi(){this.ci&&(this.document.removeEventListener("visibilitychange",this.ci),this.ci=null)}Ri(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ui=()=>{this.Mi();const e=/(?:Version|Mobile)\/1[456]/;go()&&(navigator.appVersion.match(e)||navigator.userAgent.match(e))&&this.si.enterRestrictedMode(!0),this.si.enqueueAndForget((()=>this.shutdown()))},this.window.addEventListener("pagehide",this.ui))}Oi(){this.ui&&(this.window.removeEventListener("pagehide",this.ui),this.ui=null)}Fi(e){var t;try{const n=null!==(null===(t=this.Ei)||void 0===t?void 0:t.getItem(this.vi(e)));return tv("IndexedDbPersistence","Client '".concat(e,"' ").concat(n?"is":"is not"," zombied in LocalStorage")),n}catch(e){return nv("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}Mi(){if(this.Ei)try{this.Ei.setItem(this.vi(this.clientId),String(Date.now()))}catch(vV){nv("Failed to set zombie client id.",vV)}}Ni(){if(this.Ei)try{this.Ei.removeItem(this.vi(this.clientId))}catch(vV){}}vi(e){return"firestore_zombie_".concat(this.persistenceKey,"_").concat(e)}}function iT(e){return Ly(e,"owner")}function oT(e){return Ly(e,"clientMetadata")}function sT(e,t){let n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}class aT{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.ki=n,this.qi=r}static Qi(e,t){let n=Ob(),r=Ob();for(const i of t.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new aT(e,t.fromCache,n,r)}}class cT{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class lT{constructor(){this.Ki=!1,this.$i=!1,this.Ui=100,this.Wi=go()?8:Gv(lo())>0?6:4}initialize(e,t){this.Gi=e,this.indexManager=t,this.Ki=!0}getDocumentsMatchingQuery(e,t,n,r){const i={result:null};return this.zi(e,t).next((e=>{i.result=e})).next((()=>{if(!i.result)return this.ji(e,t,r,n).next((e=>{i.result=e}))})).next((()=>{if(i.result)return;const n=new cT;return this.Hi(e,t,n).next((r=>{if(i.result=r,this.$i)return this.Ji(e,t,n,r.size)}))})).next((()=>i.result))}Ji(e,t,n,r){return n.documentReadCount<this.Ui?(ev()<=Mo.DEBUG&&tv("QueryEngine","SDK will not create cache indexes for query:",vb(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Ui,"documents"),qv.resolve()):(ev()<=Mo.DEBUG&&tv("QueryEngine","Query:",vb(t),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.Wi*r?(ev()<=Mo.DEBUG&&tv("QueryEngine","The SDK decides to create cache indexes for query:",vb(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,hb(t))):qv.resolve())}zi(e,t){if(cb(t))return qv.resolve(null);let n=hb(t);return this.indexManager.getIndexType(e,n).next((r=>0===r?null:(null!==t.limit&&1===r&&(t=pb(t,null,"F"),n=hb(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next((r=>{const i=Ob(...r);return this.Gi.getDocuments(e,i).next((r=>this.indexManager.getMinOffset(e,n).next((n=>{const o=this.Yi(t,r);return this.Zi(t,o,i,n.readTime)?this.zi(e,pb(t,null,"F")):this.Xi(e,o,t,n)}))))})))))}ji(e,t,n,r){return cb(t)||r.isEqual(Sv.min())?qv.resolve(null):this.Gi.getDocuments(e,n).next((i=>{const o=this.Yi(t,i);return this.Zi(t,o,n,r)?qv.resolve(null):(ev()<=Mo.DEBUG&&tv("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),vb(t)),this.Xi(e,o,t,Mv(r,-1)).next((e=>e)))}))}Yi(e,t){let n=new By(bb(e));return t.forEach(((t,r)=>{yb(e,r)&&(n=n.add(r))})),n}Zi(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}Hi(e,t,n){return ev()<=Mo.DEBUG&&tv("QueryEngine","Using full collection scan to execute query:",vb(t)),this.Gi.getDocumentsMatchingQuery(e,t,Uv.min(),n)}Xi(e,t,n,r){return this.Gi.getDocumentsMatchingQuery(e,n,r).next((e=>(t.forEach((t=>{e=e.insert(t.key,t)})),e)))}}class uT{constructor(e,t,n,r){this.persistence=e,this.es=t,this.serializer=r,this.ts=new jy(_v),this.ns=new Eb((e=>Zw(e)),eb),this.rs=new Map,this.ss=e.getRemoteDocumentCache(),this.qr=e.getTargetCache(),this.Kr=e.getBundleCache(),this.os(n)}os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new BI(this.ss,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ss.setIndexManager(this.indexManager),this.es.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.ts)))}}function hT(e,t,n,r){return new uT(e,t,n,r)}async function dT(e,t){const n=av(e);return await n.persistence.runTransaction("Handle user change","readonly",(e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next((i=>(r=i,n.os(t),n.mutationQueue.getAllMutationBatches(e)))).next((t=>{const i=[],o=[];let s=Ob();for(const e of r){i.push(e.batchId);for(const t of e.mutations)s=s.add(t.key)}for(const e of t){o.push(e.batchId);for(const t of e.mutations)s=s.add(t.key)}return n.localDocuments.getDocuments(e,s).next((e=>({_s:e,removedBatchIds:i,addedBatchIds:o})))}))}))}function fT(e){const t=av(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.qr.getLastRemoteSnapshotVersion(e)))}function pT(e,t,n){let r=Ob(),i=Ob();return n.forEach((e=>r=r.add(e))),t.getEntries(e,r).next((e=>{let r=Tb();return n.forEach(((n,o)=>{const s=e.get(n);o.isFoundDocument()!==s.isFoundDocument()&&(i=i.add(n)),o.isNoDocument()&&o.version.isEqual(Sv.min())?(t.removeEntry(n,o.readTime),r=r.insert(n,o)):!s.isValidDocument()||o.version.compareTo(s.version)>0||0===o.version.compareTo(s.version)&&s.hasPendingWrites?(t.addEntry(o),r=r.insert(n,o)):tv("LocalStore","Ignoring outdated watch update for ",n,". Current version:",s.version," Watch version:",o.version)})),{us:r,cs:i}}))}function mT(e,t){const n=av(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(e=>(void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t))))}function gT(e,t){const n=av(e);return n.persistence.runTransaction("Allocate target","readwrite",(e=>{let r;return n.qr.getTargetData(e,t).next((i=>i?(r=i,qv.resolve(r)):n.qr.allocateTargetId(e).next((i=>(r=new yE(t,i,"TargetPurposeListen",e.currentSequenceNumber),n.qr.addTargetData(e,r).next((()=>r)))))))})).then((e=>{const r=n.ts.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.ts=n.ts.insert(e.targetId,e),n.ns.set(t,e.targetId)),e}))}async function vT(e,t,n){const r=av(e),i=r.ts.get(t),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,(e=>r.persistence.referenceDelegate.removeTarget(e,i)))}catch(e){if(!Jv(e))throw e;tv("LocalStore","Failed to update sequence numbers for target ".concat(t,": ").concat(e))}r.ts=r.ts.remove(t),r.ns.delete(i.target)}function yT(e,t,n){const r=av(e);let i=Sv.min(),o=Ob();return r.persistence.runTransaction("Execute query","readwrite",(e=>function(e,t,n){const r=av(e),i=r.ns.get(n);return void 0!==i?qv.resolve(r.ts.get(i)):r.qr.getTargetData(t,n)}(r,e,hb(t)).next((t=>{if(t)return i=t.lastLimboFreeSnapshotVersion,r.qr.getMatchingKeysForTargetId(e,t.targetId).next((e=>{o=e}))})).next((()=>r.es.getDocumentsMatchingQuery(e,t,n?i:Sv.min(),n?o:Ob()))).next((e=>(_T(r,wb(t),e),{documents:e,ls:o})))))}function wT(e,t){const n=av(e),r=av(n.qr),i=n.ts.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(e=>r.ot(e,t).next((e=>e?e.target:null))))}function bT(e,t){const n=av(e),r=n.rs.get(t)||Sv.min();return n.persistence.runTransaction("Get new document changes","readonly",(e=>n.ss.getAllFromCollectionGroup(e,t,Mv(r,-1),Number.MAX_SAFE_INTEGER))).then((e=>(_T(n,t,e),e)))}function _T(e,t,n){let r=e.rs.get(t)||Sv.min();n.forEach(((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.rs.set(t,r)}async function ET(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Ob();const r=await gT(e,hb(CE(t.bundledQuery))),i=av(e);return i.persistence.runTransaction("Save named query","readwrite",(e=>{const o=G_(t.readTime);if(r.snapshotVersion.compareTo(o)>=0)return i.Kr.saveNamedQuery(e,t);const s=r.withResumeToken(Wy.EMPTY_BYTE_STRING,o);return i.ts=i.ts.insert(s.targetId,s),i.qr.updateTargetData(e,s).next((()=>i.qr.removeMatchingKeysForTargetId(e,r.targetId))).next((()=>i.qr.addMatchingKeys(e,n,r.targetId))).next((()=>i.Kr.saveNamedQuery(e,t)))}))}function IT(e,t){return"firestore_clients_".concat(e,"_").concat(t)}function TT(e,t,n){let r="firestore_mutations_".concat(e,"_").concat(n);return t.isAuthenticated()&&(r+="_".concat(t.uid)),r}function ST(e,t){return"firestore_targets_".concat(e,"_").concat(t)}class kT{constructor(e,t,n,r){this.user=e,this.batchId=t,this.state=n,this.error=r}static Ts(e,t,n){const r=JSON.parse(n);let i,o="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return o&&r.error&&(o="string"==typeof r.error.message&&"string"==typeof r.error.code,o&&(i=new lv(r.error.code,r.error.message))),o?new kT(e,t,r.state,i):(nv("SharedClientState","Failed to parse mutation state for ID '".concat(t,"': ").concat(n)),null)}Es(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class CT{constructor(e,t,n){this.targetId=e,this.state=t,this.error=n}static Ts(e,t){const n=JSON.parse(t);let r,i="object"==typeof n&&-1!==["not-current","current","rejected"].indexOf(n.state)&&(void 0===n.error||"object"==typeof n.error);return i&&n.error&&(i="string"==typeof n.error.message&&"string"==typeof n.error.code,i&&(r=new lv(n.error.code,n.error.message))),i?new CT(e,n.state,r):(nv("SharedClientState","Failed to parse target state for ID '".concat(e,"': ").concat(t)),null)}Es(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class xT{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Ts(e,t){const n=JSON.parse(t);let r="object"==typeof n&&n.activeTargetIds instanceof Array,i=Lb();for(let o=0;r&&o<n.activeTargetIds.length;++o)r=oy(n.activeTargetIds[o]),i=i.add(n.activeTargetIds[o]);return r?new xT(e,i):(nv("SharedClientState","Failed to parse client data for instance '".concat(e,"': ").concat(t)),null)}}class NT{constructor(e,t){this.clientId=e,this.onlineState=t}static Ts(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new NT(t.clientId,t.onlineState):(nv("SharedClientState","Failed to parse online state: ".concat(e)),null)}}class AT{constructor(){this.activeTargetIds=Lb()}ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}As(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Es(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class PT{constructor(e,t,n,r,i){this.window=e,this.si=t,this.persistenceKey=n,this.Rs=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Vs=this.fs.bind(this),this.gs=new jy(_v),this.started=!1,this.ps=[];const o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.ys=IT(this.persistenceKey,this.Rs),this.ws=function(e){return"firestore_sequence_number_".concat(e)}(this.persistenceKey),this.gs=this.gs.insert(this.Rs,new AT),this.Ss=new RegExp("^firestore_clients_".concat(o,"_([^_]*)$")),this.bs=new RegExp("^firestore_mutations_".concat(o,"_(\\d+)(?:_(.*))?$")),this.Ds=new RegExp("^firestore_targets_".concat(o,"_(\\d+)$")),this.Cs=function(e){return"firestore_online_state_".concat(e)}(this.persistenceKey),this.vs=function(e){return"firestore_bundle_loaded_v2_".concat(e)}(this.persistenceKey),this.window.addEventListener("storage",this.Vs)}static D(e){return!(!e||!e.localStorage)}async start(){const e=await this.syncEngine.Li();for(const n of e){if(n===this.Rs)continue;const e=this.getItem(IT(this.persistenceKey,n));if(e){const t=xT.Ts(n,e);t&&(this.gs=this.gs.insert(t.clientId,t))}}this.Fs();const t=this.storage.getItem(this.Cs);if(t){const e=this.Ms(t);e&&this.xs(e)}for(const n of this.ps)this.fs(n);this.ps=[],this.window.addEventListener("pagehide",(()=>this.shutdown())),this.started=!0}writeSequenceNumber(e){this.setItem(this.ws,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Os(this.gs)}isActiveQueryTarget(e){let t=!1;return this.gs.forEach(((n,r)=>{r.activeTargetIds.has(e)&&(t=!0)})),t}addPendingMutation(e){this.Ns(e,"pending")}updateMutationState(e,t,n){this.Ns(e,t,n),this.Ls(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const n=this.storage.getItem(ST(this.persistenceKey,e));if(n){const r=CT.Ts(e,n);r&&(t=r.state)}}return this.Bs.ds(e),this.Fs(),t}removeLocalQueryTarget(e){this.Bs.As(e),this.Fs()}isLocalQueryTarget(e){return this.Bs.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(ST(this.persistenceKey,e))}updateQueryState(e,t,n){this.ks(e,t,n)}handleUserChange(e,t,n){t.forEach((e=>{this.Ls(e)})),this.currentUser=e,n.forEach((e=>{this.addPendingMutation(e)}))}setOnlineState(e){this.qs(e)}notifyBundleLoaded(e){this.Qs(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Vs),this.removeItem(this.ys),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return tv("SharedClientState","READ",e,t),t}setItem(e,t){tv("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){tv("SharedClientState","REMOVE",e),this.storage.removeItem(e)}fs(e){const t=e;if(t.storageArea===this.storage){if(tv("SharedClientState","EVENT",t.key,t.newValue),t.key===this.ys)return void nv("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.si.enqueueRetryable((async()=>{if(this.started){if(null!==t.key)if(this.Ss.test(t.key)){if(null==t.newValue){const e=this.Ks(t.key);return this.$s(e,null)}{const e=this.Us(t.key,t.newValue);if(e)return this.$s(e.clientId,e)}}else if(this.bs.test(t.key)){if(null!==t.newValue){const e=this.Ws(t.key,t.newValue);if(e)return this.Gs(e)}}else if(this.Ds.test(t.key)){if(null!==t.newValue){const e=this.zs(t.key,t.newValue);if(e)return this.js(e)}}else if(t.key===this.Cs){if(null!==t.newValue){const e=this.Ms(t.newValue);if(e)return this.xs(e)}}else if(t.key===this.ws){const e=function(e){let t=ny.oe;if(null!=e)try{const n=JSON.parse(e);sv("number"==typeof n),t=n}catch(e){nv("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(t.newValue);e!==ny.oe&&this.sequenceNumberHandler(e)}else if(t.key===this.vs){const e=this.Hs(t.newValue);await Promise.all(e.map((e=>this.syncEngine.Js(e))))}}else this.ps.push(t)}))}}get Bs(){return this.gs.get(this.Rs)}Fs(){this.setItem(this.ys,this.Bs.Es())}Ns(e,t,n){const r=new kT(this.currentUser,e,t,n),i=TT(this.persistenceKey,this.currentUser,e);this.setItem(i,r.Es())}Ls(e){const t=TT(this.persistenceKey,this.currentUser,e);this.removeItem(t)}qs(e){const t={clientId:this.Rs,onlineState:e};this.storage.setItem(this.Cs,JSON.stringify(t))}ks(e,t,n){const r=ST(this.persistenceKey,e),i=new CT(e,t,n);this.setItem(r,i.Es())}Qs(e){const t=JSON.stringify(Array.from(e));this.setItem(this.vs,t)}Ks(e){const t=this.Ss.exec(e);return t?t[1]:null}Us(e,t){const n=this.Ks(e);return xT.Ts(n,t)}Ws(e,t){const n=this.bs.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return kT.Ts(new Yg(i),r,t)}zs(e,t){const n=this.Ds.exec(e),r=Number(n[1]);return CT.Ts(r,t)}Ms(e){return NT.Ts(e)}Hs(e){return JSON.parse(e)}async Gs(e){if(e.user.uid===this.currentUser.uid)return this.syncEngine.Ys(e.batchId,e.state,e.error);tv("SharedClientState","Ignoring mutation for non-active user ".concat(e.user.uid))}js(e){return this.syncEngine.Zs(e.targetId,e.state,e.error)}$s(e,t){const n=t?this.gs.insert(e,t):this.gs.remove(e),r=this.Os(this.gs),i=this.Os(n),o=[],s=[];return i.forEach((e=>{r.has(e)||o.push(e)})),r.forEach((e=>{i.has(e)||s.push(e)})),this.syncEngine.Xs(o,s).then((()=>{this.gs=n}))}xs(e){this.gs.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Os(e){let t=Lb();return e.forEach(((e,n)=>{t=t.unionWith(n.activeTargetIds)})),t}}class RT{constructor(){this.eo=new AT,this.no={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return this.eo.ds(e),this.no[e]||"not-current"}updateQueryState(e,t,n){this.no[e]=t}removeLocalQueryTarget(e){this.eo.As(e)}isLocalQueryTarget(e){return this.eo.activeTargetIds.has(e)}clearQueryState(e){delete this.no[e]}getAllActiveQueryTargets(){return this.eo.activeTargetIds}isActiveQueryTarget(e){return this.eo.activeTargetIds.has(e)}start(){return this.eo=new AT,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class OT{ro(e){}shutdown(){}}class DT{constructor(){this.io=()=>this.so(),this.oo=()=>this._o(),this.ao=[],this.uo()}ro(e){this.ao.push(e)}shutdown(){window.removeEventListener("online",this.io),window.removeEventListener("offline",this.oo)}uo(){window.addEventListener("online",this.io),window.addEventListener("offline",this.oo)}so(){tv("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ao)e(0)}_o(){tv("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ao)e(1)}static D(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let LT=null;function MT(){return null===LT?LT=268435456+Math.round(2147483648*Math.random()):LT++,"0x"+LT.toString(16)}const FT={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class UT{constructor(e){this.co=e.co,this.lo=e.lo}ho(e){this.Po=e}Io(e){this.To=e}Eo(e){this.Ao=e}onMessage(e){this.Ro=e}close(){this.lo()}send(e){this.co(e)}Vo(){this.Po()}mo(){this.To()}fo(e){this.Ao(e)}po(e){this.Ro(e)}}const jT="WebChannelConnection";class VT extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.yo=t+"://"+e.host,this.wo="projects/".concat(n,"/databases/").concat(r),this.So="(default)"===this.databaseId.database?"project_id=".concat(n):"project_id=".concat(n,"&database_id=").concat(r)}get bo(){return!1}Do(e,t,n,r,i){const o=MT(),s=this.Co(e,t.toUriEncodedString());tv("RestConnection","Sending RPC '".concat(e,"' ").concat(o,":"),s,n);const a={"google-cloud-resource-prefix":this.wo,"x-goog-request-params":this.So};return this.vo(a,r,i),this.Fo(e,s,a,n).then((t=>(tv("RestConnection","Received RPC '".concat(e,"' ").concat(o,": "),t),t)),(t=>{throw rv("RestConnection","RPC '".concat(e,"' ").concat(o," failed with error: "),t,"url: ",s,"request:",n),t}))}Mo(e,t,n,r,i,o){return this.Do(e,t,n,r,i)}vo(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+Xg,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((t,n)=>e[n]=t)),n&&n.headers.forEach(((t,n)=>e[n]=t))}Co(e,t){const n=FT[e];return"".concat(this.yo,"/v1/").concat(t,":").concat(n)}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Fo(e,t,n,r){const i=MT();return new Promise(((o,s)=>{const a=new Wg;a.setWithCredentials(!0),a.listenOnce(Bg.COMPLETE,(()=>{try{switch(a.getLastErrorCode()){case zg.NO_ERROR:const t=a.getResponseJson();tv(jT,"XHR for RPC '".concat(e,"' ").concat(i," received:"),JSON.stringify(t)),o(t);break;case zg.TIMEOUT:tv(jT,"RPC '".concat(e,"' ").concat(i," timed out")),s(new lv(cv.DEADLINE_EXCEEDED,"Request time out"));break;case zg.HTTP_ERROR:const n=a.getStatus();if(tv(jT,"RPC '".concat(e,"' ").concat(i," failed with status:"),n,"response text:",a.getResponseText()),n>0){let e=a.getResponseJson();Array.isArray(e)&&(e=e[0]);const t=null==e?void 0:e.error;if(t&&t.status&&t.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(cv).indexOf(t)>=0?t:cv.UNKNOWN}(t.status);s(new lv(e,t.message))}else s(new lv(cv.UNKNOWN,"Server responded with status "+a.getStatus()))}else s(new lv(cv.UNAVAILABLE,"Connection failed."));break;default:ov()}}finally{tv(jT,"RPC '".concat(e,"' ").concat(i," completed."))}}));const c=JSON.stringify(r);tv(jT,"RPC '".concat(e,"' ").concat(i," sending request:"),r),a.send(t,"POST",c,n,15)}))}xo(e,t,n){const r=MT(),i=[this.yo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=jg(),s=Vg(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;void 0!==c&&(a.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(a.xmlHttpFactory=new Hg({})),this.vo(a.initMessageHeaders,t,n),a.encodeInitMessageHeaders=!0;const l=i.join("");tv(jT,"Creating RPC '".concat(e,"' stream ").concat(r,": ").concat(l),a);const u=o.createWebChannel(l,a);let h=!1,d=!1;const f=new UT({co:t=>{d?tv(jT,"Not sending because RPC '".concat(e,"' stream ").concat(r," is closed:"),t):(h||(tv(jT,"Opening RPC '".concat(e,"' stream ").concat(r," transport.")),u.open(),h=!0),tv(jT,"RPC '".concat(e,"' stream ").concat(r," sending:"),t),u.send(t))},lo:()=>u.close()}),p=(e,t,n)=>{e.listen(t,(e=>{try{n(e)}catch(e){setTimeout((()=>{throw e}),0)}}))};return p(u,Gg.EventType.OPEN,(()=>{d||(tv(jT,"RPC '".concat(e,"' stream ").concat(r," transport opened.")),f.Vo())})),p(u,Gg.EventType.CLOSE,(()=>{d||(d=!0,tv(jT,"RPC '".concat(e,"' stream ").concat(r," transport closed")),f.fo())})),p(u,Gg.EventType.ERROR,(t=>{d||(d=!0,rv(jT,"RPC '".concat(e,"' stream ").concat(r," transport errored:"),t),f.fo(new lv(cv.UNAVAILABLE,"The operation could not be completed")))})),p(u,Gg.EventType.MESSAGE,(t=>{var n;if(!d){const i=t.data[0];sv(!!i);const o=i,s=o.error||(null===(n=o[0])||void 0===n?void 0:n.error);if(s){tv(jT,"RPC '".concat(e,"' stream ").concat(r," received error:"),s);const t=s.status;let n=function(e){const t=y_[e];if(void 0!==t)return __(t)}(t),i=s.message;void 0===n&&(n=cv.INTERNAL,i="Unknown error status: "+t+" with message "+s.message),d=!0,f.fo(new lv(n,i)),u.close()}else tv(jT,"RPC '".concat(e,"' stream ").concat(r," received:"),i),f.po(i)}})),p(s,qg.STAT_EVENT,(t=>{t.stat===Kg.PROXY?tv(jT,"RPC '".concat(e,"' stream ").concat(r," detected buffering proxy")):t.stat===Kg.NOPROXY&&tv(jT,"RPC '".concat(e,"' stream ").concat(r," detected no buffering proxy"))})),setTimeout((()=>{f.mo()}),0),f}}function zT(){return"undefined"!=typeof window?window:null}function BT(){return"undefined"!=typeof document?document:null}function qT(e){return new z_(e,!0)}class KT{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;this.si=e,this.timerId=t,this.Oo=n,this.No=r,this.Lo=i,this.Bo=0,this.ko=null,this.qo=Date.now(),this.reset()}reset(){this.Bo=0}Qo(){this.Bo=this.Lo}Ko(e){this.cancel();const t=Math.floor(this.Bo+this.$o()),n=Math.max(0,Date.now()-this.qo),r=Math.max(0,t-n);r>0&&tv("ExponentialBackoff","Backing off for ".concat(r," ms (base delay: ").concat(this.Bo," ms, delay with jitter: ").concat(t," ms, last attempt: ").concat(n," ms ago)")),this.ko=this.si.enqueueAfterDelay(this.timerId,r,(()=>(this.qo=Date.now(),e()))),this.Bo*=this.No,this.Bo<this.Oo&&(this.Bo=this.Oo),this.Bo>this.Lo&&(this.Bo=this.Lo)}Uo(){null!==this.ko&&(this.ko.skipDelay(),this.ko=null)}cancel(){null!==this.ko&&(this.ko.cancel(),this.ko=null)}$o(){return(Math.random()-.5)*this.Bo}}class HT{constructor(e,t,n,r,i,o,s,a){this.si=e,this.Wo=n,this.Go=r,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=s,this.listener=a,this.state=0,this.zo=0,this.jo=null,this.Ho=null,this.stream=null,this.Jo=new KT(e,t)}Yo(){return 1===this.state||5===this.state||this.Zo()}Zo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Xo()}async stop(){this.Yo()&&await this.close(0)}e_(){this.state=0,this.Jo.reset()}t_(){this.Zo()&&null===this.jo&&(this.jo=this.si.enqueueAfterDelay(this.Wo,6e4,(()=>this.n_())))}r_(e){this.i_(),this.stream.send(e)}async n_(){if(this.Zo())return this.close(0)}i_(){this.jo&&(this.jo.cancel(),this.jo=null)}s_(){this.Ho&&(this.Ho.cancel(),this.Ho=null)}async close(e,t){this.i_(),this.s_(),this.Jo.cancel(),this.zo++,4!==e?this.Jo.reset():t&&t.code===cv.RESOURCE_EXHAUSTED?(nv(t.toString()),nv("Using maximum backoff delay to prevent overloading the backend."),this.Jo.Qo()):t&&t.code===cv.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.o_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Eo(t)}o_(){}auth(){this.state=1;const e=this.__(this.zo),t=this.zo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((e=>{let[n,r]=e;this.zo===t&&this.a_(n,r)}),(t=>{e((()=>{const e=new lv(cv.UNKNOWN,"Fetching auth token failed: "+t.message);return this.u_(e)}))}))}a_(e,t){const n=this.__(this.zo);this.stream=this.c_(e,t),this.stream.ho((()=>{n((()=>this.listener.ho()))})),this.stream.Io((()=>{n((()=>(this.state=2,this.Ho=this.si.enqueueAfterDelay(this.Go,1e4,(()=>(this.Zo()&&(this.state=3),Promise.resolve()))),this.listener.Io())))})),this.stream.Eo((e=>{n((()=>this.u_(e)))})),this.stream.onMessage((e=>{n((()=>this.onMessage(e)))}))}Xo(){this.state=5,this.Jo.Ko((async()=>{this.state=0,this.start()}))}u_(e){return tv("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}__(e){return t=>{this.si.enqueueAndForget((()=>this.zo===e?t():(tv("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class GT extends HT{constructor(e,t,n,r,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,o),this.serializer=i}c_(e,t){return this.connection.xo("Listen",e,t)}onMessage(e){this.Jo.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:ov()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],o=function(e,t){return e.useProto3Json?(sv(void 0===t||"string"==typeof t),Wy.fromBase64String(t||"")):(sv(void 0===t||t instanceof Buffer||t instanceof Uint8Array),Wy.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),s=t.targetChange.cause,a=s&&function(e){const t=void 0===e.code?cv.UNKNOWN:__(e.code);return new lv(t,e.message||"")}(s);n=new O_(r,i,o,a||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=Y_(e,r.document.name),o=G_(r.document.updateTime),s=r.document.createTime?G_(r.document.createTime):Sv.min(),a=new Tw({mapValue:{fields:r.document.fields}}),c=kw.newFoundDocument(i,o,s,a),l=r.targetIds||[],u=r.removedTargetIds||[];n=new P_(l,u,c.key,c)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=Y_(e,r.document),o=r.readTime?G_(r.readTime):Sv.min(),s=kw.newNoDocument(i,o),a=r.removedTargetIds||[];n=new P_([],a,s.key,s)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=Y_(e,r.document),o=r.removedTargetIds||[];n=new P_([],o,i,null)}else{if(!("filter"in t))return ov();{t.filter;const e=t.filter;e.targetId;const{count:r=0,unchangedNames:i}=e,o=new v_(r,i),s=e.targetId;n=new R_(s,o)}}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return Sv.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?Sv.min():t.readTime?G_(t.readTime):Sv.min()}(e);return this.listener.l_(t,n)}h_(e){const t={};t.database=eE(this.serializer),t.addTarget=function(e,t){let n;const r=t.target;if(n=tb(r)?{documents:sE(e,r)}:{query:aE(e,r)._t},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=K_(e,t.resumeToken);const r=B_(e,t.expectedCount);null!==r&&(n.expectedCount=r)}else if(t.snapshotVersion.compareTo(Sv.min())>0){n.readTime=q_(e,t.snapshotVersion.toTimestamp());const r=B_(e,t.expectedCount);null!==r&&(n.expectedCount=r)}return n}(this.serializer,e);const n=function(e,t){const n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ov()}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.r_(t)}P_(e){const t={};t.database=eE(this.serializer),t.removeTarget=e,this.r_(t)}}class WT extends HT{constructor(e,t,n,r,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,o),this.serializer=i,this.I_=!1}get T_(){return this.I_}start(){this.I_=!1,this.lastStreamToken=void 0,super.start()}o_(){this.I_&&this.E_([])}c_(e,t){return this.connection.xo("Write",e,t)}onMessage(e){if(sv(!!e.streamToken),this.lastStreamToken=e.streamToken,this.I_){this.Jo.reset();const t=function(e,t){return e&&e.length>0?(sv(void 0!==t),e.map((e=>function(e,t){let n=e.updateTime?G_(e.updateTime):G_(t);return n.isEqual(Sv.min())&&(n=G_(t)),new Xb(n,e.transformResults||[])}(e,t)))):[]}(e.writeResults,e.commitTime),n=G_(e.commitTime);return this.listener.d_(n,t)}return sv(!e.writeResults||0===e.writeResults.length),this.I_=!0,this.listener.A_()}R_(){const e={};e.database=eE(this.serializer),this.r_(e)}E_(e){const t={streamToken:this.lastStreamToken,writes:e.map((e=>iE(this.serializer,e)))};this.r_(t)}}class QT extends class{}{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.V_=!1}m_(){if(this.V_)throw new lv(cv.FAILED_PRECONDITION,"The client has already been terminated.")}Do(e,t,n,r){return this.m_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((i=>{let[o,s]=i;return this.connection.Do(e,Q_(t,n),r,o,s)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===cv.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new lv(cv.UNKNOWN,e.toString())}))}Mo(e,t,n,r,i){return this.m_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((o=>{let[s,a]=o;return this.connection.Mo(e,Q_(t,n),r,s,a,i)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===cv.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new lv(cv.UNKNOWN,e.toString())}))}terminate(){this.V_=!0,this.connection.terminate()}}class JT{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.g_=0,this.p_=null,this.y_=!0}w_(){0===this.g_&&(this.S_("Unknown"),this.p_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.p_=null,this.b_("Backend didn't respond within 10 seconds."),this.S_("Offline"),Promise.resolve()))))}D_(e){"Online"===this.state?this.S_("Unknown"):(this.g_++,this.g_>=1&&(this.C_(),this.b_("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.S_("Offline")))}set(e){this.C_(),this.g_=0,"Online"===e&&(this.y_=!1),this.S_(e)}S_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}b_(e){const t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.y_?(nv(t),this.y_=!1):tv("OnlineStateTracker",t)}C_(){null!==this.p_&&(this.p_.cancel(),this.p_=null)}}class $T{constructor(e,t,n,r,i){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.v_=[],this.F_=new Map,this.M_=new Set,this.x_=[],this.O_=i,this.O_.ro((e=>{n.enqueueAndForget((async()=>{oS(this)&&(tv("RemoteStore","Restarting streams for network reachability change."),await async function(e){const t=av(e);t.M_.add(4),await XT(t),t.N_.set("Unknown"),t.M_.delete(4),await YT(t)}(this))}))})),this.N_=new JT(n,r)}}async function YT(e){if(oS(e))for(const t of e.x_)await t(!0)}async function XT(e){for(const t of e.x_)await t(!1)}function ZT(e,t){const n=av(e);n.F_.has(t.targetId)||(n.F_.set(t.targetId,t),iS(n)?rS(n):TS(n).Zo()&&tS(n,t))}function eS(e,t){const n=av(e),r=TS(n);n.F_.delete(t),r.Zo()&&nS(n,t),0===n.F_.size&&(r.Zo()?r.t_():oS(n)&&n.N_.set("Unknown"))}function tS(e,t){if(e.L_.xe(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Sv.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}TS(e).h_(t)}function nS(e,t){e.L_.xe(t),TS(e).P_(t)}function rS(e){e.L_=new L_({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),ot:t=>e.F_.get(t)||null,tt:()=>e.datastore.serializer.databaseId}),TS(e).start(),e.N_.w_()}function iS(e){return oS(e)&&!TS(e).Yo()&&e.F_.size>0}function oS(e){return 0===av(e).M_.size}function sS(e){e.L_=void 0}async function aS(e){e.N_.set("Online")}async function cS(e){e.F_.forEach(((t,n)=>{tS(e,t)}))}async function lS(e,t){sS(e),iS(e)?(e.N_.D_(t),rS(e)):e.N_.set("Unknown")}async function uS(e,t,n){if(e.N_.set("Online"),t instanceof O_&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e.F_.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.F_.delete(r),e.L_.removeTarget(r))}(e,t)}catch(n){tv("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),n),await hS(e,n)}else if(t instanceof P_?e.L_.Ke(t):t instanceof R_?e.L_.He(t):e.L_.We(t),!n.isEqual(Sv.min()))try{const t=await fT(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.L_.rt(t);return n.targetChanges.forEach(((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const i=e.F_.get(r);i&&e.F_.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach(((t,n)=>{const r=e.F_.get(t);if(!r)return;e.F_.set(t,r.withResumeToken(Wy.EMPTY_BYTE_STRING,r.snapshotVersion)),nS(e,t);const i=new yE(r.target,t,n,r.sequenceNumber);tS(e,i)})),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){tv("RemoteStore","Failed to raise snapshot:",t),await hS(e,t)}}async function hS(e,t,n){if(!Jv(t))throw t;e.M_.add(1),await XT(e),e.N_.set("Offline"),n||(n=()=>fT(e.localStore)),e.asyncQueue.enqueueRetryable((async()=>{tv("RemoteStore","Retrying IndexedDB access"),await n(),e.M_.delete(1),await YT(e)}))}function dS(e,t){return t().catch((n=>hS(e,n,t)))}async function fS(e){const t=av(e),n=SS(t);let r=t.v_.length>0?t.v_[t.v_.length-1].batchId:-1;for(;pS(t);)try{const e=await mT(t.localStore,r);if(null===e){0===t.v_.length&&n.t_();break}r=e.batchId,mS(t,e)}catch(e){await hS(t,e)}gS(t)&&vS(t)}function pS(e){return oS(e)&&e.v_.length<10}function mS(e,t){e.v_.push(t);const n=SS(e);n.Zo()&&n.T_&&n.E_(t.mutations)}function gS(e){return oS(e)&&!SS(e).Yo()&&e.v_.length>0}function vS(e){SS(e).start()}async function yS(e){SS(e).R_()}async function wS(e){const t=SS(e);for(const n of e.v_)t.E_(n.mutations)}async function bS(e,t,n){const r=e.v_.shift(),i=m_.from(r,t,n);await dS(e,(()=>e.remoteSyncer.applySuccessfulWrite(i))),await fS(e)}async function _S(e,t){t&&SS(e).T_&&await async function(e,t){if(function(e){return b_(e)&&e!==cv.ABORTED}(t.code)){const n=e.v_.shift();SS(e).e_(),await dS(e,(()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t))),await fS(e)}}(e,t),gS(e)&&vS(e)}async function ES(e,t){const n=av(e);n.asyncQueue.verifyOperationInProgress(),tv("RemoteStore","RemoteStore received new credentials");const r=oS(n);n.M_.add(3),await XT(n),r&&n.N_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.M_.delete(3),await YT(n)}async function IS(e,t){const n=av(e);t?(n.M_.delete(2),await YT(n)):t||(n.M_.add(2),await XT(n),n.N_.set("Unknown"))}function TS(e){return e.B_||(e.B_=function(e,t,n){const r=av(e);return r.m_(),new GT(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{ho:aS.bind(null,e),Io:cS.bind(null,e),Eo:lS.bind(null,e),l_:uS.bind(null,e)}),e.x_.push((async t=>{t?(e.B_.e_(),iS(e)?rS(e):e.N_.set("Unknown")):(await e.B_.stop(),sS(e))}))),e.B_}function SS(e){return e.k_||(e.k_=function(e,t,n){const r=av(e);return r.m_(),new WT(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{ho:()=>Promise.resolve(),Io:yS.bind(null,e),Eo:_S.bind(null,e),A_:wS.bind(null,e),d_:bS.bind(null,e)}),e.x_.push((async t=>{t?(e.k_.e_(),await fS(e)):(await e.k_.stop(),e.v_.length>0&&(tv("RemoteStore","Stopping write stream with ".concat(e.v_.length," pending writes")),e.v_=[]))}))),e.k_}class kS{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new uv,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((e=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,r,i){const o=Date.now()+n,s=new kS(e,t,o,r,i);return s.start(n),s}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new lv(cv.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function CS(e,t){if(nv("AsyncQueue","".concat(t,": ").concat(e)),Jv(e))return new lv(cv.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}class xS{constructor(e){this.comparator=e?(t,n)=>e(t,n)||Av.comparator(t.key,n.key):(e,t)=>Av.comparator(e.key,t.key),this.keyedMap=kb(),this.sortedSet=new jy(this.comparator)}static emptySet(e){return new xS(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,n)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof xS))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new xS;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class NS{constructor(){this.q_=new jy(Av.comparator)}track(e){const t=e.doc.key,n=this.q_.get(t);n?0!==e.type&&3===n.type?this.q_=this.q_.insert(t,e):3===e.type&&1!==n.type?this.q_=this.q_.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.q_=this.q_.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.q_=this.q_.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.q_=this.q_.remove(t):1===e.type&&2===n.type?this.q_=this.q_.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.q_=this.q_.insert(t,{type:2,doc:e.doc}):ov():this.q_=this.q_.insert(t,e)}Q_(){const e=[];return this.q_.inorderTraversal(((t,n)=>{e.push(n)})),e}}class AS{constructor(e,t,n,r,i,o,s,a,c){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=a,this.hasCachedResults=c}static fromInitialDocuments(e,t,n,r,i){const o=[];return t.forEach((e=>{o.push({type:0,doc:e})})),new AS(e,t,xS.emptySet(t),o,n,r,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&mb(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}class PS{constructor(){this.K_=void 0,this.U_=[]}W_(){return this.U_.some((e=>e.G_()))}}class RS{constructor(){this.queries=new Eb((e=>gb(e)),mb),this.onlineState="Unknown",this.z_=new Set}}async function OS(e,t){const n=av(e);let r=3;const i=t.query;let o=n.queries.get(i);o?!o.W_()&&t.G_()&&(r=2):(o=new PS,r=t.G_()?0:1);try{switch(r){case 0:o.K_=await n.onListen(i,!0);break;case 1:o.K_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(e){const n=CS(e,"Initialization of query '".concat(vb(t.query),"' failed"));return void t.onError(n)}n.queries.set(i,o),o.U_.push(t),t.j_(n.onlineState),o.K_&&t.H_(o.K_)&&FS(n)}async function DS(e,t){const n=av(e),r=t.query;let i=3;const o=n.queries.get(r);if(o){const e=o.U_.indexOf(t);e>=0&&(o.U_.splice(e,1),0===o.U_.length?i=t.G_()?0:1:!o.W_()&&t.G_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function LS(e,t){const n=av(e);let r=!1;for(const i of t){const e=i.query,t=n.queries.get(e);if(t){for(const e of t.U_)e.H_(i)&&(r=!0);t.K_=i}}r&&FS(n)}function MS(e,t,n){const r=av(e),i=r.queries.get(t);if(i)for(const o of i.U_)o.onError(n);r.queries.delete(t)}function FS(e){e.z_.forEach((e=>{e.next()}))}var US,jS;(jS=US||(US={})).J_="default",jS.Cache="cache";class VS{constructor(e,t,n){this.query=e,this.Y_=t,this.Z_=!1,this.X_=null,this.onlineState="Unknown",this.options=n||{}}H_(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new AS(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Z_?this.ea(e)&&(this.Y_.next(e),t=!0):this.ta(e,this.onlineState)&&(this.na(e),t=!0),this.X_=e,t}onError(e){this.Y_.error(e)}j_(e){this.onlineState=e;let t=!1;return this.X_&&!this.Z_&&this.ta(this.X_,e)&&(this.na(this.X_),t=!0),t}ta(e,t){if(!e.fromCache)return!0;if(!this.G_())return!0;const n="Offline"!==t;return(!this.options.ra||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}ea(e){if(e.docChanges.length>0)return!0;const t=this.X_&&this.X_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}na(e){e=AS.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Z_=!0,this.Y_.next(e)}G_(){return this.options.source!==US.Cache}}class zS{constructor(e,t){this.ia=e,this.byteLength=t}sa(){return"metadata"in this.ia}}class BS{constructor(e){this.serializer=e}hs(e){return Y_(this.serializer,e)}Ps(e){return e.metadata.exists?rE(this.serializer,e.document,!1):kw.newNoDocument(this.hs(e.metadata.name),this.Is(e.metadata.readTime))}Is(e){return G_(e)}}class qS{constructor(e,t,n){this.oa=e,this.localStore=t,this.serializer=n,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=KS(e)}_a(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.ia.namedQuery)this.queries.push(e.ia.namedQuery);else if(e.ia.documentMetadata){this.documents.push({metadata:e.ia.documentMetadata}),e.ia.documentMetadata.exists||++t;const n=Cv.fromString(e.ia.documentMetadata.name);this.collectionGroups.add(n.get(n.length-2))}else e.ia.document&&(this.documents[this.documents.length-1].document=e.ia.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}aa(e){const t=new Map,n=new BS(this.serializer);for(const r of e)if(r.metadata.queries){const e=n.hs(r.metadata.name);for(const n of r.metadata.queries){const r=(t.get(n)||Ob()).add(e);t.set(n,r)}}return t}async complete(){const e=await async function(e,t,n,r){const i=av(e);let o=Ob(),s=Tb();for(const l of n){const e=t.hs(l.metadata.name);l.document&&(o=o.add(e));const n=t.Ps(l);n.setReadTime(t.Is(l.metadata.readTime)),s=s.insert(e,n)}const a=i.ss.newChangeBuffer({trackRemovals:!0}),c=await gT(i,function(e){return hb(ab(Cv.fromString("__bundle__/docs/".concat(e))))}(r));return i.persistence.runTransaction("Apply bundle documents","readwrite",(e=>pT(e,a,s).next((t=>(a.apply(e),t))).next((t=>i.qr.removeMatchingKeysForTargetId(e,c.targetId).next((()=>i.qr.addMatchingKeys(e,o,c.targetId))).next((()=>i.localDocuments.getLocalViewOfDocuments(e,t.us,t.cs))).next((()=>t.us))))))}(this.localStore,new BS(this.serializer),this.documents,this.oa.id),t=this.aa(this.documents);for(const n of this.queries)await ET(this.localStore,n,t.get(n.name));return this.progress.taskState="Success",{progress:this.progress,ua:this.collectionGroups,ca:e}}}function KS(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}class HS{constructor(e){this.key=e}}class GS{constructor(e){this.key=e}}class WS{constructor(e,t){this.query=e,this.la=t,this.ha=null,this.hasCachedResults=!1,this.current=!1,this.Pa=Ob(),this.mutatedKeys=Ob(),this.Ia=bb(e),this.Ta=new xS(this.Ia)}get Ea(){return this.la}da(e,t){const n=t?t.Aa:new NS,r=t?t.Ta:this.Ta;let i=t?t.mutatedKeys:this.mutatedKeys,o=r,s=!1;const a="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,c="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal(((e,t)=>{const l=r.get(e),u=yb(this.query,t)?t:null,h=!!l&&this.mutatedKeys.has(l.key),d=!!u&&(u.hasLocalMutations||this.mutatedKeys.has(u.key)&&u.hasCommittedMutations);let f=!1;l&&u?l.data.isEqual(u.data)?h!==d&&(n.track({type:3,doc:u}),f=!0):this.Ra(l,u)||(n.track({type:2,doc:u}),f=!0,(a&&this.Ia(u,a)>0||c&&this.Ia(u,c)<0)&&(s=!0)):!l&&u?(n.track({type:0,doc:u}),f=!0):l&&!u&&(n.track({type:1,doc:l}),f=!0,(a||c)&&(s=!0)),f&&(u?(o=o.add(u),i=d?i.add(e):i.delete(e)):(o=o.delete(e),i=i.delete(e)))})),null!==this.query.limit)for(;o.size>this.query.limit;){const e="F"===this.query.limitType?o.last():o.first();o=o.delete(e.key),i=i.delete(e.key),n.track({type:1,doc:e})}return{Ta:o,Aa:n,Zi:s,mutatedKeys:i}}Ra(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,r){const i=this.Ta;this.Ta=e.Ta,this.mutatedKeys=e.mutatedKeys;const o=e.Aa.Q_();o.sort(((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ov()}};return n(e)-n(t)}(e.type,t.type)||this.Ia(e.doc,t.doc))),this.Va(n),r=null!=r&&r;const s=t&&!r?this.ma():[],a=0===this.Pa.size&&this.current&&!r?1:0,c=a!==this.ha;return this.ha=a,0!==o.length||c?{snapshot:new AS(this.query,e.Ta,i,o,e.mutatedKeys,0===a,c,!1,!!n&&n.resumeToken.approximateByteSize()>0),fa:s}:{fa:s}}j_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Ta:this.Ta,Aa:new NS,mutatedKeys:this.mutatedKeys,Zi:!1},!1)):{fa:[]}}ga(e){return!this.la.has(e)&&!!this.Ta.has(e)&&!this.Ta.get(e).hasLocalMutations}Va(e){e&&(e.addedDocuments.forEach((e=>this.la=this.la.add(e))),e.modifiedDocuments.forEach((e=>{})),e.removedDocuments.forEach((e=>this.la=this.la.delete(e))),this.current=e.current)}ma(){if(!this.current)return[];const e=this.Pa;this.Pa=Ob(),this.Ta.forEach((e=>{this.ga(e.key)&&(this.Pa=this.Pa.add(e.key))}));const t=[];return e.forEach((e=>{this.Pa.has(e)||t.push(new GS(e))})),this.Pa.forEach((n=>{e.has(n)||t.push(new HS(n))})),t}pa(e){this.la=e.ls,this.Pa=Ob();const t=this.da(e.documents);return this.applyChanges(t,!0)}ya(){return AS.fromInitialDocuments(this.query,this.Ta,this.mutatedKeys,0===this.ha,this.hasCachedResults)}}class QS{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class JS{constructor(e){this.key=e,this.wa=!1}}class $S{constructor(e,t,n,r,i,o){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.Sa={},this.ba=new Eb((e=>gb(e)),mb),this.Da=new Map,this.Ca=new Set,this.va=new jy(Av.comparator),this.Fa=new Map,this.Ma=new HI,this.xa={},this.Oa=new Map,this.Na=bI.Nn(),this.onlineState="Unknown",this.La=void 0}get isPrimaryClient(){return!0===this.La}}async function YS(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r=kk(e);let i;const o=r.ba.get(t);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.ya()):i=await ZS(r,t,n,!0),i}async function XS(e,t){const n=kk(e);await ZS(n,t,!0,!1)}async function ZS(e,t,n,r){const i=await gT(e.localStore,hb(t)),o=i.targetId,s=n?e.sharedClientState.addLocalQueryTarget(o):"not-current";let a;return r&&(a=await ek(e,t,o,"current"===s,i.resumeToken)),e.isPrimaryClient&&n&&ZT(e.remoteStore,i),a}async function ek(e,t,n,r,i){e.Ba=(t,n,r)=>async function(e,t,n,r){let i=t.view.da(n);i.Zi&&(i=await yT(e.localStore,t.query,!1).then((e=>{let{documents:n}=e;return t.view.da(n,i)})));const o=r&&r.targetChanges.get(t.targetId),s=r&&null!=r.targetMismatches.get(t.targetId),a=t.view.applyChanges(i,e.isPrimaryClient,o,s);return dk(e,t.targetId,a.fa),a.snapshot}(e,t,n,r);const o=await yT(e.localStore,t,!0),s=new WS(t,o.ls),a=s.da(o.documents),c=A_.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState,i),l=s.applyChanges(a,e.isPrimaryClient,c);dk(e,n,l.fa);const u=new QS(t,n,s);return e.ba.set(t,u),e.Da.has(n)?e.Da.get(n).push(t):e.Da.set(n,[t]),l.snapshot}async function tk(e,t,n){const r=av(e),i=r.ba.get(t),o=r.Da.get(i.targetId);if(o.length>1)return r.Da.set(i.targetId,o.filter((e=>!mb(e,t)))),void r.ba.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await vT(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),n&&eS(r.remoteStore,i.targetId),uk(r,i.targetId)})).catch(Bv)):(uk(r,i.targetId),await vT(r.localStore,i.targetId,!0))}async function nk(e,t){const n=av(e),r=n.ba.get(t),i=n.Da.get(r.targetId);n.isPrimaryClient&&1===i.length&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),eS(n.remoteStore,r.targetId))}async function rk(e,t){const n=av(e);try{const e=await function(e,t){const n=av(e),r=t.snapshotVersion;let i=n.ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(e=>{const o=n.ss.newChangeBuffer({trackRemovals:!0});i=n.ts;const s=[];t.targetChanges.forEach(((o,a)=>{const c=i.get(a);if(!c)return;s.push(n.qr.removeMatchingKeys(e,o.removedDocuments,a).next((()=>n.qr.addMatchingKeys(e,o.addedDocuments,a))));let l=c.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(a)?l=l.withResumeToken(Wy.EMPTY_BYTE_STRING,Sv.min()).withLastLimboFreeSnapshotVersion(Sv.min()):o.resumeToken.approximateByteSize()>0&&(l=l.withResumeToken(o.resumeToken,r)),i=i.insert(a,l),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(c,l,o)&&s.push(n.qr.updateTargetData(e,l))}));let a=Tb(),c=Ob();if(t.documentUpdates.forEach((r=>{t.resolvedLimboDocuments.has(r)&&s.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),s.push(pT(e,o,t.documentUpdates).next((e=>{a=e.us,c=e.cs}))),!r.isEqual(Sv.min())){const t=n.qr.getLastRemoteSnapshotVersion(e).next((t=>n.qr.setTargetsMetadata(e,e.currentSequenceNumber,r)));s.push(t)}return qv.waitFor(s).next((()=>o.apply(e))).next((()=>n.localDocuments.getLocalViewOfDocuments(e,a,c))).next((()=>a))})).then((e=>(n.ts=i,e)))}(n.localStore,t);t.targetChanges.forEach(((e,t)=>{const r=n.Fa.get(t);r&&(sv(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?r.wa=!0:e.modifiedDocuments.size>0?sv(r.wa):e.removedDocuments.size>0&&(sv(r.wa),r.wa=!1))})),await mk(n,e,t)}catch(e){await Bv(e)}}function ik(e,t,n){const r=av(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.ba.forEach(((n,r)=>{const i=r.view.j_(t);i.snapshot&&e.push(i.snapshot)})),function(e,t){const n=av(e);n.onlineState=t;let r=!1;n.queries.forEach(((e,n)=>{for(const i of n.U_)i.j_(t)&&(r=!0)})),r&&FS(n)}(r.eventManager,t),e.length&&r.Sa.l_(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function ok(e,t,n){const r=av(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.Fa.get(t),o=i&&i.key;if(o){let e=new jy(Av.comparator);e=e.insert(o,kw.newNoDocument(o,Sv.min()));const n=Ob().add(o),i=new N_(Sv.min(),new Map,new jy(_v),e,n);await rk(r,i),r.va=r.va.remove(o),r.Fa.delete(t),pk(r)}else await vT(r.localStore,t,!1).then((()=>uk(r,t,n))).catch(Bv)}async function sk(e,t){const n=av(e),r=t.batch.batchId;try{const e=await function(e,t){const n=av(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(e=>{const r=t.batch.keys(),i=n.ss.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const i=n.batch,o=i.keys();let s=qv.resolve();return o.forEach((e=>{s=s.next((()=>r.getEntry(t,e))).next((t=>{const o=n.docVersions.get(e);sv(null!==o),t.version.compareTo(o)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),s.next((()=>e.mutationQueue.removeMutationBatch(t,i)))}(n,e,t,i).next((()=>i.apply(e))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=Ob();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t)))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(n.localStore,t);lk(n,r,null),ck(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await mk(n,e)}catch(e){await Bv(e)}}async function ak(e,t,n){const r=av(e);try{const e=await function(e,t){const n=av(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(e=>{let r;return n.mutationQueue.lookupMutationBatch(e,t).next((t=>(sv(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(r.localStore,t);lk(r,t,n),ck(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await mk(r,e)}catch(n){await Bv(n)}}function ck(e,t){(e.Oa.get(t)||[]).forEach((e=>{e.resolve()})),e.Oa.delete(t)}function lk(e,t,n){const r=av(e);let i=r.xa[r.currentUser.toKey()];if(i){const e=i.get(t);e&&(n?e.reject(n):e.resolve(),i=i.remove(t)),r.xa[r.currentUser.toKey()]=i}}function uk(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.Da.get(t))e.ba.delete(r),n&&e.Sa.ka(r,n);e.Da.delete(t),e.isPrimaryClient&&e.Ma.Rr(t).forEach((t=>{e.Ma.containsKey(t)||hk(e,t)}))}function hk(e,t){e.Ca.delete(t.path.canonicalString());const n=e.va.get(t);null!==n&&(eS(e.remoteStore,n),e.va=e.va.remove(t),e.Fa.delete(n),pk(e))}function dk(e,t,n){for(const r of n)r instanceof HS?(e.Ma.addReference(r.key,t),fk(e,r)):r instanceof GS?(tv("SyncEngine","Document no longer in limbo: "+r.key),e.Ma.removeReference(r.key,t),e.Ma.containsKey(r.key)||hk(e,r.key)):ov()}function fk(e,t){const n=t.key,r=n.path.canonicalString();e.va.get(n)||e.Ca.has(r)||(tv("SyncEngine","New document in limbo: "+n),e.Ca.add(r),pk(e))}function pk(e){for(;e.Ca.size>0&&e.va.size<e.maxConcurrentLimboResolutions;){const t=e.Ca.values().next().value;e.Ca.delete(t);const n=new Av(Cv.fromString(t)),r=e.Na.next();e.Fa.set(r,new JS(n)),e.va=e.va.insert(n,r),ZT(e.remoteStore,new yE(hb(ab(n.path)),r,"TargetPurposeLimboResolution",ny.oe))}}async function mk(e,t,n){const r=av(e),i=[],o=[],s=[];r.ba.isEmpty()||(r.ba.forEach(((e,a)=>{s.push(r.Ba(a,t,n).then((e=>{if((e||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(a.targetId,(null==e?void 0:e.fromCache)?"not-current":"current"),e){i.push(e);const t=aT.Qi(a.targetId,e);o.push(t)}})))})),await Promise.all(s),r.Sa.l_(i),await async function(e,t){const n=av(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(e=>qv.forEach(t,(t=>qv.forEach(t.ki,(r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r))).next((()=>qv.forEach(t.qi,(r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))))))}catch(e){if(!Jv(e))throw e;tv("LocalStore","Failed to update sequence numbers: "+e)}for(const r of t){const e=r.targetId;if(!r.fromCache){const t=n.ts.get(e),r=t.snapshotVersion,i=t.withLastLimboFreeSnapshotVersion(r);n.ts=n.ts.insert(e,i)}}}(r.localStore,o))}async function gk(e,t){const n=av(e);if(!n.currentUser.isEqual(t)){tv("SyncEngine","User change. New user:",t.toKey());const e=await dT(n.localStore,t);n.currentUser=t,function(e,t){e.Oa.forEach((e=>{e.forEach((e=>{e.reject(new lv(cv.CANCELLED,t))}))})),e.Oa.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await mk(n,e._s)}}function vk(e,t){const n=av(e),r=n.Fa.get(t);if(r&&r.wa)return Ob().add(r.key);{let e=Ob();const r=n.Da.get(t);if(!r)return e;for(const t of r){const r=n.ba.get(t);e=e.unionWith(r.view.Ea)}return e}}async function yk(e,t){const n=av(e),r=await yT(n.localStore,t.query,!0),i=t.view.pa(r);return n.isPrimaryClient&&dk(n,t.targetId,i.fa),i}async function wk(e,t){const n=av(e);return bT(n.localStore,t).then((e=>mk(n,e)))}async function bk(e,t,n,r){const i=av(e),o=await function(e,t){const n=av(e),r=av(n.mutationQueue);return n.persistence.runTransaction("Lookup mutation documents","readonly",(e=>r.Cn(e,t).next((t=>t?n.localDocuments.getDocuments(e,t):qv.resolve(null)))))}(i.localStore,t);null!==o?("pending"===n?await fS(i.remoteStore):"acknowledged"===n||"rejected"===n?(lk(i,t,r||null),ck(i,t),function(e,t){av(av(e).mutationQueue).Fn(t)}(i.localStore,t)):ov(),await mk(i,o)):tv("SyncEngine","Cannot apply mutation batch with id: "+t)}async function _k(e,t,n){const r=av(e),i=[],o=[];for(const s of t){let e;const t=r.Da.get(s);if(t&&0!==t.length){e=await gT(r.localStore,hb(t[0]));for(const e of t){const t=r.ba.get(e),n=await yk(r,t);n.snapshot&&o.push(n.snapshot)}}else{const t=await wT(r.localStore,s);e=await gT(r.localStore,t),await ek(r,Ek(t),s,!1,e.resumeToken)}i.push(e)}return r.Sa.l_(o),i}function Ek(e){return sb(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function Ik(e){return function(e){return av(av(e).persistence).Li()}(av(e).localStore)}async function Tk(e,t,n,r){const i=av(e);if(i.La)return void tv("SyncEngine","Ignoring unexpected query state notification.");const o=i.Da.get(t);if(o&&o.length>0)switch(n){case"current":case"not-current":{const e=await bT(i.localStore,wb(o[0])),r=N_.createSynthesizedRemoteEventForCurrentChange(t,"current"===n,Wy.EMPTY_BYTE_STRING);await mk(i,e,r);break}case"rejected":await vT(i.localStore,t,!0),uk(i,t,r);break;default:ov()}}async function Sk(e,t,n){const r=kk(e);if(r.La){for(const e of t){if(r.Da.has(e)&&r.sharedClientState.isActiveQueryTarget(e)){tv("SyncEngine","Adding an already active target "+e);continue}const t=await wT(r.localStore,e),n=await gT(r.localStore,t);await ek(r,Ek(t),n.targetId,!1,n.resumeToken),ZT(r.remoteStore,n)}for(const e of n)r.Da.has(e)&&await vT(r.localStore,e,!1).then((()=>{eS(r.remoteStore,e),uk(r,e)})).catch(Bv)}}function kk(e){const t=av(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=rk.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=vk.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=ok.bind(null,t),t.Sa.l_=LS.bind(null,t.eventManager),t.Sa.ka=MS.bind(null,t.eventManager),t}function Ck(e){const t=av(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=sk.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=ak.bind(null,t),t}class xk{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=qT(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return hT(this.persistence,new lT,e.initialUser,this.serializer)}createPersistence(e){return new YI(ZI.jr,this.serializer)}createSharedClientState(e){return new RT}async terminate(){var e,t;null===(e=this.gcScheduler)||void 0===e||e.stop(),null===(t=this.indexBackfillerScheduler)||void 0===t||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class Nk extends xk{constructor(e,t,n){super(),this.Qa=e,this.cacheSizeBytes=t,this.forceOwnership=n,this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.Qa.initialize(this,e),await Ck(this.Qa.syncEngine),await fS(this.Qa.remoteStore),await this.persistence.mi((()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve())))}createLocalStore(e){return hT(this.persistence,new lT,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,t){const n=this.persistence.referenceDelegate.garbageCollector;return new CI(n,e.asyncQueue,t)}createIndexBackfillerScheduler(e,t){const n=new ty(t,this.persistence);return new ey(e.asyncQueue,n)}createPersistence(e){const t=sT(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?dI.withCacheSize(this.cacheSizeBytes):dI.DEFAULT;return new rT(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,zT(),BT(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new RT}}class Ak extends Nk{constructor(e,t){super(e,t,!1),this.Qa=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}async initialize(e){await super.initialize(e);const t=this.Qa.syncEngine;this.sharedClientState instanceof PT&&(this.sharedClientState.syncEngine={Ys:bk.bind(null,t),Zs:Tk.bind(null,t),Xs:Sk.bind(null,t),Li:Ik.bind(null,t),Js:wk.bind(null,t)},await this.sharedClientState.start()),await this.persistence.mi((async e=>{await async function(e,t){const n=av(e);if(kk(n),Ck(n),!0===t&&!0!==n.La){const e=n.sharedClientState.getAllActiveQueryTargets(),t=await _k(n,e.toArray());n.La=!0,await IS(n.remoteStore,!0);for(const r of t)ZT(n.remoteStore,r)}else if(!1===t&&!1!==n.La){const e=[];let t=Promise.resolve();n.Da.forEach(((r,i)=>{n.sharedClientState.isLocalQueryTarget(i)?e.push(i):t=t.then((()=>(uk(n,i),vT(n.localStore,i,!0)))),eS(n.remoteStore,i)})),await t,await _k(n,e),function(e){const t=av(e);t.Fa.forEach(((e,n)=>{eS(t.remoteStore,n)})),t.Ma.Vr(),t.Fa=new Map,t.va=new jy(Av.comparator)}(n),n.La=!1,await IS(n.remoteStore,!1)}}(this.Qa.syncEngine,e),this.gcScheduler&&(e&&!this.gcScheduler.started?this.gcScheduler.start():e||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(e&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():e||this.indexBackfillerScheduler.stop())}))}createSharedClientState(e){const t=zT();if(!PT.D(t))throw new lv(cv.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const n=sT(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new PT(t,e.asyncQueue,n,e.clientId,e.initialUser)}}class Pk{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>ik(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=gk.bind(null,this.syncEngine),await IS(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new RS}createDatastore(e){const t=qT(e.databaseInfo.databaseId),n=function(e){return new VT(e)}(e.databaseInfo);return function(e,t,n,r){return new QT(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return function(e,t,n,r,i){return new $T(e,t,n,r,i)}(this.localStore,this.datastore,e.asyncQueue,(e=>ik(this.syncEngine,e,0)),DT.D()?new DT:new OT)}createSyncEngine(e,t){return function(e,t,n,r,i,o,s){const a=new $S(e,t,n,r,i,o);return s&&(a.La=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e;await async function(e){const t=av(e);tv("RemoteStore","RemoteStore shutting down."),t.M_.add(5),await XT(t),t.O_.shutdown(),t.N_.set("Unknown")}(this.remoteStore),null===(e=this.datastore)||void 0===e||e.terminate()}}function Rk(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10240,n=0;return{async read(){if(n<e.byteLength){const r={value:e.slice(n,n+t),done:!1};return n+=t,r}return{done:!0}},async cancel(){},releaseLock(){},closed:Promise.resolve()}}class Ok{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ka(this.observer.next,e)}error(e){this.observer.error?this.Ka(this.observer.error,e):nv("Uncaught Error in snapshot listener:",e.toString())}$a(){this.muted=!0}Ka(e,t){this.muted||setTimeout((()=>{this.muted||e(t)}),0)}}class Dk{constructor(e,t){this.Ua=e,this.serializer=t,this.metadata=new uv,this.buffer=new Uint8Array,this.Wa=new TextDecoder("utf-8"),this.Ga().then((e=>{e&&e.sa()?this.metadata.resolve(e.ia.metadata):this.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             ".concat(JSON.stringify(null==e?void 0:e.ia))))}),(e=>this.metadata.reject(e)))}close(){return this.Ua.cancel()}async getMetadata(){return this.metadata.promise}async qa(){return await this.getMetadata(),this.Ga()}async Ga(){const e=await this.za();if(null===e)return null;const t=this.Wa.decode(e),n=Number(t);isNaN(n)&&this.ja("length string (".concat(t,") is not valid number"));const r=await this.Ha(n);return new zS(JSON.parse(r),e.length+n)}Ja(){return this.buffer.findIndex((e=>e==="{".charCodeAt(0)))}async za(){for(;this.Ja()<0&&!await this.Ya(););if(0===this.buffer.length)return null;const e=this.Ja();e<0&&this.ja("Reached the end of bundle when a length string is expected.");const t=this.buffer.slice(0,e);return this.buffer=this.buffer.slice(e),t}async Ha(e){for(;this.buffer.length<e;)await this.Ya()&&this.ja("Reached the end of bundle when more is expected.");const t=this.Wa.decode(this.buffer.slice(0,e));return this.buffer=this.buffer.slice(e),t}ja(e){throw this.Ua.cancel(),new Error("Invalid bundle format: ".concat(e))}async Ya(){const e=await this.Ua.read();if(!e.done){const t=new Uint8Array(this.buffer.length+e.value.length);t.set(this.buffer),t.set(e.value,this.buffer.length),this.buffer=t}return e.done}}class Lk{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new lv(cv.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const t=await async function(e,t){const n=av(e),r={documents:t.map((e=>$_(n.serializer,e)))},i=await n.Mo("BatchGetDocuments",n.serializer.databaseId,Cv.emptyPath(),r,t.length),o=new Map;i.forEach((e=>{const t=function(e,t){return"found"in t?function(e,t){sv(!!t.found),t.found.name,t.found.updateTime;const n=Y_(e,t.found.name),r=G_(t.found.updateTime),i=t.found.createTime?G_(t.found.createTime):Sv.min(),o=new Tw({mapValue:{fields:t.found.fields}});return kw.newFoundDocument(n,r,i,o)}(e,t):"missing"in t?function(e,t){sv(!!t.missing),sv(!!t.readTime);const n=Y_(e,t.missing),r=G_(t.readTime);return kw.newNoDocument(n,r)}(e,t):ov()}(n.serializer,e);o.set(t.key.toString(),t)}));const s=[];return t.forEach((e=>{const t=o.get(e.toString());sv(!!t),s.push(t)})),s}(this.datastore,e);return t.forEach((e=>this.recordVersion(e))),t}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastTransactionError=e}this.writtenDocs.add(e.toString())}delete(e){this.write(new d_(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach((t=>{e.delete(t.key.toString())})),e.forEach(((e,t)=>{const n=Av.fromPath(t);this.mutations.push(new f_(n,this.precondition(n)))})),await async function(e,t){const n=av(e),r={writes:t.map((e=>iE(n.serializer,e)))};await n.Do("Commit",n.serializer.databaseId,Cv.emptyPath(),r)}(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw ov();t=Sv.min()}const n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new lv(cv.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Sv.min())?Zb.exists(!1):Zb.updateTime(t):Zb.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Sv.min()))throw new lv(cv.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Zb.updateTime(t)}return Zb.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class Mk{constructor(e,t,n,r,i){this.asyncQueue=e,this.datastore=t,this.options=n,this.updateFunction=r,this.deferred=i,this.Za=n.maxAttempts,this.Jo=new KT(this.asyncQueue,"transaction_retry")}Xa(){this.Za-=1,this.eu()}eu(){this.Jo.Ko((async()=>{const e=new Lk(this.datastore),t=this.tu(e);t&&t.then((t=>{this.asyncQueue.enqueueAndForget((()=>e.commit().then((()=>{this.deferred.resolve(t)})).catch((e=>{this.nu(e)}))))})).catch((e=>{this.nu(e)}))}))}tu(e){try{const t=this.updateFunction(e);return!ry(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}nu(e){this.Za>0&&this.ru(e)?(this.Za-=1,this.asyncQueue.enqueueAndForget((()=>(this.eu(),Promise.resolve())))):this.deferred.reject(e)}ru(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!b_(t)}return!1}}class Fk{constructor(e,t,n,r){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=Yg.UNAUTHENTICATED,this.clientId=bv.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(n,(async e=>{tv("FirestoreClient","Received user=",e.uid),await this.authCredentialListener(e),this.user=e})),this.appCheckCredentials.start(n,(e=>(tv("FirestoreClient","Received new app check token=",e),this.appCheckCredentialListener(e,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new lv(cv.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new uv;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=CS(t,"Failed to shutdown persistence");e.reject(n)}})),e.promise}}async function Uk(e,t){e.asyncQueue.verifyOperationInProgress(),tv("FirestoreClient","Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener((async e=>{r.isEqual(e)||(await dT(t.localStore,e),r=e)})),t.persistence.setDatabaseDeletedListener((()=>e.terminate())),e._offlineComponents=t}async function jk(e,t){e.asyncQueue.verifyOperationInProgress();const n=await zk(e);tv("FirestoreClient","Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener((e=>ES(t.remoteStore,e))),e.setAppCheckTokenChangeListener(((e,n)=>ES(t.remoteStore,n))),e._onlineComponents=t}function Vk(e){return"FirebaseError"===e.name?e.code===cv.FAILED_PRECONDITION||e.code===cv.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}async function zk(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){tv("FirestoreClient","Using user provided OfflineComponentProvider");try{await Uk(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!Vk(n))throw n;rv("Error using user provided cache. Falling back to memory cache: "+n),await Uk(e,new xk)}}else tv("FirestoreClient","Using default OfflineComponentProvider"),await Uk(e,new xk);return e._offlineComponents}async function Bk(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(tv("FirestoreClient","Using user provided OnlineComponentProvider"),await jk(e,e._uninitializedComponentsProvider._online)):(tv("FirestoreClient","Using default OnlineComponentProvider"),await jk(e,new Pk))),e._onlineComponents}function qk(e){return zk(e).then((e=>e.persistence))}function Kk(e){return zk(e).then((e=>e.localStore))}function Hk(e){return Bk(e).then((e=>e.remoteStore))}function Gk(e){return Bk(e).then((e=>e.syncEngine))}function Wk(e){return Bk(e).then((e=>e.datastore))}async function Qk(e){const t=await Bk(e),n=t.eventManager;return n.onListen=YS.bind(null,t.syncEngine),n.onUnlisten=tk.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=XS.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=nk.bind(null,t.syncEngine),n}function Jk(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new uv;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const o=new Ok({next:o=>{t.enqueueAndForget((()=>DS(e,s)));const a=o.docs.has(n);!a&&o.fromCache?i.reject(new lv(cv.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&o.fromCache&&r&&"server"===r.source?i.reject(new lv(cv.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:e=>i.reject(e)}),s=new VS(ab(n.path),o,{includeMetadataChanges:!0,ra:!0});return OS(e,s)}(await Qk(e),e.asyncQueue,t,n,r))),r.promise}function $k(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new uv;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const o=new Ok({next:n=>{t.enqueueAndForget((()=>DS(e,s))),n.fromCache&&"server"===r.source?i.reject(new lv(cv.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:e=>i.reject(e)}),s=new VS(n,o,{includeMetadataChanges:!0,ra:!0});return OS(e,s)}(await Qk(e),e.asyncQueue,t,n,r))),r.promise}function Yk(e,t,n,r){const i=function(e,t){let n;return n="string"==typeof e?I_().encode(e):e,function(e,t){return new Dk(e,t)}(function(e,t){if(e instanceof Uint8Array)return Rk(e,t);if(e instanceof ArrayBuffer)return Rk(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(n),t)}(n,qT(t));e.asyncQueue.enqueueAndForget((async()=>{!function(e,t,n){const r=av(e);(async function(e,t,n){try{const r=await t.getMetadata();if(await function(e,t){const n=av(e),r=G_(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(e=>n.Kr.getBundleMetadata(e,t.id))).then((e=>!!e&&e.createTime.compareTo(r)>=0))}(e.localStore,r))return await t.close(),n._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(r)),Promise.resolve(new Set);n._updateProgress(KS(r));const i=new qS(r,e.localStore,t.serializer);let o=await t.qa();for(;o;){const e=await i._a(o);e&&n._updateProgress(e),o=await t.qa()}const s=await i.complete();return await mk(e,s.ca,void 0),await function(e,t){const n=av(e);return n.persistence.runTransaction("Save bundle","readwrite",(e=>n.Kr.saveBundleMetadata(e,t)))}(e.localStore,r),n._completeWith(s.progress),Promise.resolve(s.ua)}catch(e){return rv("SyncEngine","Loading bundle failed with ".concat(e)),n._failWith(e),Promise.resolve(new Set)}})(r,t,n).then((e=>{r.sharedClientState.notifyBundleLoaded(e)}))}(await Gk(e),i,r)}))}function Xk(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}const Zk=new Map;function eC(e,t,n){if(!n)throw new lv(cv.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function tC(e,t,n,r){if(!0===t&&!0===r)throw new lv(cv.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}function nC(e){if(!Av.isDocumentKey(e))throw new lv(cv.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function rC(e){if(Av.isDocumentKey(e))throw new lv(cv.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function iC(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}}return"function"==typeof e?"a function":ov()}function oC(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new lv(cv.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=iC(e);throw new lv(cv.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}}return e}function sC(e,t){if(t<=0)throw new lv(cv.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}class aC{constructor(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new lv(cv.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new lv(cv.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}tC("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Xk(null!==(n=e.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new lv(cv.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (must not be NaN)"));if(e.timeoutSeconds<5)throw new lv(cv.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (minimum allowed value is 5)"));if(e.timeoutSeconds>30)throw new lv(cv.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (maximum allowed value is 30)"))}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(e,t){return e.timeoutSeconds===t.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class cC{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new aC({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new lv(cv.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new lv(cv.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new aC(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new dv;switch(e.type){case"firstParty":return new gv(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new lv(cv.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=Zk.get(e);t&&(tv("ComponentProvider","Removing Datastore"),Zk.delete(e),t.terminate())}(this),Promise.resolve()}}function lC(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};var i;const o=(e=oC(e,cC))._getSettings(),s="".concat(t,":").concat(n);if("firestore.googleapis.com"!==o.host&&o.host!==s&&rv("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),r.mockUserToken){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=Yg.MOCK_USER;else{t=co(r.mockUserToken,null===(i=e._app)||void 0===i?void 0:i.options.projectId);const o=r.mockUserToken.sub||r.mockUserToken.user_id;if(!o)throw new lv(cv.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new Yg(o)}e._authCredentials=new fv(new hv(t,n))}}class uC{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new uC(this.firestore,e,this._query)}}class hC{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new dC(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new hC(this.firestore,e,this._key)}}class dC extends uC{constructor(e,t,n){super(e,t,ab(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new hC(this.firestore,null,new Av(e))}withConverter(e){return new dC(this.firestore,e,this._path)}}function fC(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Ao(e),eC("collection","path",t),e instanceof cC){const n=Cv.fromString(t,...r);return rC(n),new dC(e,null,n)}{if(!(e instanceof hC||e instanceof dC))throw new lv(cv.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(Cv.fromString(t,...r));return rC(n),new dC(e.firestore,null,n)}}function pC(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Ao(e),1===arguments.length&&(t=bv.newId()),eC("doc","path",t),e instanceof cC){const n=Cv.fromString(t,...r);return nC(n),new hC(e,null,new Av(n))}{if(!(e instanceof hC||e instanceof dC))throw new lv(cv.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(Cv.fromString(t,...r));return nC(n),new hC(e.firestore,e instanceof dC?e.converter:null,new Av(n))}}function mC(e,t){return e=Ao(e),t=Ao(t),(e instanceof hC||e instanceof dC)&&(t instanceof hC||t instanceof dC)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function gC(e,t){return e=Ao(e),t=Ao(t),e instanceof uC&&t instanceof uC&&e.firestore===t.firestore&&mb(e._query,t._query)&&e.converter===t.converter}class vC{constructor(){this.iu=Promise.resolve(),this.su=[],this.ou=!1,this._u=[],this.au=null,this.uu=!1,this.cu=!1,this.lu=[],this.Jo=new KT(this,"async_queue_retry"),this.hu=()=>{const e=BT();e&&tv("AsyncQueue","Visibility state changed to "+e.visibilityState),this.Jo.Uo()};const e=BT();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.hu)}get isShuttingDown(){return this.ou}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Pu(),this.Iu(e)}enterRestrictedMode(e){if(!this.ou){this.ou=!0,this.cu=e||!1;const t=BT();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.hu)}}enqueue(e){if(this.Pu(),this.ou)return new Promise((()=>{}));const t=new uv;return this.Iu((()=>this.ou&&this.cu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.su.push(e),this.Tu())))}async Tu(){if(0!==this.su.length){try{await this.su[0](),this.su.shift(),this.Jo.reset()}catch(vV){if(!Jv(vV))throw vV;tv("AsyncQueue","Operation failed with retryable error: "+vV)}this.su.length>0&&this.Jo.Ko((()=>this.Tu()))}}Iu(e){const t=this.iu.then((()=>(this.uu=!0,e().catch((e=>{this.au=e,this.uu=!1;const t=function(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw nv("INTERNAL UNHANDLED ERROR: ",t),e})).then((e=>(this.uu=!1,e))))));return this.iu=t,t}enqueueAfterDelay(e,t,n){this.Pu(),this.lu.indexOf(e)>-1&&(t=0);const r=kS.createAndSchedule(this,e,t,n,(e=>this.Eu(e)));return this._u.push(r),r}Pu(){this.au&&ov()}verifyOperationInProgress(){}async du(){let e;do{e=this.iu,await e}while(e!==this.iu)}Au(e){for(const t of this._u)if(t.timerId===e)return!0;return!1}Ru(e){return this.du().then((()=>{this._u.sort(((e,t)=>e.targetTimeMs-t.targetTimeMs));for(const t of this._u)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.du()}))}Vu(e){this.lu.push(e)}Eu(e){const t=this._u.indexOf(e);this._u.splice(t,1)}}function yC(e){return function(e,t){if("object"!=typeof e||null===e)return!1;const n=e;for(const r of t)if(r in n&&"function"==typeof n[r])return!0;return!1}(e,["next","error","complete"])}class wC{constructor(){this._progressObserver={},this._taskCompletionResolver=new uv,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,n){this._progressObserver={next:e,error:t,complete:n}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class bC extends cC{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new vC,this._persistenceKey=(null==r?void 0:r.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||EC(this),this._firestoreClient.terminate()}}function _C(e){return e._firestoreClient||EC(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function EC(e){var t,n,r;const i=e._freezeSettings(),o=function(e,t,n,r){return new tw(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,Xk(r.experimentalLongPollingOptions),r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,i);e._firestoreClient=new Fk(e._authCredentials,e._appCheckCredentials,e._queue,o),(null===(n=i.localCache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=i.localCache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}function IC(e,t,n){const r=new uv;return e.asyncQueue.enqueue((async()=>{try{await Uk(e,n),await jk(e,t),r.resolve()}catch(e){const n=e;if(!Vk(n))throw n;rv("Error enabling indexeddb cache. Falling back to memory cache: "+n),r.reject(n)}})).then((()=>r.promise))}function TC(e){return function(e){const t=new uv;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t){const n=av(e);oS(n.remoteStore)||tv("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const e=await function(e){const t=av(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(e=>t.mutationQueue.getHighestUnacknowledgedBatchId(e)))}(n.localStore);if(-1===e)return void t.resolve();const r=n.Oa.get(e)||[];r.push(t),n.Oa.set(e,r)}catch(e){const n=CS(e,"Initialization of waitForPendingWrites() operation failed");t.reject(n)}}(await Gk(e),t))),t.promise}(_C(e=oC(e,bC)))}function SC(e){return function(e){return e.asyncQueue.enqueue((async()=>{const t=await qk(e),n=await Hk(e);return t.setNetworkEnabled(!0),function(e){const t=av(e);return t.M_.delete(0),YT(t)}(n)}))}(_C(e=oC(e,bC)))}function kC(e){return function(e){return e.asyncQueue.enqueue((async()=>{const t=await qk(e),n=await Hk(e);return t.setNetworkEnabled(!1),async function(e){const t=av(e);t.M_.add(0),await XT(t),t.N_.set("Offline")}(n)}))}(_C(e=oC(e,bC)))}function CC(e,t){return function(e,t){return e.asyncQueue.enqueue((async()=>function(e,t){const n=av(e);return n.persistence.runTransaction("Get named query","readonly",(e=>n.Kr.getNamedQuery(e,t)))}(await Kk(e),t)))}(_C(e=oC(e,bC)),t).then((t=>t?new uC(e,null,t.query):null))}function xC(e){if(e._initialized||e._terminated)throw new lv(cv.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class NC{constructor(e){this._byteString=e}static fromBase64String(e){try{return new NC(Wy.fromBase64String(e))}catch(e){throw new lv(cv.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new NC(Wy.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class AC{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(let r=0;r<t.length;++r)if(0===t[r].length)throw new lv(cv.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Nv(t)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class PC{constructor(e){this._methodName=e}}class RC{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new lv(cv.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new lv(cv.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return _v(this._lat,e._lat)||_v(this._long,e._long)}}const OC=/^__.*__$/;class DC{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new c_(e,this.data,this.fieldMask,t,this.fieldTransforms):new a_(e,this.data,t,this.fieldTransforms)}}class LC{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new c_(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function MC(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ov()}}class FC{constructor(e,t,n,r,i,o){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.mu(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get fu(){return this.settings.fu}gu(e){return new FC(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}pu(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.gu({path:n,yu:!1});return r.wu(e),r}Su(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.gu({path:n,yu:!1});return r.mu(),r}bu(e){return this.gu({path:void 0,yu:!0})}Du(e){return rx(e,this.settings.methodName,this.settings.Cu||!1,this.path,this.settings.vu)}contains(e){return void 0!==this.fieldMask.find((t=>e.isPrefixOf(t)))||void 0!==this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))}mu(){if(this.path)for(let e=0;e<this.path.length;e++)this.wu(this.path.get(e))}wu(e){if(0===e.length)throw this.Du("Document fields must not be empty");if(MC(this.fu)&&OC.test(e))throw this.Du('Document fields cannot begin and end with "__"')}}class UC{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||qT(e)}Fu(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new FC({fu:e,methodName:t,vu:n,path:Nv.emptyPath(),yu:!1,Cu:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function jC(e){const t=e._freezeSettings(),n=qT(e._databaseId);return new UC(e._databaseId,!!t.ignoreUndefinedProperties,n)}function VC(e,t,n,r,i){let o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const s=e.Fu(o.merge||o.mergeFields?2:0,t,n,i);ZC("Data must be an object, but it was:",s,r);const a=YC(r,s);let c,l;if(o.merge)c=new Hy(s.fieldMask),l=s.fieldTransforms;else if(o.mergeFields){const e=[];for(const r of o.mergeFields){const i=ex(t,r,n);if(!s.contains(i))throw new lv(cv.INVALID_ARGUMENT,"Field '".concat(i,"' is specified in your field mask but missing from your input data."));ix(e,i)||e.push(i)}c=new Hy(e),l=s.fieldTransforms.filter((e=>c.covers(e.field)))}else c=null,l=s.fieldTransforms;return new DC(new Tw(a),c,l)}class zC extends PC{_toFieldTransform(e){if(2!==e.fu)throw 1===e.fu?e.Du("".concat(this._methodName,"() can only appear at the top level of your update data")):e.Du("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof zC}}function BC(e,t,n){return new FC({fu:3,vu:t.settings.vu,methodName:e._methodName,yu:n},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class qC extends PC{_toFieldTransform(e){return new Yb(e.path,new qb)}isEqual(e){return e instanceof qC}}class KC extends PC{constructor(e,t){super(e),this.Mu=t}_toFieldTransform(e){const t=BC(this,e,!0),n=this.Mu.map((e=>$C(e,t))),r=new Kb(n);return new Yb(e.path,r)}isEqual(e){return e instanceof KC&&Eo(this.Mu,e.Mu)}}class HC extends PC{constructor(e,t){super(e),this.Mu=t}_toFieldTransform(e){const t=BC(this,e,!0),n=this.Mu.map((e=>$C(e,t))),r=new Gb(n);return new Yb(e.path,r)}isEqual(e){return e instanceof HC&&Eo(this.Mu,e.Mu)}}class GC extends PC{constructor(e,t){super(e),this.xu=t}_toFieldTransform(e){const t=new Qb(e.serializer,Ub(e.serializer,this.xu));return new Yb(e.path,t)}isEqual(e){return e instanceof GC&&this.xu===e.xu}}function WC(e,t,n,r){const i=e.Fu(1,t,n);ZC("Data must be an object, but it was:",i,r);const o=[],s=Tw.empty();Fy(r,((e,r)=>{const a=nx(t,e,n);r=Ao(r);const c=i.Su(a);if(r instanceof zC)o.push(a);else{const e=$C(r,c);null!=e&&(o.push(a),s.set(a,e))}}));const a=new Hy(o);return new LC(s,a,i.fieldTransforms)}function QC(e,t,n,r,i,o){const s=e.Fu(1,t,n),a=[ex(t,r,n)],c=[i];if(o.length%2!=0)throw new lv(cv.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(let d=0;d<o.length;d+=2)a.push(ex(t,o[d])),c.push(o[d+1]);const l=[],u=Tw.empty();for(let d=a.length-1;d>=0;--d)if(!ix(l,a[d])){const e=a[d];let t=c[d];t=Ao(t);const n=s.Su(e);if(t instanceof zC)l.push(e);else{const r=$C(t,n);null!=r&&(l.push(e),u.set(e,r))}}const h=new Hy(l);return new LC(u,h,s.fieldTransforms)}function JC(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return $C(n,e.Fu(r?4:3,t))}function $C(e,t){if(XC(e=Ao(e)))return ZC("Unsupported field value:",t,e),YC(e,t);if(e instanceof PC)return function(e,t){if(!MC(t.fu))throw t.Du("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.Du("".concat(e._methodName,"() is not currently supported inside arrays"));const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.yu&&4!==t.fu)throw t.Du("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const i of e){let e=$C(i,t.bu(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=Ao(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return Ub(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=Tv.fromDate(e);return{timestampValue:q_(t.serializer,n)}}if(e instanceof Tv){const n=new Tv(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:q_(t.serializer,n)}}if(e instanceof RC)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof NC)return{bytesValue:K_(t.serializer,e._byteString)};if(e instanceof hC){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.Du("Document reference is for database ".concat(r.projectId,"/").concat(r.database," but should be for database ").concat(n.projectId,"/").concat(n.database));return{referenceValue:W_(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.Du("Unsupported field value: ".concat(iC(e)))}(e,t)}function YC(e,t){const n={};return Uy(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Fy(e,((e,r)=>{const i=$C(r,t.pu(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function XC(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Tv||e instanceof RC||e instanceof NC||e instanceof hC||e instanceof PC)}function ZC(e,t,n){if(!XC(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){const r=iC(n);throw"an object"===r?t.Du(e+" a custom object"):t.Du(e+" "+r)}}function ex(e,t,n){if((t=Ao(t))instanceof AC)return t._internalPath;if("string"==typeof t)return nx(e,t);throw rx("Field path arguments must be of type string or ",e,!1,void 0,n)}const tx=new RegExp("[~\\*/\\[\\]]");function nx(e,t,n){if(t.search(tx)>=0)throw rx("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return new AC(...t.split("."))._internalPath}catch(Re){throw rx("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function rx(e,t,n,r,i){const o=r&&!r.isEmpty(),s=void 0!==i;let a="Function ".concat(t,"() called with invalid data");n&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(o||s)&&(c+=" (found",o&&(c+=" in field ".concat(r)),s&&(c+=" in document ".concat(i)),c+=")"),new lv(cv.INVALID_ARGUMENT,a+e+c)}function ix(e,t){return e.some((e=>e.isEqual(t)))}class ox{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new hC(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new sx(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(ax("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class sx extends ox{data(){return super.data()}}function ax(e,t){return"string"==typeof t?nx(e,t):t instanceof AC?t._internalPath:t._delegate._internalPath}function cx(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new lv(cv.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class lx{}class ux extends lx{}function hx(e,t){let n=[];for(var r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o];t instanceof lx&&n.push(t),n=n.concat(i),function(e){const t=e.filter((e=>e instanceof fx)).length,n=e.filter((e=>e instanceof dx)).length;if(t>1||t>0&&n>0)throw new lv(cv.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const s of n)e=s._apply(e);return e}class dx extends ux{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new dx(e,t,n)}_apply(e){const t=this._parse(e);return _x(e._query,t),new uC(e.firestore,e.converter,fb(e._query,t))}_parse(e){const t=jC(e.firestore),n=function(e,t,n,r,i,o,s){let a;if(i.isKeyField()){if("array-contains"===o||"array-contains-any"===o)throw new lv(cv.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(o,"' queries on documentId()."));if("in"===o||"not-in"===o){bx(s,o);const t=[];for(const n of s)t.push(wx(r,e,n));a={arrayValue:{values:t}}}else a=wx(r,e,s)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||bx(s,o),a=JC(n,t,s,"in"===o||"not-in"===o);return Ow.create(i,o,a)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value);return n}}class fx extends lx{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new fx(e,t)}_parse(e){const t=this._queryConstraints.map((t=>t._parse(e))).filter((e=>e.getFilters().length>0));return 1===t.length?t[0]:Dw.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){let n=e;const r=t.getFlattenedFilters();for(const i of r)_x(n,i),n=fb(n,i)}(e._query,t),new uC(e.firestore,e.converter,fb(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class px extends ux{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new px(e,t)}_apply(e){const t=function(e,t,n){if(null!==e.startAt)throw new lv(cv.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new lv(cv.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Aw(t,n)}(e._query,this._field,this._direction);return new uC(e.firestore,e.converter,function(e,t){const n=e.explicitOrderBy.concat([t]);return new ob(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}class mx extends ux{constructor(e,t,n){super(),this.type=e,this._limit=t,this._limitType=n}static _create(e,t,n){return new mx(e,t,n)}_apply(e){return new uC(e.firestore,e.converter,pb(e._query,this._limit,this._limitType))}}class gx extends ux{constructor(e,t,n){super(),this.type=e,this._docOrFields=t,this._inclusive=n}static _create(e,t,n){return new gx(e,t,n)}_apply(e){const t=yx(e,this.type,this._docOrFields,this._inclusive);return new uC(e.firestore,e.converter,function(e,t){return new ob(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}class vx extends ux{constructor(e,t,n){super(),this.type=e,this._docOrFields=t,this._inclusive=n}static _create(e,t,n){return new vx(e,t,n)}_apply(e){const t=yx(e,this.type,this._docOrFields,this._inclusive);return new uC(e.firestore,e.converter,function(e,t){return new ob(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}function yx(e,t,n,r){if(n[0]=Ao(n[0]),n[0]instanceof ox)return function(e,t,n,r,i){if(!r)throw new lv(cv.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for ".concat(n,"()."));const o=[];for(const s of ub(e))if(s.field.isKeyField())o.push(dw(t,r.key));else{const e=r.data.field(s.field);if(Xy(e))throw new lv(cv.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+s.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===e){const e=s.field.canonicalString();throw new lv(cv.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '".concat(e,"' (used as the orderBy) does not exist."))}o.push(e)}return new Cw(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);{const i=jC(e.firestore);return function(e,t,n,r,i,o){const s=e.explicitOrderBy;if(i.length>s.length)throw new lv(cv.INVALID_ARGUMENT,"Too many arguments provided to ".concat(r,"(). The number of arguments must be less than or equal to the number of orderBy() clauses"));const a=[];for(let c=0;c<i.length;c++){const o=i[c];if(s[c].field.isKeyField()){if("string"!=typeof o)throw new lv(cv.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in ".concat(r,"(), but got a ").concat(typeof o));if(!lb(e)&&-1!==o.indexOf("/"))throw new lv(cv.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by documentId(), the value passed to ".concat(r,"() must be a plain document ID, but '").concat(o,"' contains a slash."));const n=e.path.child(Cv.fromString(o));if(!Av.isDocumentKey(n))throw new lv(cv.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by documentId(), the value passed to ".concat(r,"() must result in a valid document path, but '").concat(n,"' is not because it contains an odd number of segments."));const i=new Av(n);a.push(dw(t,i))}else{const e=JC(n,r,o);a.push(e)}}return new Cw(a,o)}(e._query,e.firestore._databaseId,i,t,n,r)}}function wx(e,t,n){if("string"==typeof(n=Ao(n))){if(""===n)throw new lv(cv.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!lb(t)&&-1!==n.indexOf("/"))throw new lv(cv.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));const r=t.path.child(Cv.fromString(n));if(!Av.isDocumentKey(r))throw new lv(cv.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return dw(e,new Av(r))}if(n instanceof hC)return dw(e,n._key);throw new lv(cv.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(iC(n),"."))}function bx(e,t){if(!Array.isArray(e)||0===e.length)throw new lv(cv.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."))}function _x(e,t){const n=function(e,t){for(const n of e)for(const e of n.getFlattenedFilters())if(t.indexOf(e.op)>=0)return e.op;return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==n)throw n===t.op?new lv(cv.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new lv(cv.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(n.toString(),"' filters."))}class Ex{convertValue(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(ow(e)){case 0:return null;case 1:return e.booleanValue;case 2:return $y(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Yy(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw ov()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";const n={};return Fy(e,((e,r)=>{n[e]=this.convertValue(r,t)})),n}convertGeoPoint(e){return new RC($y(e.latitude),$y(e.longitude))}convertArray(e,t){return(e.values||[]).map((e=>this.convertValue(e,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const n=Zy(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(ew(e));default:return null}}convertTimestamp(e){const t=Jy(e);return new Tv(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=Cv.fromString(e);sv(vE(n));const r=new nw(n.get(1),n.get(3)),i=new Av(n.popFirst(5));return r.isEqual(t)||nv("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}function Ix(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class Tx extends Ex{constructor(e){super(),this.firestore=e}convertBytes(e){return new NC(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new hC(this.firestore,null,t)}}class Sx{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class kx extends ox{constructor(e,t,n,r,i,o){super(e,t,n,r,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){const t=new Cx(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){const n=this._document.data.field(ax("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class Cx extends kx{data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return super.data(e)}}class xx{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new Sx(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach((n=>{e.call(t,new Cx(this._firestore,this._userDataWriter,n.key,n,new Sx(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(){const e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new lv(cv.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map((n=>{const r=new Cx(e._firestore,e._userDataWriter,n.doc.key,n.doc,new Sx(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:r,oldIndex:-1,newIndex:t++}}))}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((e=>t||3!==e.type)).map((t=>{const r=new Cx(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Sx(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let i=-1,o=-1;return 0!==t.type&&(i=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),o=n.indexOf(t.doc.key)),{type:Nx(t.type),doc:r,oldIndex:i,newIndex:o}}))}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function Nx(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ov()}}function Ax(e,t){return e instanceof kx&&t instanceof kx?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof xx&&t instanceof xx&&e._firestore===t._firestore&&gC(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}class Px extends Ex{constructor(e){super(),this.firestore=e}convertBytes(e){return new NC(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new hC(this.firestore,null,t)}}function Rx(e){e=oC(e,hC);const t=oC(e.firestore,bC),n=_C(t),r=new Px(t);return function(e,t){const n=new uv;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){try{const r=await function(e,t){const n=av(e);return n.persistence.runTransaction("read document","readonly",(e=>n.localDocuments.getDocument(e,t)))}(e,t);r.isFoundDocument()?n.resolve(r):r.isNoDocument()?n.resolve(null):n.reject(new lv(cv.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(e){const r=CS(e,"Failed to get document '".concat(t," from cache"));n.reject(r)}}(await Kk(e),t,n))),n.promise}(n,e._key).then((n=>new kx(t,r,e._key,n,new Sx(null!==n&&n.hasLocalMutations,!0),e.converter)))}function Ox(e){e=oC(e,uC);const t=oC(e.firestore,bC),n=_C(t),r=new Px(t);return function(e,t){const n=new uv;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){try{const r=await yT(e,t,!0),i=new WS(t,r.ls),o=i.da(r.documents),s=i.applyChanges(o,!1);n.resolve(s.snapshot)}catch(e){const r=CS(e,"Failed to execute query '".concat(t," against cache"));n.reject(r)}}(await Kk(e),t,n))),n.promise}(n,e._query).then((n=>new xx(t,r,e,n)))}function Dx(e,t,n){e=oC(e,hC);const r=oC(e.firestore,bC),i=Ix(e.converter,t,n);return Ux(r,[VC(jC(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,Zb.none())])}function Lx(e,t,n){e=oC(e,hC);const r=oC(e.firestore,bC),i=jC(r);let o;for(var s=arguments.length,a=new Array(s>3?s-3:0),c=3;c<s;c++)a[c-3]=arguments[c];return o="string"==typeof(t=Ao(t))||t instanceof AC?QC(i,"updateDoc",e._key,t,n,a):WC(i,"updateDoc",e._key,t),Ux(r,[o.toMutation(e._key,Zb.exists(!0))])}function Mx(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,o,s;e=Ao(e);let a={includeMetadataChanges:!1,source:"default"},c=0;"object"!=typeof n[c]||yC(n[c])||(a=n[c],c++);const l={includeMetadataChanges:a.includeMetadataChanges,source:a.source};if(yC(n[c])){const e=n[c];n[c]=null===(i=e.next)||void 0===i?void 0:i.bind(e),n[c+1]=null===(o=e.error)||void 0===o?void 0:o.bind(e),n[c+2]=null===(s=e.complete)||void 0===s?void 0:s.bind(e)}let u,h,d;if(e instanceof hC)h=oC(e.firestore,bC),d=ab(e._key.path),u={next:t=>{n[c]&&n[c](jx(h,e,t))},error:n[c+1],complete:n[c+2]};else{const t=oC(e,uC);h=oC(t.firestore,bC),d=t._query;const r=new Px(h);u={next:e=>{n[c]&&n[c](new xx(h,r,t,e))},error:n[c+1],complete:n[c+2]},cx(e._query)}return function(e,t,n,r){const i=new Ok(r),o=new VS(t,i,n);return e.asyncQueue.enqueueAndForget((async()=>OS(await Qk(e),o))),()=>{i.$a(),e.asyncQueue.enqueueAndForget((async()=>DS(await Qk(e),o)))}}(_C(h),d,l,u)}function Fx(e,t){return function(e,t){const n=new Ok(t);return e.asyncQueue.enqueueAndForget((async()=>function(e,t){av(e).z_.add(t),t.next()}(await Qk(e),n))),()=>{n.$a(),e.asyncQueue.enqueueAndForget((async()=>function(e,t){av(e).z_.delete(t)}(await Qk(e),n)))}}(_C(e=oC(e,bC)),yC(t)?t:{next:t})}function Ux(e,t){return function(e,t){const n=new uv;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){const r=Ck(e);try{const e=await function(e,t){const n=av(e),r=Tv.now(),i=t.reduce(((e,t)=>e.add(t.key)),Ob());let o,s;return n.persistence.runTransaction("Locally write mutations","readwrite",(e=>{let a=Tb(),c=Ob();return n.ss.getEntries(e,i).next((e=>{a=e,a.forEach(((e,t)=>{t.isValidDocument()||(c=c.add(e))}))})).next((()=>n.localDocuments.getOverlayedDocuments(e,a))).next((i=>{o=i;const s=[];for(const e of t){const t=o_(e,o.get(e.key).overlayedDocument);null!=t&&s.push(new c_(e.key,t,Sw(t.value.mapValue),Zb.exists(!0)))}return n.mutationQueue.addMutationBatch(e,r,s,t)})).next((t=>{s=t;const r=t.applyToLocalDocumentSet(o,c);return n.documentOverlayCache.saveOverlays(e,t.batchId,r)}))})).then((()=>({batchId:s.batchId,changes:Cb(o)})))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.xa[e.currentUser.toKey()];r||(r=new jy(_v)),r=r.insert(t,n),e.xa[e.currentUser.toKey()]=r}(r,e.batchId,n),await mk(r,e.changes),await fS(r.remoteStore)}catch(e){const t=CS(e,"Failed to persist write");n.reject(t)}}(await Gk(e),t,n))),n.promise}(_C(e),t)}function jx(e,t,n){const r=n.docs.get(t._key),i=new Px(e);return new kx(e,i,t._key,r,new Sx(n.hasPendingWrites,n.fromCache),t.converter)}const Vx={maxAttempts:5};class zx{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=jC(e)}set(e,t,n){this._verifyNotCommitted();const r=Bx(e,this._firestore),i=Ix(r.converter,t,n),o=VC(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(o.toMutation(r._key,Zb.none())),this}update(e,t,n){this._verifyNotCommitted();const r=Bx(e,this._firestore);let i;for(var o=arguments.length,s=new Array(o>3?o-3:0),a=3;a<o;a++)s[a-3]=arguments[a];return i="string"==typeof(t=Ao(t))||t instanceof AC?QC(this._dataReader,"WriteBatch.update",r._key,t,n,s):WC(this._dataReader,"WriteBatch.update",r._key,t),this._mutations.push(i.toMutation(r._key,Zb.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Bx(e,this._firestore);return this._mutations=this._mutations.concat(new d_(t._key,Zb.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new lv(cv.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Bx(e,t){if((e=Ao(e)).firestore!==t)throw new lv(cv.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}class qx extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=jC(e)}get(e){const t=Bx(e,this._firestore),n=new Tx(this._firestore);return this._transaction.lookup([t._key]).then((e=>{if(!e||1!==e.length)return ov();const r=e[0];if(r.isFoundDocument())return new ox(this._firestore,n,r.key,r,t.converter);if(r.isNoDocument())return new ox(this._firestore,n,t._key,null,t.converter);throw ov()}))}set(e,t,n){const r=Bx(e,this._firestore),i=Ix(r.converter,t,n),o=VC(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,o),this}update(e,t,n){const r=Bx(e,this._firestore);let i;for(var o=arguments.length,s=new Array(o>3?o-3:0),a=3;a<o;a++)s[a-3]=arguments[a];return i="string"==typeof(t=Ao(t))||t instanceof AC?QC(this._dataReader,"Transaction.update",r._key,t,n,s):WC(this._dataReader,"Transaction.update",r._key,t),this._transaction.update(r._key,i),this}delete(e){const t=Bx(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Bx(e,this._firestore),n=new Px(this._firestore);return super.get(e).then((e=>new kx(this._firestore,n,t._key,e._document,new Sx(!1,!1),t.converter)))}}new WeakMap;!function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){Xg=e}(Js),Vs(new Po("firestore",((e,n)=>{let{instanceIdentifier:r,options:i}=n;const o=e.getProvider("app").getImmediate(),s=new bC(new pv(e.getProvider("auth-internal")),new yv(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new lv(cv.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new nw(e.options.projectId,t)}(o,r),o);return i=Object.assign({useFetchStreams:t},i),s._setSettings(i),s}),"PUBLIC").setMultipleInstances(!0)),ta($g,"4.6.1",e),ta($g,"4.6.1","esm2017")}();function Kx(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new lv("invalid-argument","Invalid options passed to function ".concat(e,"(): You cannot ")+'specify both "merge" and "mergeFields".');return t}function Hx(){if("undefined"===typeof Uint8Array)throw new lv("unimplemented","Uint8Arrays are not available in this environment.")}function Gx(){if("undefined"==typeof atob)throw new lv("unimplemented","Blobs are unavailable in Firestore in this environment.")}class Wx{constructor(e){this._delegate=e}static fromBase64String(e){return Gx(),new Wx(NC.fromBase64String(e))}static fromUint8Array(e){return Hx(),new Wx(NC.fromUint8Array(e))}toBase64(){return Gx(),this._delegate.toBase64()}toUint8Array(){return Hx(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function Qx(e){return function(e,t){if("object"!==typeof e||null===e)return!1;const n=e;for(const r of t)if(r in n&&"function"===typeof n[r])return!0;return!1}(e,["next","error","complete"])}class Jx{enableIndexedDbPersistence(e,t){return function(e,t){xC(e=oC(e,bC));const n=_C(e);if(n._uninitializedComponentsProvider)throw new lv(cv.FAILED_PRECONDITION,"SDK cache is already specified.");rv("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const r=e._freezeSettings(),i=new Pk;return IC(n,i,new Nk(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function(e){xC(e=oC(e,bC));const t=_C(e);if(t._uninitializedComponentsProvider)throw new lv(cv.FAILED_PRECONDITION,"SDK cache is already specified.");rv("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const n=e._freezeSettings(),r=new Pk;return IC(t,r,new Ak(r,n.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function(e){if(e._initialized&&!e._terminated)throw new lv(cv.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const t=new uv;return e._queue.enqueueAndForgetEvenWhileRestricted((async()=>{try{await async function(e){if(!Hv.D())return Promise.resolve();const t=e+"main";await Hv.delete(t)}(sT(e._databaseId,e._persistenceKey)),t.resolve()}catch(e){t.reject(e)}})),t.promise}(e._delegate)}}class $x{constructor(e,t,n){this._delegate=t,this._persistenceProvider=n,this.INTERNAL={delete:()=>this.terminate()},e instanceof nw||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();e.merge||t.host===e.host||rv("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};lC(this._delegate,e,t,n)}enableNetwork(){return SC(this._delegate)}disableNetwork(){return kC(this._delegate)}enablePersistence(e){let t=!1,n=!1;return e&&(t=!!e.synchronizeTabs,n=!!e.experimentalForceOwningTab,tC("synchronizeTabs",t,"experimentalForceOwningTab",n)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return TC(this._delegate)}onSnapshotsInSync(e){return Fx(this._delegate,e)}get app(){if(!this._appCompat)throw new lv("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new uN(this,fC(this._delegate,e))}catch(vV){throw nN(vV,"collection()","Firestore.collection()")}}doc(e){try{return new tN(this,pC(this._delegate,e))}catch(vV){throw nN(vV,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new aN(this,function(e,t){if(e=oC(e,cC),eC("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new lv(cv.INVALID_ARGUMENT,"Invalid collection ID '".concat(t,"' passed to function collectionGroup(). Collection IDs must not contain '/'."));return new uC(e,null,function(e){return new ob(Cv.emptyPath(),e)}(t))}(this._delegate,e))}catch(vV){throw nN(vV,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function(e,t,n){e=oC(e,bC);const r=Object.assign(Object.assign({},Vx),n);return function(e){if(e.maxAttempts<1)throw new lv(cv.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(e,t,n){const r=new uv;return e.asyncQueue.enqueueAndForget((async()=>{const i=await Wk(e);new Mk(e.asyncQueue,i,n,t,r).Xa()})),r.promise}(_C(e),(n=>t(new qx(e,n))),r)}(this._delegate,(t=>e(new Xx(this,t))))}batch(){return _C(this._delegate),new Zx(new zx(this._delegate,(e=>Ux(this._delegate,e))))}loadBundle(e){return function(e,t){const n=_C(e=oC(e,bC)),r=new wC;return Yk(n,e._databaseId,t,r),r}(this._delegate,e)}namedQuery(e){return CC(this._delegate,e).then((e=>e?new aN(this,e):null))}}class Yx extends Ex{constructor(e){super(),this.firestore=e}convertBytes(e){return new Wx(new NC(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return tN.forKey(t,this.firestore,null)}}class Xx{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new Yx(e)}get(e){const t=hN(e);return this._delegate.get(t).then((e=>new oN(this._firestore,new kx(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,t.converter))))}set(e,t,n){const r=hN(e);return n?(Kx("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}update(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),o=3;o<r;o++)i[o-3]=arguments[o];const s=hN(e);return 2===arguments.length?this._delegate.update(s,t):this._delegate.update(s,t,n,...i),this}delete(e){const t=hN(e);return this._delegate.delete(t),this}}class Zx{constructor(e){this._delegate=e}set(e,t,n){const r=hN(e);return n?(Kx("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}update(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),o=3;o<r;o++)i[o-3]=arguments[o];const s=hN(e);return 2===arguments.length?this._delegate.update(s,t):this._delegate.update(s,t,n,...i),this}delete(e){const t=hN(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class eN{constructor(e,t,n){this._firestore=e,this._userDataWriter=t,this._delegate=n}fromFirestore(e,t){const n=new Cx(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new sN(this._firestore,n),null!==t&&void 0!==t?t:{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const n=eN.INSTANCES;let r=n.get(e);r||(r=new WeakMap,n.set(e,r));let i=r.get(t);return i||(i=new eN(e,new Yx(e),t),r.set(t,i)),i}}eN.INSTANCES=new WeakMap;class tN{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Yx(e)}static forPath(e,t,n){if(e.length%2!==0)throw new lv("invalid-argument","Invalid document reference. Document references must have an even number of segments, but "+"".concat(e.canonicalString()," has ").concat(e.length));return new tN(t,new hC(t._delegate,n,new Av(e)))}static forKey(e,t,n){return new tN(t,new hC(t._delegate,n,e))}get id(){return this._delegate.id}get parent(){return new uN(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new uN(this.firestore,fC(this._delegate,e))}catch(vV){throw nN(vV,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=Ao(e))instanceof hC&&mC(this._delegate,e)}set(e,t){t=Kx("DocumentReference.set",t);try{return t?Dx(this._delegate,e,t):Dx(this._delegate,e)}catch(vV){throw nN(vV,"setDoc()","DocumentReference.set()")}}update(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];try{return 1===arguments.length?Lx(this._delegate,e):Lx(this._delegate,e,t,...r)}catch(vV){throw nN(vV,"updateDoc()","DocumentReference.update()")}}delete(){return Ux(oC((e=this._delegate).firestore,bC),[new d_(e._key,Zb.none())]);var e}onSnapshot(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=rN(t),i=iN(t,(e=>new oN(this.firestore,new kx(this.firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,this._delegate.converter))));return Mx(this._delegate,r,i)}get(e){let t;return t="cache"===(null===e||void 0===e?void 0:e.source)?Rx(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=oC(e,hC);const t=oC(e.firestore,bC);return Jk(_C(t),e._key,{source:"server"}).then((n=>jx(t,e,n)))}(this._delegate):function(e){e=oC(e,hC);const t=oC(e.firestore,bC);return Jk(_C(t),e._key).then((n=>jx(t,e,n)))}(this._delegate),t.then((e=>new oN(this.firestore,new kx(this.firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,this._delegate.converter))))}withConverter(e){return new tN(this.firestore,e?this._delegate.withConverter(eN.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function nN(e,t,n){return e.message=e.message.replace(t,n),e}function rN(e){for(const t of e)if("object"===typeof t&&!Qx(t))return t;return{}}function iN(e,t){var n,r;let i;return i=Qx(e[0])?e[0]:Qx(e[1])?e[1]:"function"===typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]},{next:e=>{i.next&&i.next(t(e))},error:null===(n=i.error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}class oN{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new tN(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return Ax(this._delegate,e._delegate)}}class sN extends oN{data(e){const t=this._delegate.data(e);return this._delegate._converter||void 0!==t||ov(),t}}class aN{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Yx(e)}where(e,t,n){try{return new aN(this.firestore,hx(this._delegate,function(e,t,n){const r=t,i=ax("where",e);return dx._create(i,r,n)}(e,t,n)))}catch(vV){throw nN(vV,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new aN(this.firestore,hx(this._delegate,function(e){const t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=ax("orderBy",e);return px._create(n,t)}(e,t)))}catch(vV){throw nN(vV,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new aN(this.firestore,hx(this._delegate,(sC("limit",t=e),mx._create("limit",t,"F"))))}catch(t){throw nN(t,"limit()","Query.limit()")}var t}limitToLast(e){try{return new aN(this.firestore,hx(this._delegate,(sC("limitToLast",t=e),mx._create("limitToLast",t,"L"))))}catch(t){throw nN(t,"limitToLast()","Query.limitToLast()")}var t}startAt(){try{return new aN(this.firestore,hx(this._delegate,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return gx._create("startAt",t,!0)}(...arguments)))}catch(vV){throw nN(vV,"startAt()","Query.startAt()")}}startAfter(){try{return new aN(this.firestore,hx(this._delegate,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return gx._create("startAfter",t,!1)}(...arguments)))}catch(vV){throw nN(vV,"startAfter()","Query.startAfter()")}}endBefore(){try{return new aN(this.firestore,hx(this._delegate,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return vx._create("endBefore",t,!1)}(...arguments)))}catch(vV){throw nN(vV,"endBefore()","Query.endBefore()")}}endAt(){try{return new aN(this.firestore,hx(this._delegate,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return vx._create("endAt",t,!0)}(...arguments)))}catch(vV){throw nN(vV,"endAt()","Query.endAt()")}}isEqual(e){return gC(this._delegate,e._delegate)}get(e){let t;return t="cache"===(null===e||void 0===e?void 0:e.source)?Ox(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=oC(e,uC);const t=oC(e.firestore,bC),n=_C(t),r=new Px(t);return $k(n,e._query,{source:"server"}).then((n=>new xx(t,r,e,n)))}(this._delegate):function(e){e=oC(e,uC);const t=oC(e.firestore,bC),n=_C(t),r=new Px(t);return cx(e._query),$k(n,e._query).then((n=>new xx(t,r,e,n)))}(this._delegate),t.then((e=>new lN(this.firestore,new xx(this.firestore._delegate,this._userDataWriter,this._delegate,e._snapshot))))}onSnapshot(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=rN(t),i=iN(t,(e=>new lN(this.firestore,new xx(this.firestore._delegate,this._userDataWriter,this._delegate,e._snapshot))));return Mx(this._delegate,r,i)}withConverter(e){return new aN(this.firestore,e?this._delegate.withConverter(eN.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}class cN{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new sN(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class lN{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new aN(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map((e=>new sN(this._firestore,e)))}docChanges(e){return this._delegate.docChanges(e).map((e=>new cN(this._firestore,e)))}forEach(e,t){this._delegate.forEach((n=>{e.call(t,new sN(this._firestore,n))}))}isEqual(e){return Ax(this._delegate,e._delegate)}}class uN extends aN{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new tN(this.firestore,e):null}doc(e){try{return new tN(this.firestore,void 0===e?pC(this._delegate):pC(this._delegate,e))}catch(vV){throw nN(vV,"doc()","CollectionReference.doc()")}}add(e){return function(e,t){const n=oC(e.firestore,bC),r=pC(e),i=Ix(e.converter,t);return Ux(n,[VC(jC(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,Zb.exists(!1))]).then((()=>r))}(this._delegate,e).then((e=>new tN(this.firestore,e)))}isEqual(e){return mC(this._delegate,e._delegate)}withConverter(e){return new uN(this.firestore,e?this._delegate.withConverter(eN.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function hN(e){return oC(e,hC)}class dN{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._delegate=new AC(...t)}static documentId(){return new dN(Nv.keyField().canonicalString())}isEqual(e){return(e=Ao(e))instanceof AC&&this._delegate._internalPath.isEqual(e._internalPath)}}class fN{constructor(e){this._delegate=e}static serverTimestamp(){const e=new qC("serverTimestamp");return e._methodName="FieldValue.serverTimestamp",new fN(e)}static delete(){const e=new zC("deleteField");return e._methodName="FieldValue.delete",new fN(e)}static arrayUnion(){const e=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new KC("arrayUnion",t)}(...arguments);return e._methodName="FieldValue.arrayUnion",new fN(e)}static arrayRemove(){const e=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new HC("arrayRemove",t)}(...arguments);return e._methodName="FieldValue.arrayRemove",new fN(e)}static increment(e){const t=new GC("increment",e);return t._methodName="FieldValue.increment",new fN(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const pN={Firestore:$x,GeoPoint:RC,Timestamp:Tv,Blob:Wx,Transaction:Xx,WriteBatch:Zx,DocumentReference:tN,DocumentSnapshot:oN,Query:aN,QueryDocumentSnapshot:sN,QuerySnapshot:lN,CollectionReference:uN,FieldPath:dN,FieldValue:fN,setLogLevel:function(e){var t;t=e,Zg.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};!function(e){!function(e,t){e.INTERNAL.registerComponent(new Po("firestore-compat",(e=>{const n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(n,r)}),"PUBLIC").setServiceProps(Object.assign({},pN)))}(e,((e,t)=>new $x(e,t,new Jx))),e.registerVersion("@firebase/firestore-compat","0.3.30")}(ba);ba.initializeApp({apiKey:"AIzaSyAd-zZc6ClG5NCVFua7AoxgVmfBHEG8LzY",authDomain:"gameforum-880eb.firebaseapp.com",projectId:"gameforum-880eb",storageBucket:"gameforum-880eb.appspot.com",messagingSenderId:"994604446436",appId:"1:994604446436:web:4a01fc9ef61ce1fdbb32f1"});const mN=ba;var gN=function(){if("undefined"!==typeof Map)return Map;function e(e,t){var n=-1;return e.some((function(e,r){return e[0]===t&&(n=r,!0)})),n}return function(){function t(){this.__entries__=[]}return Object.defineProperty(t.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),t.prototype.get=function(t){var n=e(this.__entries__,t),r=this.__entries__[n];return r&&r[1]},t.prototype.set=function(t,n){var r=e(this.__entries__,t);~r?this.__entries__[r][1]=n:this.__entries__.push([t,n])},t.prototype.delete=function(t){var n=this.__entries__,r=e(n,t);~r&&n.splice(r,1)},t.prototype.has=function(t){return!!~e(this.__entries__,t)},t.prototype.clear=function(){this.__entries__.splice(0)},t.prototype.forEach=function(e,t){void 0===t&&(t=null);for(var n=0,r=this.__entries__;n<r.length;n++){var i=r[n];e.call(t,i[1],i[0])}},t}()}(),vN="undefined"!==typeof window&&"undefined"!==typeof document&&window.document===document,yN="undefined"!==typeof n.g&&n.g.Math===Math?n.g:"undefined"!==typeof self&&self.Math===Math?self:"undefined"!==typeof window&&window.Math===Math?window:Function("return this")(),wN="function"===typeof requestAnimationFrame?requestAnimationFrame.bind(yN):function(e){return setTimeout((function(){return e(Date.now())}),1e3/60)};var bN=["top","right","bottom","left","width","height","size","weight"],_N="undefined"!==typeof MutationObserver,EN=function(){function e(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function(e,t){var n=!1,r=!1,i=0;function o(){n&&(n=!1,e()),r&&a()}function s(){wN(o)}function a(){var e=Date.now();if(n){if(e-i<2)return;r=!0}else n=!0,r=!1,setTimeout(s,t);i=e}return a}(this.refresh.bind(this),20)}return e.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},e.prototype.removeObserver=function(e){var t=this.observers_,n=t.indexOf(e);~n&&t.splice(n,1),!t.length&&this.connected_&&this.disconnect_()},e.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},e.prototype.updateObservers_=function(){var e=this.observers_.filter((function(e){return e.gatherActive(),e.hasActive()}));return e.forEach((function(e){return e.broadcastActive()})),e.length>0},e.prototype.connect_=function(){vN&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),_N?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},e.prototype.disconnect_=function(){vN&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},e.prototype.onTransitionEnd_=function(e){var t=e.propertyName,n=void 0===t?"":t;bN.some((function(e){return!!~n.indexOf(e)}))&&this.refresh()},e.getInstance=function(){return this.instance_||(this.instance_=new e),this.instance_},e.instance_=null,e}(),IN=function(e,t){for(var n=0,r=Object.keys(t);n<r.length;n++){var i=r[n];Object.defineProperty(e,i,{value:t[i],enumerable:!1,writable:!1,configurable:!0})}return e},TN=function(e){return e&&e.ownerDocument&&e.ownerDocument.defaultView||yN},SN=PN(0,0,0,0);function kN(e){return parseFloat(e)||0}function CN(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return t.reduce((function(t,n){return t+kN(e["border-"+n+"-width"])}),0)}function xN(e){var t=e.clientWidth,n=e.clientHeight;if(!t&&!n)return SN;var r=TN(e).getComputedStyle(e),i=function(e){for(var t={},n=0,r=["top","right","bottom","left"];n<r.length;n++){var i=r[n],o=e["padding-"+i];t[i]=kN(o)}return t}(r),o=i.left+i.right,s=i.top+i.bottom,a=kN(r.width),c=kN(r.height);if("border-box"===r.boxSizing&&(Math.round(a+o)!==t&&(a-=CN(r,"left","right")+o),Math.round(c+s)!==n&&(c-=CN(r,"top","bottom")+s)),!function(e){return e===TN(e).document.documentElement}(e)){var l=Math.round(a+o)-t,u=Math.round(c+s)-n;1!==Math.abs(l)&&(a-=l),1!==Math.abs(u)&&(c-=u)}return PN(i.left,i.top,a,c)}var NN="undefined"!==typeof SVGGraphicsElement?function(e){return e instanceof TN(e).SVGGraphicsElement}:function(e){return e instanceof TN(e).SVGElement&&"function"===typeof e.getBBox};function AN(e){return vN?NN(e)?function(e){var t=e.getBBox();return PN(0,0,t.width,t.height)}(e):xN(e):SN}function PN(e,t,n,r){return{x:e,y:t,width:n,height:r}}var RN=function(){function e(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=PN(0,0,0,0),this.target=e}return e.prototype.isActive=function(){var e=AN(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},e.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},e}(),ON=function(e,t){var n=function(e){var t=e.x,n=e.y,r=e.width,i=e.height,o="undefined"!==typeof DOMRectReadOnly?DOMRectReadOnly:Object,s=Object.create(o.prototype);return IN(s,{x:t,y:n,width:r,height:i,top:n,right:t+r,bottom:i+n,left:t}),s}(t);IN(this,{target:e,contentRect:n})},DN=function(){function e(e,t,n){if(this.activeObservations_=[],this.observations_=new gN,"function"!==typeof e)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=t,this.callbackCtx_=n}return e.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!==typeof Element&&Element instanceof Object){if(!(e instanceof TN(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)||(t.set(e,new RN(e)),this.controller_.addObserver(this),this.controller_.refresh())}},e.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!==typeof Element&&Element instanceof Object){if(!(e instanceof TN(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)&&(t.delete(e),t.size||this.controller_.removeObserver(this))}},e.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},e.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach((function(t){t.isActive()&&e.activeObservations_.push(t)}))},e.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,t=this.activeObservations_.map((function(e){return new ON(e.target,e.broadcastRect())}));this.callback_.call(e,t,e),this.clearActive()}},e.prototype.clearActive=function(){this.activeObservations_.splice(0)},e.prototype.hasActive=function(){return this.activeObservations_.length>0},e}(),LN="undefined"!==typeof WeakMap?new WeakMap:new gN,MN=function e(t){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=EN.getInstance(),r=new DN(t,n,this);LN.set(this,r)};["observe","unobserve","disconnect"].forEach((function(e){MN.prototype[e]=function(){var t;return(t=LN.get(this))[e].apply(t,arguments)}}));const FN="undefined"!==typeof yN.ResizeObserver?yN.ResizeObserver:MN;var UN={Linear:{None:function(e){return e}},Quadratic:{In:function(e){return e*e},Out:function(e){return e*(2-e)},InOut:function(e){return(e*=2)<1?.5*e*e:-.5*(--e*(e-2)-1)}},Cubic:{In:function(e){return e*e*e},Out:function(e){return--e*e*e+1},InOut:function(e){return(e*=2)<1?.5*e*e*e:.5*((e-=2)*e*e+2)}},Quartic:{In:function(e){return e*e*e*e},Out:function(e){return 1- --e*e*e*e},InOut:function(e){return(e*=2)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2)}},Quintic:{In:function(e){return e*e*e*e*e},Out:function(e){return--e*e*e*e*e+1},InOut:function(e){return(e*=2)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2)}},Sinusoidal:{In:function(e){return 1-Math.cos(e*Math.PI/2)},Out:function(e){return Math.sin(e*Math.PI/2)},InOut:function(e){return.5*(1-Math.cos(Math.PI*e))}},Exponential:{In:function(e){return 0===e?0:Math.pow(1024,e-1)},Out:function(e){return 1===e?1:1-Math.pow(2,-10*e)},InOut:function(e){return 0===e?0:1===e?1:(e*=2)<1?.5*Math.pow(1024,e-1):.5*(2-Math.pow(2,-10*(e-1)))}},Circular:{In:function(e){return 1-Math.sqrt(1-e*e)},Out:function(e){return Math.sqrt(1- --e*e)},InOut:function(e){return(e*=2)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)}},Elastic:{In:function(e){return 0===e?0:1===e?1:-Math.pow(2,10*(e-1))*Math.sin(5*(e-1.1)*Math.PI)},Out:function(e){return 0===e?0:1===e?1:Math.pow(2,-10*e)*Math.sin(5*(e-.1)*Math.PI)+1},InOut:function(e){return 0===e?0:1===e?1:(e*=2)<1?-.5*Math.pow(2,10*(e-1))*Math.sin(5*(e-1.1)*Math.PI):.5*Math.pow(2,-10*(e-1))*Math.sin(5*(e-1.1)*Math.PI)+1}},Back:{In:function(e){var t=1.70158;return e*e*((t+1)*e-t)},Out:function(e){var t=1.70158;return--e*e*((t+1)*e+t)+1},InOut:function(e){var t=2.5949095;return(e*=2)<1?e*e*((t+1)*e-t)*.5:.5*((e-=2)*e*((t+1)*e+t)+2)}},Bounce:{In:function(e){return 1-UN.Bounce.Out(1-e)},Out:function(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},InOut:function(e){return e<.5?.5*UN.Bounce.In(2*e):.5*UN.Bounce.Out(2*e-1)+.5}}},jN="undefined"===typeof self&&"undefined"!==typeof process&&process.hrtime?function(){var e=process.hrtime();return 1e3*e[0]+e[1]/1e6}:"undefined"!==typeof self&&void 0!==self.performance&&void 0!==self.performance.now?self.performance.now.bind(self.performance):void 0!==Date.now?Date.now:function(){return(new Date).getTime()},VN=function(){function e(){this._tweens={},this._tweensAddedDuringUpdate={}}return e.prototype.getAll=function(){var e=this;return Object.keys(this._tweens).map((function(t){return e._tweens[t]}))},e.prototype.removeAll=function(){this._tweens={}},e.prototype.add=function(e){this._tweens[e.getId()]=e,this._tweensAddedDuringUpdate[e.getId()]=e},e.prototype.remove=function(e){delete this._tweens[e.getId()],delete this._tweensAddedDuringUpdate[e.getId()]},e.prototype.update=function(e,t){void 0===e&&(e=jN()),void 0===t&&(t=!1);var n=Object.keys(this._tweens);if(0===n.length)return!1;for(;n.length>0;){this._tweensAddedDuringUpdate={};for(var r=0;r<n.length;r++){var i=this._tweens[n[r]],o=!t;i&&!1===i.update(e,o)&&!t&&delete this._tweens[n[r]]}n=Object.keys(this._tweensAddedDuringUpdate)}return!0},e}(),zN={Linear:function(e,t){var n=e.length-1,r=n*t,i=Math.floor(r),o=zN.Utils.Linear;return t<0?o(e[0],e[1],r):t>1?o(e[n],e[n-1],n-r):o(e[i],e[i+1>n?n:i+1],r-i)},Bezier:function(e,t){for(var n=0,r=e.length-1,i=Math.pow,o=zN.Utils.Bernstein,s=0;s<=r;s++)n+=i(1-t,r-s)*i(t,s)*e[s]*o(r,s);return n},CatmullRom:function(e,t){var n=e.length-1,r=n*t,i=Math.floor(r),o=zN.Utils.CatmullRom;return e[0]===e[n]?(t<0&&(i=Math.floor(r=n*(1+t))),o(e[(i-1+n)%n],e[i],e[(i+1)%n],e[(i+2)%n],r-i)):t<0?e[0]-(o(e[0],e[0],e[1],e[1],-r)-e[0]):t>1?e[n]-(o(e[n],e[n],e[n-1],e[n-1],r-n)-e[n]):o(e[i?i-1:0],e[i],e[n<i+1?n:i+1],e[n<i+2?n:i+2],r-i)},Utils:{Linear:function(e,t,n){return(t-e)*n+e},Bernstein:function(e,t){var n=zN.Utils.Factorial;return n(e)/n(t)/n(e-t)},Factorial:function(){var e=[1];return function(t){var n=1;if(e[t])return e[t];for(var r=t;r>1;r--)n*=r;return e[t]=n,n}}(),CatmullRom:function(e,t,n,r,i){var o=.5*(n-e),s=.5*(r-t),a=i*i;return(2*t-2*n+o+s)*(i*a)+(-3*t+3*n-2*o-s)*a+o*i+t}}},BN=function(){function e(){}return e.nextId=function(){return e._nextId++},e._nextId=0,e}(),qN=new VN,KN=function(){function e(e,t){void 0===t&&(t=qN),this._object=e,this._group=t,this._isPaused=!1,this._pauseStart=0,this._valuesStart={},this._valuesEnd={},this._valuesStartRepeat={},this._duration=1e3,this._initialRepeat=0,this._repeat=0,this._yoyo=!1,this._isPlaying=!1,this._reversed=!1,this._delayTime=0,this._startTime=0,this._easingFunction=UN.Linear.None,this._interpolationFunction=zN.Linear,this._chainedTweens=[],this._onStartCallbackFired=!1,this._id=BN.nextId(),this._isChainStopped=!1,this._goToEnd=!1}return e.prototype.getId=function(){return this._id},e.prototype.isPlaying=function(){return this._isPlaying},e.prototype.isPaused=function(){return this._isPaused},e.prototype.to=function(e,t){return this._valuesEnd=Object.create(e),void 0!==t&&(this._duration=t),this},e.prototype.duration=function(e){return this._duration=e,this},e.prototype.start=function(e){if(this._isPlaying)return this;if(this._group&&this._group.add(this),this._repeat=this._initialRepeat,this._reversed)for(var t in this._reversed=!1,this._valuesStartRepeat)this._swapEndStartRepeatValues(t),this._valuesStart[t]=this._valuesStartRepeat[t];return this._isPlaying=!0,this._isPaused=!1,this._onStartCallbackFired=!1,this._isChainStopped=!1,this._startTime=void 0!==e?"string"===typeof e?jN()+parseFloat(e):e:jN(),this._startTime+=this._delayTime,this._setupProperties(this._object,this._valuesStart,this._valuesEnd,this._valuesStartRepeat),this},e.prototype._setupProperties=function(e,t,n,r){for(var i in n){var o=e[i],s=Array.isArray(o),a=s?"array":typeof o,c=!s&&Array.isArray(n[i]);if("undefined"!==a&&"function"!==a){if(c){var l=n[i];if(0===l.length)continue;l=l.map(this._handleRelativeValue.bind(this,o)),n[i]=[o].concat(l)}if("object"!==a&&!s||!o||c)"undefined"===typeof t[i]&&(t[i]=o),s||(t[i]*=1),r[i]=c?n[i].slice().reverse():t[i]||0;else{for(var u in t[i]=s?[]:{},o)t[i][u]=o[u];r[i]=s?[]:{},this._setupProperties(o,t[i],n[i],r[i])}}}},e.prototype.stop=function(){return this._isChainStopped||(this._isChainStopped=!0,this.stopChainedTweens()),this._isPlaying?(this._group&&this._group.remove(this),this._isPlaying=!1,this._isPaused=!1,this._onStopCallback&&this._onStopCallback(this._object),this):this},e.prototype.end=function(){return this._goToEnd=!0,this.update(1/0),this},e.prototype.pause=function(e){return void 0===e&&(e=jN()),this._isPaused||!this._isPlaying||(this._isPaused=!0,this._pauseStart=e,this._group&&this._group.remove(this)),this},e.prototype.resume=function(e){return void 0===e&&(e=jN()),this._isPaused&&this._isPlaying?(this._isPaused=!1,this._startTime+=e-this._pauseStart,this._pauseStart=0,this._group&&this._group.add(this),this):this},e.prototype.stopChainedTweens=function(){for(var e=0,t=this._chainedTweens.length;e<t;e++)this._chainedTweens[e].stop();return this},e.prototype.group=function(e){return this._group=e,this},e.prototype.delay=function(e){return this._delayTime=e,this},e.prototype.repeat=function(e){return this._initialRepeat=e,this._repeat=e,this},e.prototype.repeatDelay=function(e){return this._repeatDelayTime=e,this},e.prototype.yoyo=function(e){return this._yoyo=e,this},e.prototype.easing=function(e){return this._easingFunction=e,this},e.prototype.interpolation=function(e){return this._interpolationFunction=e,this},e.prototype.chain=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return this._chainedTweens=e,this},e.prototype.onStart=function(e){return this._onStartCallback=e,this},e.prototype.onUpdate=function(e){return this._onUpdateCallback=e,this},e.prototype.onRepeat=function(e){return this._onRepeatCallback=e,this},e.prototype.onComplete=function(e){return this._onCompleteCallback=e,this},e.prototype.onStop=function(e){return this._onStopCallback=e,this},e.prototype.update=function(e,t){if(void 0===e&&(e=jN()),void 0===t&&(t=!0),this._isPaused)return!0;var n,r,i=this._startTime+this._duration;if(!this._goToEnd&&!this._isPlaying){if(e>i)return!1;t&&this.start(e)}if(this._goToEnd=!1,e<this._startTime)return!0;!1===this._onStartCallbackFired&&(this._onStartCallback&&this._onStartCallback(this._object),this._onStartCallbackFired=!0),r=(e-this._startTime)/this._duration,r=0===this._duration||r>1?1:r;var o=this._easingFunction(r);if(this._updateProperties(this._object,this._valuesStart,this._valuesEnd,o),this._onUpdateCallback&&this._onUpdateCallback(this._object,r),1===r){if(this._repeat>0){for(n in isFinite(this._repeat)&&this._repeat--,this._valuesStartRepeat)this._yoyo||"string"!==typeof this._valuesEnd[n]||(this._valuesStartRepeat[n]=this._valuesStartRepeat[n]+parseFloat(this._valuesEnd[n])),this._yoyo&&this._swapEndStartRepeatValues(n),this._valuesStart[n]=this._valuesStartRepeat[n];return this._yoyo&&(this._reversed=!this._reversed),void 0!==this._repeatDelayTime?this._startTime=e+this._repeatDelayTime:this._startTime=e+this._delayTime,this._onRepeatCallback&&this._onRepeatCallback(this._object),!0}this._onCompleteCallback&&this._onCompleteCallback(this._object);for(var s=0,a=this._chainedTweens.length;s<a;s++)this._chainedTweens[s].start(this._startTime+this._duration);return this._isPlaying=!1,!1}return!0},e.prototype._updateProperties=function(e,t,n,r){for(var i in n)if(void 0!==t[i]){var o=t[i]||0,s=n[i],a=Array.isArray(e[i]),c=Array.isArray(s);!a&&c?e[i]=this._interpolationFunction(s,r):"object"===typeof s&&s?this._updateProperties(e[i],o,s,r):"number"===typeof(s=this._handleRelativeValue(o,s))&&(e[i]=o+(s-o)*r)}},e.prototype._handleRelativeValue=function(e,t){return"string"!==typeof t?t:"+"===t.charAt(0)||"-"===t.charAt(0)?e+parseFloat(t):parseFloat(t)},e.prototype._swapEndStartRepeatValues=function(e){var t=this._valuesStartRepeat[e],n=this._valuesEnd[e];this._valuesStartRepeat[e]="string"===typeof n?this._valuesStartRepeat[e]+parseFloat(n):this._valuesEnd[e],this._valuesEnd[e]=t},e}(),HN=(BN.nextId,qN);HN.getAll.bind(HN),HN.removeAll.bind(HN),HN.add.bind(HN),HN.remove.bind(HN),HN.update.bind(HN);function GN(){return GN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},GN.apply(this,arguments)}var WN=function(e,t){return t&&t<i.Children.count(e)?t:0},QN={linear:UN.Linear.None,ease:UN.Quadratic.InOut,"ease-in":UN.Quadratic.In,"ease-out":UN.Quadratic.Out,cubic:UN.Cubic.InOut,"cubic-in":UN.Cubic.In,"cubic-out":UN.Cubic.Out},JN=function(e){return e?QN[e]:QN.linear},$N=function(e,t,n){var r=e.prevArrow,o=e.infinite,s=t<=0&&!o,a={"data-type":"prev","aria-label":"Previous Slide",disabled:s,onClick:n};if(r)return i.cloneElement(r,GN({className:(r.props.className||"")+" nav "+(s?"disabled":"")},a));var c="nav default-nav "+(s?"disabled":"");return i.createElement("button",Object.assign({type:"button",className:c},a),i.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24"},i.createElement("path",{d:"M16.67 0l2.83 2.829-9.339 9.175 9.339 9.167-2.83 2.829-12.17-11.996z"})))},YN=function(e,t,n,r){var o=e.nextArrow,s=e.infinite,a=e.children,c=1;r?c=null==r?void 0:r.settings.slidesToScroll:"slidesToScroll"in e&&(c=e.slidesToScroll||1);var l=t>=i.Children.count(a)-c&&!s,u={"data-type":"next","aria-label":"Next Slide",disabled:l,onClick:n};if(o)return i.cloneElement(o,GN({className:(o.props.className||"")+" nav "+(l?"disabled":"")},u));var h="nav default-nav "+(l?"disabled":"");return i.createElement("button",Object.assign({type:"button",className:h},u),i.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24"},i.createElement("path",{d:"M5 3l3.057-3 11.943 12-11.943 12-3.057-3 9-9z"})))},XN=function(e,t,n,r){var o=e.children,s=e.indicators,a=1;r?a=null==r?void 0:r.settings.slidesToScroll:"slidesToScroll"in e&&(a=e.slidesToScroll||1);var c=Math.ceil(i.Children.count(o)/a);return i.createElement("ul",{className:"indicators"},Array.from({length:c},(function(e,r){var o={"data-key":r,"aria-label":"Go to slide "+(r+1),onClick:n},c=Math.floor((t+a-1)/a)===r;return"function"===typeof s?function(e,t,n,r){return i.cloneElement(r,GN({className:r.props.className+" "+(e?"active":""),key:t},n))}(c,r,o,s(r)):function(e,t,n){return i.createElement("li",{key:t},i.createElement("button",Object.assign({type:"button",className:"each-slideshow-indicator "+(e?"active":"")},n)))}(c,r,o)})))},ZN={duration:5e3,transitionDuration:1e3,defaultIndex:0,infinite:!0,autoplay:!0,indicators:!1,arrows:!0,pauseOnHover:!0,easing:"linear",canSwipe:!0,cssClass:"",responsive:[]},eA=i.forwardRef((function(e,t){var n=(0,i.useState)(WN(e.children,e.defaultIndex)),r=n[0],o=n[1],s=(0,i.useRef)(null),a=(0,i.useRef)(null),c=(0,i.useRef)(new VN),l=(0,i.useRef)(),u=(0,i.useRef)(),h=(0,i.useMemo)((function(){return i.Children.count(e.children)}),[e.children]),d=(0,i.useCallback)((function(){if(a.current&&s.current){var e=s.current.clientWidth,t=e*h;a.current.style.width=t+"px";for(var n=0;n<a.current.children.length;n++){var r=a.current.children[n];r&&(r.style.width=e+"px",r.style.left=n*-e+"px",r.style.display="block")}}}),[s,a,h]),f=(0,i.useCallback)((function(){s.current&&(u.current=new FN((function(e){e&&d()})),u.current.observe(s.current))}),[s,d]),p=(0,i.useCallback)((function(){var t=e.autoplay,n=e.children,o=e.duration,s=e.infinite;t&&i.Children.count(n)>1&&(s||r<i.Children.count(n)-1)&&(l.current=setTimeout(v,o))}),[e,r]);(0,i.useEffect)((function(){return f(),function(){c.current.removeAll(),clearTimeout(l.current),m()}}),[f,c]),(0,i.useEffect)((function(){clearTimeout(l.current),p()}),[r,e.autoplay,p]),(0,i.useEffect)((function(){d()}),[h,d]),(0,i.useImperativeHandle)(t,(function(){return{goNext:function(){v()},goBack:function(){y()},goTo:function(e,t){null!=t&&t.skipTransition?o(e):E(e)}}}));var m=function(){u.current&&s.current&&u.current.unobserve(s.current)},g=function(){e.pauseOnHover&&clearTimeout(l.current)},v=function(){var t=e.children;(e.infinite||r!==i.Children.count(t)-1)&&_((r+1)%i.Children.count(t))},y=function(){var t=e.children;(e.infinite||0!==r)&&_(0===r?i.Children.count(t)-1:r-1)},w=function(e){"prev"===e.currentTarget.dataset.type?y():v()},b=function e(){requestAnimationFrame(e),c.current.update()},_=function(t){if(!c.current.getAll().length){var n;null!=(n=a.current)&&n.children[t]||(t=0),clearTimeout(l.current);b();var i=new KN({opacity:0,scale:1},c.current).to({opacity:1,scale:e.scale},e.transitionDuration).onUpdate((function(e){a.current&&(a.current.children[t].style.opacity=e.opacity,a.current.children[r].style.opacity=1-e.opacity,a.current.children[r].style.transform="scale("+e.scale+")")}));i.easing(JN(e.easing)),i.onStart((function(){"function"===typeof e.onStartChange&&e.onStartChange(r,t)})),i.onComplete((function(){a.current&&(o(t),a.current.children[r].style.transform="scale(1)"),"function"===typeof e.onChange&&e.onChange(r,t)})),i.start()}},E=function(e){e!==r&&_(e)};return i.createElement("div",{dir:"ltr","aria-roledescription":"carousel"},i.createElement("div",{className:"react-slideshow-container "+(e.cssClass||""),onMouseEnter:g,onMouseOver:g,onMouseLeave:function(){var t=e.pauseOnHover,n=e.autoplay,r=e.duration;t&&n&&(l.current=setTimeout((function(){return v()}),r))}},e.arrows&&$N(e,r,w),i.createElement("div",{className:"react-slideshow-fadezoom-wrapper "+e.cssClass,ref:s},i.createElement("div",{className:"react-slideshow-fadezoom-images-wrap",ref:a},(i.Children.map(e.children,(function(e){return e}))||[]).map((function(e,t){return i.createElement("div",{style:{opacity:t===r?"1":"0",zIndex:t===r?"1":"0"},"data-index":t,key:t,"aria-roledescription":"slide","aria-hidden":t===r?"false":"true"},e)})))),e.arrows&&YN(e,r,w)),e.indicators&&XN(e,r,(function(e){var t=e.currentTarget;t.dataset.key&&parseInt(t.dataset.key)!==r&&E(parseInt(t.dataset.key))})))}));eA.defaultProps=ZN;var tA=i.forwardRef((function(e,t){return i.createElement(eA,Object.assign({},e,{scale:1,ref:t}))}));tA.defaultProps=ZN;var nA=i.forwardRef((function(e,t){return i.createElement(eA,Object.assign({},e,{ref:t}))}));nA.defaultProps=ZN;var rA=i.forwardRef((function(e,t){var n,r=(0,i.useState)(WN(e.children,e.defaultIndex)),o=r[0],s=r[1],a=(0,i.useState)(0),c=a[0],l=a[1],u=(0,i.useRef)(null),h=(0,i.useRef)(null),d=(0,i.useRef)(new VN),f=(0,i.useMemo)((function(){return function(e,t){if("undefined"!==typeof window&&Array.isArray(t))return t.find((function(t){return t.breakpoint<=e}))}(c,e.responsive)}),[c,e.responsive]),p=(0,i.useMemo)((function(){return f?f.settings.slidesToScroll:e.slidesToScroll||1}),[f,e.slidesToScroll]),m=(0,i.useMemo)((function(){return f?f.settings.slidesToShow:e.slidesToShow||1}),[f,e.slidesToShow]),g=(0,i.useMemo)((function(){return i.Children.count(e.children)}),[e.children]),v=(0,i.useMemo)((function(){return c/m}),[c,m]),y=(0,i.useRef)(),w=(0,i.useRef)(),b=!1,_=0,E=e.vertical?"translateY":"translateX",I=e.vertical?"clientY":"clientX",T=e.vertical?"pageY":"pageX",S=(0,i.useCallback)((function(){if(h.current){var t=c*h.current.children.length,n=e.vertical?"height":"width";h.current.style[n]=t+"px",e.vertical&&u.current&&(u.current.style[n]=c+"px");for(var r=0;r<h.current.children.length;r++){var i=h.current.children[r];i&&(e.vertical||(i.style[n]=v+"px"),i.style.display="block")}}}),[c,v]),k=(0,i.useCallback)((function(){u.current&&(w.current=new FN((function(e){e&&M()})),w.current.observe(u.current))}),[u]),C=(0,i.useCallback)((function(){var t=e.autoplay,n=e.infinite,r=e.duration;t&&(n||o<g-1)&&(y.current=setTimeout(P,r))}),[e,g,o]);(0,i.useEffect)((function(){S()}),[c,S]),(0,i.useEffect)((function(){return k(),function(){d.current.removeAll(),clearTimeout(y.current),x()}}),[u,k,d]),(0,i.useEffect)((function(){clearTimeout(y.current),C()}),[o,c,e.autoplay,C]),(0,i.useImperativeHandle)(t,(function(){return{goNext:function(){P()},goBack:function(){R()},goTo:function(e,t){null!=t&&t.skipTransition?s(e):O(e)}}}));var x=function(){w&&u.current&&w.current.unobserve(u.current)},N=function(){e.pauseOnHover&&clearTimeout(y.current)},A=function(t){var r;if(e.canSwipe&&b&&((r=window.TouchEvent&&t.nativeEvent instanceof TouchEvent?t.nativeEvent.touches[0][T]:t.nativeEvent[I])&&n)){var i=v*(o+z()),s=r-n;if(!e.infinite&&o===g-p&&s<0)return;if(!e.infinite&&0===o&&s>0)return;i-=_=s,h.current.style.transform=E+"(-"+i+"px)"}},P=function(){if(e.infinite||o!==g-p){var t=D(o+p);V(t)}},R=function(){if(e.infinite||0!==o){var t=o-p;t%p&&(t=Math.ceil(t/p)*p),V(t)}},O=function(e){V(D(e))},D=function(e){return e<g&&e+p>g&&(g-p)%p?g-p:e},L=function(e){"next"===e.currentTarget.dataset.type?P():R()},M=function(){var t=e.vertical?"clientHeight":"clientWidth";e.vertical?h.current&&l(h.current.children[0][t]):u.current&&l(u.current[t])},F=function(t){e.canSwipe&&(n=window.TouchEvent&&t.nativeEvent instanceof TouchEvent?t.nativeEvent.touches[0][T]:t.nativeEvent[I],clearTimeout(y.current),b=!0)},U=function(){e.canSwipe&&(b=!1,Math.abs(_)/c>.2?_<0?P():R():Math.abs(_)>0&&V(o,300))},j=function e(){requestAnimationFrame(e),d.current.update()},V=function(t,n){var r=n||e.transitionDuration,i=o,a=d.current.getAll();if(u.current){var c=e.vertical?"clientHeight":"clientWidth",l=u.current[c]/m;if(!a.length){clearTimeout(y.current);var f={margin:-l*(i+z())+_},v=new KN(f,d.current).to({margin:-l*(t+z())},r).onUpdate((function(e){h.current&&(h.current.style.transform=E+"("+e.margin+"px)")}));v.easing(JN(e.easing)),j();var w=t;w<0?w=g-p:w>=g&&(w=0),v.onStart((function(){"function"===typeof e.onStartChange&&e.onStartChange(o,w)})),v.onComplete((function(){_=0,"function"===typeof e.onChange&&e.onChange(o,w),s(w)})),v.start()}}},z=function(){return e.infinite?m:0},B={transform:E+"(-"+(o+z())*v+"px)"};return i.createElement("div",{dir:"ltr","aria-roledescription":"carousel"},i.createElement("div",{className:"react-slideshow-container",onMouseEnter:N,onMouseOver:N,onMouseLeave:function(){b?U():e.pauseOnHover&&e.autoplay&&(y.current=setTimeout(P,e.duration))},onMouseDown:F,onMouseUp:U,onMouseMove:A,onTouchStart:F,onTouchEnd:U,onTouchCancel:U,onTouchMove:A},e.arrows&&$N(e,o,L),i.createElement("div",{className:"react-slideshow-wrapper slide "+(e.cssClass||""),ref:u},i.createElement("div",{className:"images-wrap "+(e.vertical?"vertical":"horizontal"),style:B,ref:h},e.infinite&&i.Children.toArray(e.children).slice(-m).map((function(e,t){return i.createElement("div",{"data-index":t-m,"aria-roledescription":"slide","aria-hidden":"true",key:t-m},e)})),(i.Children.map(e.children,(function(e){return e}))||[]).map((function(e,t){var n=function(e){return e<o+m&&e>=o}(t);return i.createElement("div",{"data-index":t,key:t,className:n?"active":"","aria-roledescription":"slide","aria-hidden":n?"false":"true"},e)})),function(){if(e.infinite||m!==p)return i.Children.toArray(e.children).slice(0,m).map((function(e,t){return i.createElement("div",{"data-index":g+t,"aria-roledescription":"slide","aria-hidden":"true",key:g+t},e)}))}())),e.arrows&&YN(e,o,L,f)),!!e.indicators&&XN(e,o,(function(e){var t=e.currentTarget;if(t.dataset.key){var n=parseInt(t.dataset.key);O(n*p)}}),f))}));function iA(e,t){return iA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},iA(e,t)}function oA(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,iA(e,t)}rA.defaultProps=ZN;const sA=function(e,t){var n=-1,r=rr(e)?Array(e.length):[];return hi(e,(function(e,i,o){r[++n]=t(e,i,o)})),r};const aA=function(e,t){return(yn(e)?Kr:sA)(e,ai(t,3))};const cA=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)};const lA=function(e){var t=null==e?0:e.length;return t?e[t-1]:void 0};const uA=function(e,t,n){var r=-1,i=e.length;t<0&&(t=-t>i?0:i+t),(n=n>i?i:n)<0&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var o=Array(i);++r<i;)o[r]=e[r+t];return o};const hA=function(e,t){return t.length<2?e:Yr(e,uA(t,0,-1))};const dA=function(e,t,n){t=Jr(t,e);var r=null==(e=hA(e,t))?e:e[$r(lA(t))];return null==r?void 0:cA(r,e,n)};var fA=Math.max;const pA=function(e,t,n){return t=fA(void 0===t?e.length-1:t,0),function(){for(var r=arguments,i=-1,o=fA(r.length-t,0),s=Array(o);++i<o;)s[i]=r[t+i];i=-1;for(var a=Array(t+1);++i<t;)a[i]=r[i];return a[t]=n(s),cA(e,this,a)}};const mA=function(e){return function(){return e}};const gA=function(){try{var e=Dt(Object,"defineProperty");return e({},"",{}),e}catch(vV){}}();const vA=gA?function(e,t){return gA(e,"toString",{configurable:!0,enumerable:!1,value:mA(t),writable:!0})}:ri;var yA=Date.now;const wA=function(e){var t=0,n=0;return function(){var r=yA(),i=16-(r-n);if(n=r,i>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}};const bA=wA(vA);const _A=function(e,t){return bA(pA(e,t,ri),e+"")};const EA=_A(dA);const IA=function(e){return void 0===e};var TA=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var o=(t=e.call.apply(e,[this].concat(r))||this).constructor,s=o.autoControlledProps,a=o.getAutoControlledStateFromProps,c=EA(function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(t),"getInitialAutoControlledState",t.props)||{},l=s.reduce((function(e,n){return e[n]=function(e,t,n,r){void 0===r&&(r=!1);var i,o=t[e];if(void 0!==o)return o;if(r){var s=t[(i=e,"default"+(i[0].toUpperCase()+i.slice(1)))];if(void 0!==s)return s;if(n){var a=n[e];if(void 0!==a)return a}}return"checked"!==e&&("value"===e?t.multiple?[]:"":void 0)}(n,t.props,c,!0),e}),{});return t.state=Pe({},c,l,{autoControlledProps:s,getAutoControlledStateFromProps:a}),t}return oA(t,e),t.getDerivedStateFromProps=function(e,t){var n=t.autoControlledProps,r=t.getAutoControlledStateFromProps,i=n.reduce((function(t,n){return!IA(e[n])&&(t[n]=e[n]),t}),{});if(r){var o=r(e,Pe({},t,i),t);return Pe({},i,o)}return i},t.getAutoControlledStateFromProps=function(){return null},t}(i.Component);function SA(e){var t=e.children,n=e.className,r=e.content,o=Oe("header",n),s=qe(SA,e),a=Ke(SA,e);return i.createElement(a,Pe({},s,{className:o}),mi(t)?r:t)}SA.handledProps=["as","children","className","content"],SA.propTypes={};const kA=SA;const CA=function(e,t,n,r){var i=-1,o=null==e?0:e.length;for(r&&o&&(n=e[++i]);++i<o;)n=t(n,e[i],i,e);return n};const xA=function(e){return function(t){return null==e?void 0:e[t]}}({"\xc0":"A","\xc1":"A","\xc2":"A","\xc3":"A","\xc4":"A","\xc5":"A","\xe0":"a","\xe1":"a","\xe2":"a","\xe3":"a","\xe4":"a","\xe5":"a","\xc7":"C","\xe7":"c","\xd0":"D","\xf0":"d","\xc8":"E","\xc9":"E","\xca":"E","\xcb":"E","\xe8":"e","\xe9":"e","\xea":"e","\xeb":"e","\xcc":"I","\xcd":"I","\xce":"I","\xcf":"I","\xec":"i","\xed":"i","\xee":"i","\xef":"i","\xd1":"N","\xf1":"n","\xd2":"O","\xd3":"O","\xd4":"O","\xd5":"O","\xd6":"O","\xd8":"O","\xf2":"o","\xf3":"o","\xf4":"o","\xf5":"o","\xf6":"o","\xf8":"o","\xd9":"U","\xda":"U","\xdb":"U","\xdc":"U","\xf9":"u","\xfa":"u","\xfb":"u","\xfc":"u","\xdd":"Y","\xfd":"y","\xff":"y","\xc6":"Ae","\xe6":"ae","\xde":"Th","\xfe":"th","\xdf":"ss","\u0100":"A","\u0102":"A","\u0104":"A","\u0101":"a","\u0103":"a","\u0105":"a","\u0106":"C","\u0108":"C","\u010a":"C","\u010c":"C","\u0107":"c","\u0109":"c","\u010b":"c","\u010d":"c","\u010e":"D","\u0110":"D","\u010f":"d","\u0111":"d","\u0112":"E","\u0114":"E","\u0116":"E","\u0118":"E","\u011a":"E","\u0113":"e","\u0115":"e","\u0117":"e","\u0119":"e","\u011b":"e","\u011c":"G","\u011e":"G","\u0120":"G","\u0122":"G","\u011d":"g","\u011f":"g","\u0121":"g","\u0123":"g","\u0124":"H","\u0126":"H","\u0125":"h","\u0127":"h","\u0128":"I","\u012a":"I","\u012c":"I","\u012e":"I","\u0130":"I","\u0129":"i","\u012b":"i","\u012d":"i","\u012f":"i","\u0131":"i","\u0134":"J","\u0135":"j","\u0136":"K","\u0137":"k","\u0138":"k","\u0139":"L","\u013b":"L","\u013d":"L","\u013f":"L","\u0141":"L","\u013a":"l","\u013c":"l","\u013e":"l","\u0140":"l","\u0142":"l","\u0143":"N","\u0145":"N","\u0147":"N","\u014a":"N","\u0144":"n","\u0146":"n","\u0148":"n","\u014b":"n","\u014c":"O","\u014e":"O","\u0150":"O","\u014d":"o","\u014f":"o","\u0151":"o","\u0154":"R","\u0156":"R","\u0158":"R","\u0155":"r","\u0157":"r","\u0159":"r","\u015a":"S","\u015c":"S","\u015e":"S","\u0160":"S","\u015b":"s","\u015d":"s","\u015f":"s","\u0161":"s","\u0162":"T","\u0164":"T","\u0166":"T","\u0163":"t","\u0165":"t","\u0167":"t","\u0168":"U","\u016a":"U","\u016c":"U","\u016e":"U","\u0170":"U","\u0172":"U","\u0169":"u","\u016b":"u","\u016d":"u","\u016f":"u","\u0171":"u","\u0173":"u","\u0174":"W","\u0175":"w","\u0176":"Y","\u0177":"y","\u0178":"Y","\u0179":"Z","\u017b":"Z","\u017d":"Z","\u017a":"z","\u017c":"z","\u017e":"z","\u0132":"IJ","\u0133":"ij","\u0152":"Oe","\u0153":"oe","\u0149":"'n","\u017f":"s"});var NA=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,AA=RegExp("[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]","g");const PA=function(e){return(e=Qr(e))&&e.replace(NA,xA).replace(AA,"")};var RA=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;const OA=function(e){return e.match(RA)||[]};var DA=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;const LA=function(e){return DA.test(e)};var MA="\\ud800-\\udfff",FA="\\u2700-\\u27bf",UA="a-z\\xdf-\\xf6\\xf8-\\xff",jA="A-Z\\xc0-\\xd6\\xd8-\\xde",VA="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",zA="["+VA+"]",BA="\\d+",qA="["+FA+"]",KA="["+UA+"]",HA="[^"+MA+VA+BA+FA+UA+jA+"]",GA="(?:\\ud83c[\\udde6-\\uddff]){2}",WA="[\\ud800-\\udbff][\\udc00-\\udfff]",QA="["+jA+"]",JA="(?:"+KA+"|"+HA+")",$A="(?:"+QA+"|"+HA+")",YA="(?:['\u2019](?:d|ll|m|re|s|t|ve))?",XA="(?:['\u2019](?:D|LL|M|RE|S|T|VE))?",ZA="(?:[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]|\\ud83c[\\udffb-\\udfff])?",eP="[\\ufe0e\\ufe0f]?",tP=eP+ZA+("(?:\\u200d(?:"+["[^"+MA+"]",GA,WA].join("|")+")"+eP+ZA+")*"),nP="(?:"+[qA,GA,WA].join("|")+")"+tP,rP=RegExp([QA+"?"+KA+"+"+YA+"(?="+[zA,QA,"$"].join("|")+")",$A+"+"+XA+"(?="+[zA,QA+JA,"$"].join("|")+")",QA+"?"+JA+"+"+YA,QA+"+"+XA,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",BA,nP].join("|"),"g");const iP=function(e){return e.match(rP)||[]};const oP=function(e,t,n){return e=Qr(e),void 0===(t=n?void 0:t)?LA(e)?iP(e):OA(e):e.match(t)||[]};var sP=RegExp("['\u2019]","g");const aP=function(e){return function(t){return CA(oP(PA(t).replace(sP,"")),e,"")}};const cP=function(e,t,n){var r=e.length;return n=void 0===n?r:n,!t&&n>=r?e:uA(e,t,n)};var lP=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");const uP=function(e){return lP.test(e)};const hP=function(e){return e.split("")};var dP="\\ud800-\\udfff",fP="["+dP+"]",pP="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",mP="\\ud83c[\\udffb-\\udfff]",gP="[^"+dP+"]",vP="(?:\\ud83c[\\udde6-\\uddff]){2}",yP="[\\ud800-\\udbff][\\udc00-\\udfff]",wP="(?:"+pP+"|"+mP+")"+"?",bP="[\\ufe0e\\ufe0f]?",_P=bP+wP+("(?:\\u200d(?:"+[gP,vP,yP].join("|")+")"+bP+wP+")*"),EP="(?:"+[gP+pP+"?",pP,vP,yP,fP].join("|")+")",IP=RegExp(mP+"(?="+mP+")|"+EP+_P,"g");const TP=function(e){return e.match(IP)||[]};const SP=function(e){return uP(e)?TP(e):hP(e)};const kP=function(e){return function(t){t=Qr(t);var n=uP(t)?SP(t):void 0,r=n?n[0]:t.charAt(0),i=n?cP(n,1).join(""):t.slice(1);return r[e]()+i}}("toUpperCase");var CP=aP((function(e,t,n){return e+(n?" ":"")+kP(t)}));const xP=CP;function NP(e){var t=e.children,n=e.className,r=e.content,o=e.size,s=Oe(o,"icons",n),a=qe(NP,e),c=Ke(NP,e);return i.createElement(c,Pe({},a,{className:s}),mi(t)?r:t)}NP.handledProps=["as","children","className","content","size"],NP.propTypes={},NP.defaultProps={as:"i"};const AP=NP;var PP=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).handleClick=function(e){t.props.disabled?e.preventDefault():EA(t.props,"onClick",e,t.props)},t}oA(t,e);var n=t.prototype;return n.getIconAriaOptions=function(){var e={},t=this.props,n=t["aria-label"],r=t["aria-hidden"];return ji(n)?e["aria-hidden"]="true":e["aria-label"]=n,ji(r)||(e["aria-hidden"]=r),e},n.render=function(){var e=this.props,n=e.bordered,r=e.circular,o=e.className,s=e.color,a=e.corner,c=e.disabled,l=e.fitted,u=e.flipped,h=e.inverted,d=e.link,f=e.loading,p=e.name,m=e.rotated,g=e.size,v=Oe(s,p,g,Me(n,"bordered"),Me(r,"circular"),Me(c,"disabled"),Me(l,"fitted"),Me(h,"inverted"),Me(d,"link"),Me(f,"loading"),Ue(a,"corner"),Fe(u,"flipped"),Fe(m,"rotated"),"icon",o),y=qe(t,this.props),w=Ke(t,this.props),b=this.getIconAriaOptions();return i.createElement(w,Pe({},y,b,{className:v,onClick:this.handleClick}))},t}(i.PureComponent);PP.handledProps=["aria-hidden","aria-label","as","bordered","circular","className","color","corner","disabled","fitted","flipped","inverted","link","loading","name","rotated","size"],PP.propTypes={},PP.defaultProps={as:"i"},PP.Group=AP,PP.create=zi(PP,(function(e){return{name:e}}));const RP=PP;var OP=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).handleClick=function(e){t.props.disabled||EA(t.props,"onClick",e,t.props)},t}return oA(t,e),t.prototype.render=function(){var e=this.props,n=e.active,r=e.children,o=e.className,s=e.color,a=e.content,c=e.disabled,l=e.fitted,u=e.header,h=e.icon,d=e.link,f=e.name,p=e.onClick,m=e.position,g=Oe(s,m,Me(n,"active"),Me(c,"disabled"),Me(!0===h||h&&!(f||a),"icon"),Me(u,"header"),Me(d,"link"),Ue(l,"fitted"),"item",o),v=Ke(t,this.props,(function(){if(p)return"a"})),y=qe(t,this.props);return mi(r)?i.createElement(v,Pe({},y,{className:g,onClick:this.handleClick}),RP.create(h,{autoGenerateKey:!1}),mi(a)?xP(f):a):i.createElement(v,Pe({},y,{className:g,onClick:this.handleClick}),r)},t}(i.Component);function DP(e){var t=e.children,n=e.className,r=e.content,o=e.position,s=Oe(o,"menu",n),a=qe(DP,e),c=Ke(DP,e);return i.createElement(c,Pe({},a,{className:s}),mi(t)?r:t)}OP.handledProps=["active","as","children","className","color","content","disabled","fitted","header","icon","index","link","name","onClick","position"],OP.propTypes={},OP.create=zi(OP,(function(e){return{content:e,name:e}})),DP.handledProps=["as","children","className","content","position"],DP.propTypes={};const LP=DP;var MP=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).handleItemOverrides=function(e){return{onClick:function(n,r){var i=r.index;t.setState({activeIndex:i}),EA(e,"onClick",n,r),EA(t.props,"onItemClick",n,r)}}},t}oA(t,e);var n=t.prototype;return n.renderItems=function(){var e=this,t=this.props.items,n=this.state.activeIndex;return aA(t,(function(t,r){return OP.create(t,{defaultProps:{active:parseInt(n,10)===r,index:r},overrideProps:e.handleItemOverrides})}))},n.render=function(){var e=this.props,n=e.attached,r=e.borderless,o=e.children,s=e.className,a=e.color,c=e.compact,l=e.fixed,u=e.floated,h=e.fluid,d=e.icon,f=e.inverted,p=e.pagination,m=e.pointing,g=e.secondary,v=e.size,y=e.stackable,w=e.tabular,b=e.text,_=e.vertical,E=e.widths,I=Oe("ui",a,v,Me(r,"borderless"),Me(c,"compact"),Me(h,"fluid"),Me(f,"inverted"),Me(p,"pagination"),Me(m,"pointing"),Me(g,"secondary"),Me(y,"stackable"),Me(b,"text"),Me(_,"vertical"),Ue(n,"attached"),Ue(u,"floated"),Ue(d,"icon"),Ue(w,"tabular"),Fe(l,"fixed"),Be(E,"item"),s,"menu"),T=qe(t,this.props),S=Ke(t,this.props);return i.createElement(S,Pe({},T,{className:I}),mi(o)?this.renderItems():o)},t}(TA);MP.handledProps=["activeIndex","as","attached","borderless","children","className","color","compact","defaultActiveIndex","fixed","floated","fluid","icon","inverted","items","onItemClick","pagination","pointing","secondary","size","stackable","tabular","text","vertical","widths"],MP.propTypes={},MP.autoControlledProps=["activeIndex"],MP.Header=kA,MP.Item=OP,MP.Menu=LP,MP.create=zi(MP,(function(e){return{items:e}}));const FP=MP;function UP(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}var jP=Object.prototype.hasOwnProperty;const VP=function(e){if(null==e)return!0;if(rr(e)&&(yn(e)||"string"==typeof e||"function"==typeof e.splice||Mn(e)||Qn(e)||Pn(e)))return!e.length;var t=Ir(e);if("[object Map]"==t||"[object Set]"==t)return!e.size;if(Xn(e))return!nr(e).length;for(var n in e)if(jP.call(e,n))return!1;return!0};const zP=hr&&new hr;const BP=zP?function(e,t){return zP.set(e,t),e}:ri;var qP=Object.create;const KP=function(){function e(){}return function(t){if(!wt(t))return{};if(qP)return qP(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();const HP=function(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=KP(e.prototype),r=e.apply(n,t);return wt(r)?r:n}};const GP=function(e,t,n){var r=1&t,i=HP(e);return function t(){return(this&&this!==ct&&this instanceof t?i:e).apply(r?n:this,arguments)}};var WP=Math.max;const QP=function(e,t,n,r){for(var i=-1,o=e.length,s=n.length,a=-1,c=t.length,l=WP(o-s,0),u=Array(c+l),h=!r;++a<c;)u[a]=t[a];for(;++i<s;)(h||i<o)&&(u[n[i]]=e[i]);for(;l--;)u[a++]=e[i++];return u};var JP=Math.max;const $P=function(e,t,n,r){for(var i=-1,o=e.length,s=-1,a=n.length,c=-1,l=t.length,u=JP(o-a,0),h=Array(u+l),d=!r;++i<u;)h[i]=e[i];for(var f=i;++c<l;)h[f+c]=t[c];for(;++s<a;)(d||i<o)&&(h[f+n[s]]=e[i++]);return h};const YP=function(e,t){for(var n=e.length,r=0;n--;)e[n]===t&&++r;return r};const XP=function(){};function ZP(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=4294967295,this.__views__=[]}ZP.prototype=KP(XP.prototype),ZP.prototype.constructor=ZP;const eR=ZP;const tR=zP?function(e){return zP.get(e)}:Ti;const nR={};var rR=Object.prototype.hasOwnProperty;const iR=function(e){for(var t=e.name+"",n=nR[t],r=rR.call(nR,t)?n.length:0;r--;){var i=n[r],o=i.func;if(null==o||o==e)return i.name}return t};function oR(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=void 0}oR.prototype=KP(XP.prototype),oR.prototype.constructor=oR;const sR=oR;const aR=function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t};const cR=function(e){if(e instanceof eR)return e.clone();var t=new sR(e.__wrapped__,e.__chain__);return t.__actions__=aR(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t};var lR=Object.prototype.hasOwnProperty;function uR(e){if(kn(e)&&!yn(e)&&!(e instanceof eR)){if(e instanceof sR)return e;if(lR.call(e,"__wrapped__"))return cR(e)}return new sR(e)}uR.prototype=XP.prototype,uR.prototype.constructor=uR;const hR=uR;const dR=function(e){var t=iR(e),n=hR[t];if("function"!=typeof n||!(t in eR.prototype))return!1;if(e===n)return!0;var r=tR(n);return!!r&&e===r[0]};const fR=wA(BP);var pR=/\{\n\/\* \[wrapped with (.+)\] \*/,mR=/,? & /;const gR=function(e){var t=e.match(pR);return t?t[1].split(mR):[]};var vR=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/;const yR=function(e,t){var n=t.length;if(!n)return e;var r=n-1;return t[r]=(n>1?"& ":"")+t[r],t=t.join(n>2?", ":" "),e.replace(vR,"{\n/* [wrapped with "+t+"] */\n")};const wR=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e};var bR=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]];const _R=function(e,t){return wR(bR,(function(n){var r="_."+n[0];t&n[1]&&!Ei(e,r)&&e.push(r)})),e.sort()};const ER=function(e,t,n){var r=t+"";return bA(e,yR(r,_R(gR(r),n)))};const IR=function(e,t,n,r,i,o,s,a,c,l){var u=8&t;t|=u?32:64,4&(t&=~(u?64:32))||(t&=-4);var h=[e,t,i,u?o:void 0,u?s:void 0,u?void 0:o,u?void 0:s,a,c,l],d=n.apply(void 0,h);return dR(e)&&fR(d,h),d.placeholder=r,ER(d,e,t)};const TR=function(e){return e.placeholder};var SR=Math.min;const kR=function(e,t){for(var n=e.length,r=SR(t.length,n),i=aR(e);r--;){var o=t[r];e[r]=Un(o,n)?i[o]:void 0}return e};var CR="__lodash_placeholder__";const xR=function(e,t){for(var n=-1,r=e.length,i=0,o=[];++n<r;){var s=e[n];s!==t&&s!==CR||(e[n]=CR,o[i++]=n)}return o};const NR=function e(t,n,r,i,o,s,a,c,l,u){var h=128&n,d=1&n,f=2&n,p=24&n,m=512&n,g=f?void 0:HP(t);return function v(){for(var y=arguments.length,w=Array(y),b=y;b--;)w[b]=arguments[b];if(p)var _=TR(v),E=YP(w,_);if(i&&(w=QP(w,i,o,p)),s&&(w=$P(w,s,a,p)),y-=E,p&&y<u){var I=xR(w,_);return IR(t,n,e,v.placeholder,r,w,I,c,l,u-y)}var T=d?r:this,S=f?T[t]:t;return y=w.length,c?w=kR(w,c):m&&y>1&&w.reverse(),h&&l<y&&(w.length=l),this&&this!==ct&&this instanceof v&&(S=g||HP(S)),S.apply(T,w)}};const AR=function(e,t,n){var r=HP(e);return function i(){for(var o=arguments.length,s=Array(o),a=o,c=TR(i);a--;)s[a]=arguments[a];var l=o<3&&s[0]!==c&&s[o-1]!==c?[]:xR(s,c);return(o-=l.length)<n?IR(e,t,NR,i.placeholder,void 0,s,l,void 0,void 0,n-o):cA(this&&this!==ct&&this instanceof i?r:e,this,s)}};const PR=function(e,t,n,r){var i=1&t,o=HP(e);return function t(){for(var s=-1,a=arguments.length,c=-1,l=r.length,u=Array(l+a),h=this&&this!==ct&&this instanceof t?o:e;++c<l;)u[c]=r[c];for(;a--;)u[c++]=arguments[++s];return cA(h,i?n:this,u)}};var RR="__lodash_placeholder__",OR=128,DR=Math.min;const LR=function(e,t){var n=e[1],r=t[1],i=n|r,o=i<131,s=r==OR&&8==n||r==OR&&256==n&&e[7].length<=t[8]||384==r&&t[7].length<=t[8]&&8==n;if(!o&&!s)return e;1&r&&(e[2]=t[2],i|=1&n?0:4);var a=t[3];if(a){var c=e[3];e[3]=c?QP(c,a,t[4]):a,e[4]=c?xR(e[3],RR):t[4]}return(a=t[5])&&(c=e[5],e[5]=c?$P(c,a,t[6]):a,e[6]=c?xR(e[5],RR):t[6]),(a=t[7])&&(e[7]=a),r&OR&&(e[8]=null==e[8]?t[8]:DR(e[8],t[8])),null==e[9]&&(e[9]=t[9]),e[0]=t[0],e[1]=i,e};var MR=/\s/;const FR=function(e){for(var t=e.length;t--&&MR.test(e.charAt(t)););return t};var UR=/^\s+/;const jR=function(e){return e?e.slice(0,FR(e)+1).replace(UR,""):e};var VR=/^[-+]0x[0-9a-f]+$/i,zR=/^0b[01]+$/i,BR=/^0o[0-7]+$/i,qR=parseInt;const KR=function(e){if("number"==typeof e)return e;if(Lr(e))return NaN;if(wt(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=wt(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=jR(e);var n=zR.test(e);return n||BR.test(e)?qR(e.slice(2),n?2:8):VR.test(e)?NaN:+e};var HR=1/0;const GR=function(e){return e?(e=KR(e))===HR||e===-1/0?17976931348623157e292*(e<0?-1:1):e===e?e:0:0===e?e:0};const WR=function(e){var t=GR(e),n=t%1;return t===t?n?t-n:t:0};var QR=Math.max;const JR=function(e,t,n,r,i,o,s,a){var c=2&t;if(!c&&"function"!=typeof e)throw new TypeError("Expected a function");var l=r?r.length:0;if(l||(t&=-97,r=i=void 0),s=void 0===s?s:QR(WR(s),0),a=void 0===a?a:WR(a),l-=i?i.length:0,64&t){var u=r,h=i;r=i=void 0}var d=c?void 0:tR(e),f=[e,t,n,r,i,u,h,o,s,a];if(d&&LR(f,d),e=f[0],t=f[1],n=f[2],r=f[3],i=f[4],!(a=f[9]=void 0===f[9]?c?0:e.length:QR(f[9]-l,0))&&24&t&&(t&=-25),t&&1!=t)p=8==t||16==t?AR(e,t,a):32!=t&&33!=t||i.length?NR.apply(void 0,f):PR(e,t,n,r);else var p=GP(e,t,n);return ER((d?BP:fR)(p,f),e,t)};var $R=_A((function(e,t){var n=xR(t,TR($R));return JR(e,64,void 0,t,n)}));$R.placeholder={};const YR=$R;var XR=Math.max,ZR=Math.min;const eO=function(e,t,n){return e>=ZR(t,n)&&e<XR(t,n)};const tO=function(e,t,n){return t=GR(t),void 0===n?(n=t,t=0):n=GR(n),e=KR(e),eO(e,t,n)};const nO=function(e,t,n,r,i){return i(e,(function(e,i,o){n=r?(r=!1,e):t(n,e,i,o)})),n};const rO=function(e,t,n){var r=yn(e)?CA:nO,i=arguments.length<3;return r(e,ai(t,4),n,i,hi)};var iO=n(90),oO=n.n(iO),sO=n(324),aO=n.n(sO),cO=n(173),lO=n.n(cO);const uO=cO.instance;var hO="object"===typeof document&&null!==document,dO="object"===typeof window&&null!==window&&window.self===window;const fO=function e(){return ji(e.override)?hO&&dO:e.override};const pO=function(e,t){return Kr(t,(function(t){return e[t]}))};const mO=function(e){return null==e?[]:pO(e,ir(e))};var gO=Math.max;const vO=function(e,t,n,r){e=rr(e)?e:mO(e),n=n&&!r?WR(n):0;var i=e.length;return n<0&&(n=gO(i+n,0)),Fi(e)?n<=i&&e.indexOf(t,n)>-1:!!i&&_i(e,t,n)>-1};const yO=function(e){return"function"==typeof e?e:ri};const wO=function(e,t){return(yn(e)?wR:hi)(e,yO(t))};var bO=["selected","defaultValue","defaultChecked","accept","autoCapitalize","autoComplete","autoCorrect","autoFocus","checked","disabled","enterKeyHint","form","id","inputMode","lang","list","max","maxLength","min","minLength","multiple","name","pattern","placeholder","readOnly","required","step","title","type","value"],_O=[].concat(bO,["onKeyDown","onKeyPress","onKeyUp","onFocus","onBlur","onChange","onInput","onClick","onContextMenu","onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp","onSelect","onTouchCancel","onTouchEnd","onTouchMove","onTouchStart"]),EO=["alt","height","src","srcSet","width","loading"],IO=function(e,t){void 0===t&&(t={});var n=t,r=n.htmlProps,i=void 0===r?_O:r,o=n.includeAria,s=void 0===o||o,a={},c={};return wO(e,(function(e,t){var n=s&&(/^aria-.*$/.test(t)||"role"===t);(vO(i,t)||n?a:c)[t]=e})),[a,c]},TO=function(e,t){"function"!==typeof e?null!==e&&"object"===typeof e&&(e.current=t):e(t)},SO=function(e){return null!==e&&"object"===typeof e&&e.hasOwnProperty("current")},kO=n(904);var CO=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).prevNode=void 0,t}oA(t,e);var n=t.prototype;return n.componentDidMount=function(){var e=s.findDOMNode(this);this.prevNode=e,TO(this.props.innerRef,e)},n.componentDidUpdate=function(e){var t=s.findDOMNode(this);this.prevNode!==t&&(this.prevNode=t,TO(this.props.innerRef,t)),e.innerRef!==this.props.innerRef&&TO(this.props.innerRef,t)},n.componentWillUnmount=function(){TO(this.props.innerRef,null),delete this.prevNode},n.render=function(){return this.props.children},t}(i.Component),xO=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).currentNode=void 0,t.handleRefOverride=function(e){var n=t.props,r=n.children,i=n.innerRef;TO(r.ref,e),TO(i,e),t.currentNode=e},t}oA(t,e);var n=t.prototype;return n.componentDidUpdate=function(e){e.innerRef!==this.props.innerRef&&TO(this.props.innerRef,this.currentNode)},n.componentWillUnmount=function(){delete this.currentNode},n.render=function(){var e=this.props.children;return i.cloneElement(e,{ref:this.handleRefOverride})},t}(i.Component),NO=["children","innerRef"],AO=function(e){var t=e.children,n=e.innerRef,r=UP(e,NO),o=i.Children.only(t),s=kO.isForwardRef(o)?xO:CO,a=o&&r&&Object.keys(r).length>0?i.cloneElement(o,r):o;return i.createElement(s,{innerRef:n},a)};const PO=function(e){return e&&e.length?e[0]:void 0};const RO=function(e,t){if(pi([t,e],ji))return!1;if(t.target&&(EA(t.target,"setAttribute","data-suir-click-target",!0),document.querySelector("[data-suir-click-target=true]")))return EA(t.target,"removeAttribute","data-suir-click-target"),e.contains(t.target);var n=t.clientX,r=t.clientY;if(pi([n,r],ji))return!1;var i=e.getClientRects();if(!e.offsetWidth||!e.offsetHeight||!i||!i.length)return!1;var o=PO(i),s=o.top,a=o.bottom,c=o.left,l=o.right;return!pi([s,a,c,l],ji)&&(tO(r,s,a+.001)&&tO(n,c,l+.001))};var OO=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).handleRef=function(e){TO(t.props.innerRef,e)},t}oA(t,e);var n=t.prototype;return n.componentDidMount=function(){EA(this.props,"onMount",null,this.props)},n.componentWillUnmount=function(){EA(this.props,"onUnmount",null,this.props)},n.render=function(){if(!fO())return null;var e=this.props,t=e.children,n=e.mountNode,r=void 0===n?document.body:n;return(0,s.createPortal)(i.createElement(AO,{innerRef:this.handleRef},t),r)},t}(i.Component);OO.handledProps=["children","innerRef","mountNode","onMount","onUnmount"],OO.propTypes={};const DO=OO;var LO=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).contentRef=i.createRef(),t.triggerRef=i.createRef(),t.latestDocumentMouseDownEvent=null,t.handleDocumentMouseDown=function(e){t.latestDocumentMouseDownEvent=e},t.handleDocumentClick=function(e){var n=t.props.closeOnDocumentClick,r=t.latestDocumentMouseDownEvent;t.latestDocumentMouseDownEvent=null,!t.contentRef.current||RO(t.triggerRef.current,e)||r&&RO(t.contentRef.current,r)||RO(t.contentRef.current,e)||n&&t.close(e)},t.handleEscape=function(e){t.props.closeOnEscape&&oO().getCode(e)===oO().Escape&&t.close(e)},t.handlePortalMouseLeave=function(e){var n=t.props,r=n.closeOnPortalMouseLeave,i=n.mouseLeaveDelay;r&&e.target===t.contentRef.current&&(t.mouseLeaveTimer=t.closeWithTimeout(e,i))},t.handlePortalMouseEnter=function(){t.props.closeOnPortalMouseLeave&&clearTimeout(t.mouseLeaveTimer)},t.handleTriggerBlur=function(e){for(var n=t.props,r=n.trigger,i=n.closeOnTriggerBlur,o=arguments.length,s=new Array(o>1?o-1:0),a=1;a<o;a++)s[a-1]=arguments[a];EA.apply(void 0,[r,"props.onBlur",e].concat(s));var c=e.relatedTarget||document.activeElement,l=EA(t.contentRef.current,"contains",c);i&&!l&&t.close(e)},t.handleTriggerClick=function(e){for(var n=t.props,r=n.trigger,i=n.closeOnTriggerClick,o=n.openOnTriggerClick,s=t.state.open,a=arguments.length,c=new Array(a>1?a-1:0),l=1;l<a;l++)c[l-1]=arguments[l];EA.apply(void 0,[r,"props.onClick",e].concat(c)),s&&i?t.close(e):!s&&o&&t.open(e)},t.handleTriggerFocus=function(e){for(var n=t.props,r=n.trigger,i=n.openOnTriggerFocus,o=arguments.length,s=new Array(o>1?o-1:0),a=1;a<o;a++)s[a-1]=arguments[a];EA.apply(void 0,[r,"props.onFocus",e].concat(s)),i&&t.open(e)},t.handleTriggerMouseLeave=function(e){clearTimeout(t.mouseEnterTimer);for(var n=t.props,r=n.trigger,i=n.closeOnTriggerMouseLeave,o=n.mouseLeaveDelay,s=arguments.length,a=new Array(s>1?s-1:0),c=1;c<s;c++)a[c-1]=arguments[c];EA.apply(void 0,[r,"props.onMouseLeave",e].concat(a)),i&&(t.mouseLeaveTimer=t.closeWithTimeout(e,o))},t.handleTriggerMouseEnter=function(e){clearTimeout(t.mouseLeaveTimer);for(var n=t.props,r=n.trigger,i=n.mouseEnterDelay,o=n.openOnTriggerMouseEnter,s=arguments.length,a=new Array(s>1?s-1:0),c=1;c<s;c++)a[c-1]=arguments[c];EA.apply(void 0,[r,"props.onMouseEnter",e].concat(a)),o&&(t.mouseEnterTimer=t.openWithTimeout(e,i))},t.open=function(e){EA(t.props,"onOpen",e,Pe({},t.props,{open:!0})),t.setState({open:!0})},t.openWithTimeout=function(e,n){var r=Pe({},e);return setTimeout((function(){return t.open(r)}),n||0)},t.close=function(e){t.setState({open:!1}),EA(t.props,"onClose",e,Pe({},t.props,{open:!1}))},t.closeWithTimeout=function(e,n){var r=Pe({},e);return setTimeout((function(){return t.close(r)}),n||0)},t.handleMount=function(){EA(t.props,"onMount",null,t.props)},t.handleUnmount=function(){EA(t.props,"onUnmount",null,t.props)},t.handleTriggerRef=function(e){t.triggerRef.current=e,TO(t.props.triggerRef,e)},t}oA(t,e);var n=t.prototype;return n.componentWillUnmount=function(){clearTimeout(this.mouseEnterTimer),clearTimeout(this.mouseLeaveTimer)},n.render=function(){var e=this.props,t=e.children,n=e.eventPool,r=e.mountNode,o=e.trigger,s=this.state.open;return i.createElement(i.Fragment,null,s&&i.createElement(i.Fragment,null,i.createElement(DO,{innerRef:this.contentRef,mountNode:r,onMount:this.handleMount,onUnmount:this.handleUnmount},t),i.createElement(lO(),{name:"mouseleave",on:this.handlePortalMouseLeave,pool:n,target:this.contentRef}),i.createElement(lO(),{name:"mouseenter",on:this.handlePortalMouseEnter,pool:n,target:this.contentRef}),i.createElement(lO(),{name:"mousedown",on:this.handleDocumentMouseDown,pool:n}),i.createElement(lO(),{name:"click",on:this.handleDocumentClick,pool:n}),i.createElement(lO(),{name:"keydown",on:this.handleEscape,pool:n})),o&&i.createElement(AO,{innerRef:this.handleTriggerRef},i.cloneElement(o,{onBlur:this.handleTriggerBlur,onClick:this.handleTriggerClick,onFocus:this.handleTriggerFocus,onMouseLeave:this.handleTriggerMouseLeave,onMouseEnter:this.handleTriggerMouseEnter})))},t}(TA);LO.handledProps=["children","closeOnDocumentClick","closeOnEscape","closeOnPortalMouseLeave","closeOnTriggerBlur","closeOnTriggerClick","closeOnTriggerMouseLeave","defaultOpen","eventPool","mountNode","mouseEnterDelay","mouseLeaveDelay","onClose","onMount","onOpen","onUnmount","open","openOnTriggerClick","openOnTriggerFocus","openOnTriggerMouseEnter","trigger","triggerRef"],LO.propTypes={},LO.defaultProps={closeOnDocumentClick:!0,closeOnEscape:!0,eventPool:"default",openOnTriggerClick:!0},LO.autoControlledProps=["open"],LO.Inner=DO;const MO=LO;function FO(e){var t=e.blurring,n=e.className,r=e.children,o=e.content,s=e.dimmed,a=Oe(Me(t,"blurring"),Me(s,"dimmed"),"dimmable",n),c=qe(FO,e),l=Ke(FO,e);return i.createElement(l,Pe({},c,{className:a}),mi(r)?o:r)}FO.handledProps=["as","blurring","children","className","content","dimmed"],FO.propTypes={};const UO=FO;var jO=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).containerRef=(0,i.createRef)(),t.contentRef=(0,i.createRef)(),t.handleClick=function(e){var n=t.contentRef.current;EA(t.props,"onClick",e,t.props),n&&n!==e.target&&RO(n,e)||EA(t.props,"onClickOutside",e,t.props)},t}oA(t,e);var n=t.prototype;return n.componentDidMount=function(){var e=this.props.active;this.toggleStyles(e)},n.componentDidUpdate=function(e){var t=this.props.active;e.active!==t&&this.toggleStyles(t)},n.toggleStyles=function(e){var t=this.containerRef.current;t&&t.style&&(e?t.style.setProperty("display","flex","important"):t.style.removeProperty("display"))},n.render=function(){var e=this.props,n=e.active,r=e.children,o=e.className,s=e.content,a=e.disabled,c=e.inverted,l=e.page,u=e.simple,h=e.verticalAlign,d=Oe("ui",Me(n,"active transition visible"),Me(a,"disabled"),Me(c,"inverted"),Me(l,"page"),Me(u,"simple"),ze(h),"dimmer",o),f=qe(t,this.props),p=Ke(t,this.props),m=mi(r)?s:r;return i.createElement(AO,{innerRef:this.containerRef},i.createElement(p,Pe({},f,{className:d,onClick:this.handleClick}),m&&i.createElement("div",{className:"content",ref:this.contentRef},m)))},t}(i.Component);jO.handledProps=["active","as","children","className","content","disabled","inverted","onClick","onClickOutside","page","simple","verticalAlign"],jO.propTypes={};var VO=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).handlePortalMount=function(){fO()&&(document.body.classList.add("dimmed"),document.body.classList.add("dimmable"))},t.handlePortalUnmount=function(){fO()&&(document.body.classList.remove("dimmed"),document.body.classList.remove("dimmable"))},t}return oA(t,e),t.prototype.render=function(){var e=this.props,n=e.active,r=e.page,o=qe(t,this.props);return r?i.createElement(MO,{closeOnEscape:!1,closeOnDocumentClick:!1,onMount:this.handlePortalMount,onUnmount:this.handlePortalUnmount,open:n,openOnTriggerClick:!1},i.createElement(jO,Pe({},o,{active:n,page:r}))):i.createElement(jO,Pe({},o,{active:n,page:r}))},t}(i.Component);function zO(e){var t=e.children,n=e.className,r=e.content,o=e.size,s=Oe("ui",o,n,"images"),a=qe(zO,e),c=Ke(zO,e);return i.createElement(c,Pe({},a,{className:s}),mi(t)?r:t)}VO.handledProps=["active","page"],VO.propTypes={},VO.Dimmable=UO,VO.Inner=jO,VO.create=zi(VO,(function(e){return{content:e}})),zO.handledProps=["as","children","className","content","size"],zO.propTypes={};const BO=zO;function qO(e){var t=e.avatar,n=e.bordered,r=e.centered,o=e.children,s=e.circular,a=e.className,c=e.content,l=e.dimmer,u=e.disabled,h=e.floated,d=e.fluid,f=e.hidden,p=e.href,m=e.inline,g=e.label,v=e.rounded,y=e.size,w=e.spaced,b=e.verticalAlign,_=e.wrapped,E=e.ui,I=Oe(Me(E,"ui"),y,Me(t,"avatar"),Me(n,"bordered"),Me(s,"circular"),Me(r,"centered"),Me(u,"disabled"),Me(d,"fluid"),Me(f,"hidden"),Me(m,"inline"),Me(v,"rounded"),Ue(w,"spaced"),Fe(h,"floated"),ze(b),"image",a),T=qe(qO,e),S=IO(T,{htmlProps:EO}),k=S[0],C=S[1],x=Ke(qO,e,(function(){if(!ji(l)||!ji(g)||!ji(_)||!mi(o))return"div"}));return mi(o)?mi(c)?"img"===x?i.createElement(x,Pe({},C,k,{className:I})):i.createElement(x,Pe({},C,{className:I,href:p}),VO.create(l,{autoGenerateKey:!1}),JO.create(g,{autoGenerateKey:!1}),i.createElement("img",k)):i.createElement(x,Pe({},T,{className:I}),c):i.createElement(x,Pe({},T,{className:I}),o)}qO.handledProps=["as","avatar","bordered","centered","children","circular","className","content","dimmer","disabled","floated","fluid","hidden","href","inline","label","rounded","size","spaced","ui","verticalAlign","wrapped"],qO.Group=BO,qO.propTypes={},qO.defaultProps={as:"img",ui:!0},qO.create=zi(qO,(function(e){return{src:e}}));const KO=qO;function HO(e){var t=e.children,n=e.className,r=e.content,o=Oe("detail",n),s=qe(HO,e),a=Ke(HO,e);return i.createElement(a,Pe({},s,{className:o}),mi(t)?r:t)}HO.handledProps=["as","children","className","content"],HO.propTypes={},HO.create=zi(HO,(function(e){return{content:e}}));const GO=HO;function WO(e){var t=e.children,n=e.circular,r=e.className,o=e.color,s=e.content,a=e.size,c=e.tag,l=Oe("ui",o,a,Me(n,"circular"),Me(c,"tag"),"labels",r),u=qe(WO,e),h=Ke(WO,e);return i.createElement(h,Pe({},u,{className:l}),mi(t)?s:t)}WO.handledProps=["as","children","circular","className","color","content","size","tag"],WO.propTypes={};const QO=WO;var JO=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).handleClick=function(e){var n=t.props.onClick;n&&n(e,t.props)},t.handleIconOverrides=function(e){return{onClick:function(n){EA(e,"onClick",n),EA(t.props,"onRemove",n,t.props)}}},t}return oA(t,e),t.prototype.render=function(){var e=this.props,n=e.active,r=e.attached,o=e.basic,s=e.children,a=e.circular,c=e.className,l=e.color,u=e.content,h=e.corner,d=e.detail,f=e.empty,p=e.floating,m=e.horizontal,g=e.icon,v=e.image,y=e.onRemove,w=e.pointing,b=e.prompt,_=e.removeIcon,E=e.ribbon,I=e.size,T=e.tag,S=Oe("ui",l,(!0===w?"pointing":("left"===w||"right"===w)&&w+" pointing")||("above"===w||"below"===w)&&"pointing "+w,I,Me(n,"active"),Me(o,"basic"),Me(a,"circular"),Me(f,"empty"),Me(p,"floating"),Me(m,"horizontal"),Me(!0===v,"image"),Me(b,"prompt"),Me(T,"tag"),Ue(h,"corner"),Ue(E,"ribbon"),Fe(r,"attached"),"label",c),k=qe(t,this.props),C=Ke(t,this.props);if(!mi(s))return i.createElement(C,Pe({},k,{className:S,onClick:this.handleClick}),s);var x=IA(_)?"delete":_;return i.createElement(C,Pe({className:S,onClick:this.handleClick},k),RP.create(g,{autoGenerateKey:!1}),"boolean"!==typeof v&&KO.create(v,{autoGenerateKey:!1}),u,GO.create(d,{autoGenerateKey:!1}),y&&RP.create(x,{autoGenerateKey:!1,overrideProps:this.handleIconOverrides}))},t}(i.Component);function $O(e){var t=e.children,n=e.className,r=e.content,o=e.hidden,s=e.visible,a=Oe(Me(s,"visible"),Me(o,"hidden"),"content",n),c=qe($O,e),l=Ke($O,e);return i.createElement(l,Pe({},c,{className:a}),mi(t)?r:t)}JO.handledProps=["active","as","attached","basic","children","circular","className","color","content","corner","detail","empty","floating","horizontal","icon","image","onClick","onRemove","pointing","prompt","removeIcon","ribbon","size","tag"],JO.propTypes={},JO.Detail=GO,JO.Group=QO,JO.create=zi(JO,(function(e){return{content:e}})),$O.handledProps=["as","children","className","content","hidden","visible"],$O.propTypes={};const YO=$O;function XO(e){var t=e.attached,n=e.basic,r=e.buttons,o=e.children,s=e.className,a=e.color,c=e.compact,l=e.content,u=e.floated,h=e.fluid,d=e.icon,f=e.inverted,p=e.labeled,m=e.negative,g=e.positive,v=e.primary,y=e.secondary,w=e.size,b=e.toggle,_=e.vertical,E=e.widths,I=Oe("ui",a,w,Me(n,"basic"),Me(c,"compact"),Me(h,"fluid"),Me(d,"icon"),Me(f,"inverted"),Me(p,"labeled"),Me(m,"negative"),Me(g,"positive"),Me(v,"primary"),Me(y,"secondary"),Me(b,"toggle"),Me(_,"vertical"),Ue(t,"attached"),Fe(u,"floated"),Be(E),"buttons",s),T=qe(XO,e),S=Ke(XO,e);return ji(r)?i.createElement(S,Pe({},T,{className:I}),mi(o)?l:o):i.createElement(S,Pe({},T,{className:I}),aA(r,(function(e){return rD.create(e)})))}XO.handledProps=["as","attached","basic","buttons","children","className","color","compact","content","floated","fluid","icon","inverted","labeled","negative","positive","primary","secondary","size","toggle","vertical","widths"],XO.propTypes={};const ZO=XO;function eD(e){var t=e.className,n=e.text,r=Oe("or",t),o=qe(eD,e),s=Ke(eD,e);return i.createElement(s,Pe({},o,{className:r,"data-text":n}))}eD.handledProps=["as","className","text"],eD.propTypes={};const tD=eD;var nD=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).ref=(0,i.createRef)(),t.computeElementType=function(){var e=t.props,n=e.attached,r=e.label;if(!ji(n)||!ji(r))return"div"},t.computeTabIndex=function(e){var n=t.props,r=n.disabled,i=n.tabIndex;return ji(i)?r?-1:"div"===e?0:void 0:i},t.focus=function(e){return EA(t.ref.current,"focus",e)},t.handleClick=function(e){t.props.disabled?e.preventDefault():EA(t.props,"onClick",e,t.props)},t.hasIconClass=function(){var e=t.props,n=e.labelPosition,r=e.children,i=e.content,o=e.icon;return!0===o||o&&(n||mi(r)&&ji(i))},t}oA(t,e);var n=t.prototype;return n.computeButtonAriaRole=function(e){var t=this.props.role;return ji(t)?"button"!==e?"button":void 0:t},n.render=function(){var e=this.props,n=e.active,r=e.animated,o=e.attached,s=e.basic,a=e.children,c=e.circular,l=e.className,u=e.color,h=e.compact,d=e.content,f=e.disabled,p=e.floated,m=e.fluid,g=e.icon,v=e.inverted,y=e.label,w=e.labelPosition,b=e.loading,_=e.negative,E=e.positive,I=e.primary,T=e.secondary,S=e.size,k=e.toggle,C=e.type,x=Oe(u,S,Me(n,"active"),Me(s,"basic"),Me(c,"circular"),Me(h,"compact"),Me(m,"fluid"),Me(this.hasIconClass(),"icon"),Me(v,"inverted"),Me(b,"loading"),Me(_,"negative"),Me(E,"positive"),Me(I,"primary"),Me(T,"secondary"),Me(k,"toggle"),Ue(r,"animated"),Ue(o,"attached")),N=Oe(Ue(w||!!y,"labeled")),A=Oe(Me(f,"disabled"),Fe(p,"floated")),P=qe(t,this.props),R=Ke(t,this.props,this.computeElementType),O=this.computeTabIndex(R);if(!ji(y)){var D=Oe("ui",x,"button",l),L=Oe("ui",N,"button",l,A),M=JO.create(y,{defaultProps:{basic:!0,pointing:"left"===w?"right":"left"},autoGenerateKey:!1});return i.createElement(R,Pe({},P,{className:L,onClick:this.handleClick}),"left"===w&&M,i.createElement(AO,{innerRef:this.ref},i.createElement("button",{className:D,"aria-pressed":k?!!n:void 0,disabled:f,type:C,tabIndex:O},RP.create(g,{autoGenerateKey:!1})," ",d)),("right"===w||!w)&&M)}var F=Oe("ui",x,A,N,"button",l),U=!mi(a),j=this.computeButtonAriaRole(R);return i.createElement(AO,{innerRef:this.ref},i.createElement(R,Pe({},P,{className:F,"aria-pressed":k?!!n:void 0,disabled:f&&"button"===R||void 0,onClick:this.handleClick,role:j,type:C,tabIndex:O}),U&&a,!U&&RP.create(g,{autoGenerateKey:!1}),!U&&d))},t}(i.Component);nD.handledProps=["active","animated","as","attached","basic","children","circular","className","color","compact","content","disabled","floated","fluid","icon","inverted","label","labelPosition","loading","negative","onClick","positive","primary","role","secondary","size","tabIndex","toggle","type"],nD.propTypes={},nD.defaultProps={as:"button"},nD.Content=YO,nD.Group=ZO,nD.Or=tD,nD.create=zi(nD,(function(e){return{content:e}}));const rD=nD;var iD=function(e){function t(){for(var n,r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return(n=e.call.apply(e,[this].concat(o))||this).inputRef=(0,i.createRef)(),n.computeIcon=function(){var e=n.props,t=e.loading,r=e.icon;return ji(r)?t?"spinner":void 0:r},n.computeTabIndex=function(){var e=n.props,t=e.disabled,r=e.tabIndex;return ji(r)?t?-1:void 0:r},n.focus=function(e){return n.inputRef.current.focus(e)},n.select=function(){return n.inputRef.current.select()},n.handleChange=function(e){var t=Xr(e,"target.value");EA(n.props,"onChange",e,Pe({},n.props,{value:t}))},n.handleChildOverrides=function(e,t){return Pe({},t,e.props,{ref:function(t){TO(e.ref,t),n.inputRef.current=t}})},n.partitionProps=function(){var e=n.props,r=e.disabled,i=e.type,o=n.computeTabIndex(),s=qe(t,n.props),a=IO(s),c=a[0],l=a[1];return[Pe({},c,{disabled:r,type:i,tabIndex:o,onChange:n.handleChange,ref:n.inputRef}),l]},n}return oA(t,e),t.prototype.render=function(){var e=this,n=this.props,r=n.action,o=n.actionPosition,s=n.children,a=n.className,c=n.disabled,l=n.error,u=n.fluid,h=n.focus,d=n.icon,f=n.iconPosition,p=n.input,m=n.inverted,g=n.label,v=n.labelPosition,y=n.loading,w=n.size,b=n.transparent,_=n.type,E=Oe("ui",w,Me(c,"disabled"),Me(l,"error"),Me(u,"fluid"),Me(h,"focus"),Me(m,"inverted"),Me(y,"loading"),Me(b,"transparent"),Fe(o,"action")||Me(r,"action"),Fe(f,"icon")||Me(d||y,"icon"),Fe(v,"labeled")||Me(g,"labeled"),"input",a),I=Ke(t,this.props),T=this.partitionProps(),S=T[0],k=T[1];if(!mi(s)){var C=aA(i.Children.toArray(s),(function(t){return"input"!==t.type?t:(0,i.cloneElement)(t,e.handleChildOverrides(t,S))}));return i.createElement(I,Pe({},k,{className:E}),C)}var x=rD.create(r,{autoGenerateKey:!1}),N=JO.create(g,{defaultProps:{className:Oe("label",vO(v,"corner")&&v)},autoGenerateKey:!1});return i.createElement(I,Pe({},k,{className:E}),"left"===o&&x,"right"!==v&&N,qi(p||_,{defaultProps:S,autoGenerateKey:!1}),RP.create(this.computeIcon(),{autoGenerateKey:!1}),"left"!==o&&x,"right"===v&&N)},t}(i.Component);iD.handledProps=["action","actionPosition","as","children","className","disabled","error","fluid","focus","icon","iconPosition","input","inverted","label","labelPosition","loading","onChange","size","tabIndex","transparent","type"],iD.propTypes={},iD.defaultProps={type:"text"},iD.create=zi(iD,(function(e){return{type:e}}));const oD=iD;function sD(e){var t=e.categoryContent,n=e.resultsContent;return i.createElement(i.Fragment,null,i.createElement("div",{className:"name"},t),i.createElement("div",{className:"results"},n))}sD.handledProps=["categoryContent","resultsContent"],sD.propTypes={};const aD=sD;function cD(e){var t=e.active,n=e.children,r=e.className,o=e.content,s=e.layoutRenderer,a=e.renderer,c=Oe(Me(t,"active"),"category",r),l=qe(cD,e),u=Ke(cD,e),h=a(e),d=mi(n)?o:n;return i.createElement(u,Pe({},l,{className:c}),s({categoryContent:h,resultsContent:d}))}cD.handledProps=["active","as","children","className","content","layoutRenderer","name","renderer","results"],cD.defaultProps={layoutRenderer:aD,renderer:function(e){return e.name}},cD.propTypes={};const lD=cD;var uD=function(e){var t=e.image,n=e.price,r=e.title,o=e.description;return[t&&i.createElement("div",{key:"image",className:"image"},Bi(t,{autoGenerateKey:!1})),i.createElement("div",{key:"content",className:"content"},n&&i.createElement("div",{className:"price"},n),r&&i.createElement("div",{className:"title"},r),o&&i.createElement("div",{className:"description"},o))]};uD.handledProps=[];var hD=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).handleClick=function(e){var n=t.props.onClick;n&&n(e,t.props)},t}return oA(t,e),t.prototype.render=function(){var e=this.props,n=e.active,r=e.className,o=e.renderer,s=Oe(Me(n,"active"),"result",r),a=qe(t,this.props),c=Ke(t,this.props);return i.createElement(c,Pe({},a,{className:s,onClick:this.handleClick}),o(this.props))},t}(i.Component);function dD(e){var t=e.children,n=e.className,r=e.content,o=Oe("results transition",n),s=qe(dD,e),a=Ke(dD,e);return i.createElement(a,Pe({},s,{className:o}),mi(t)?r:t)}hD.handledProps=["active","as","className","content","description","id","image","onClick","price","renderer","title"],hD.propTypes={},hD.defaultProps={renderer:uD},dD.handledProps=["as","children","className","content"],dD.propTypes={};const fD=dD;var pD=function(e){var t=e.input;return IA(t)?Pe({},e,{input:{className:"prompt"}}):Li(t)?Pe({},e,{input:Pe({},t,{className:Oe(t.className,"prompt")})}):e},mD=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).handleResultSelect=function(e,n){EA(t.props,"onResultSelect",e,Pe({},t.props,{result:n}))},t.handleSelectionChange=function(e){var n=t.getSelectedResult();EA(t.props,"onSelectionChange",e,Pe({},t.props,{result:n}))},t.closeOnEscape=function(e){oO().getCode(e)===oO().Escape&&(e.preventDefault(),t.close())},t.moveSelectionOnKeyDown=function(e){switch(oO().getCode(e)){case oO().ArrowDown:e.preventDefault(),t.moveSelectionBy(e,1);break;case oO().ArrowUp:e.preventDefault(),t.moveSelectionBy(e,-1)}},t.selectItemOnEnter=function(e){if(oO().getCode(e)===oO().Enter){var n=t.getSelectedResult();n&&(e.preventDefault(),t.setValue(n.title),t.handleResultSelect(e,n),t.close())}},t.closeOnDocumentClick=function(e){t.close()},t.handleMouseDown=function(e){t.isMouseDown=!0,EA(t.props,"onMouseDown",e,t.props),uO.sub("mouseup",t.handleDocumentMouseUp)},t.handleDocumentMouseUp=function(){t.isMouseDown=!1,uO.unsub("mouseup",t.handleDocumentMouseUp)},t.handleInputClick=function(e){e.nativeEvent.stopImmediatePropagation(),t.tryOpen()},t.handleItemClick=function(e,n){var r=n.id,i=t.getSelectedResult(r);e.nativeEvent.stopImmediatePropagation(),t.setValue(i.title),t.handleResultSelect(e,i),t.close()},t.handleItemMouseDown=function(e){e.preventDefault()},t.handleFocus=function(e){EA(t.props,"onFocus",e,t.props),t.setState({focus:!0})},t.handleBlur=function(e){EA(t.props,"onBlur",e,t.props),t.setState({focus:!1})},t.handleSearchChange=function(e){e.stopPropagation();var n=t.props.minCharacters,r=t.state.open,i=e.target.value;EA(t.props,"onSearchChange",e,Pe({},t.props,{value:i})),i.length<n?t.close():r||t.tryOpen(i),t.setValue(i)},t.getFlattenedResults=function(){var e=t.props,n=e.category,r=e.results;return n?rO(r,(function(e,t){return e.concat(t.results)}),[]):r},t.getSelectedResult=function(e){void 0===e&&(e=t.state.selectedIndex);var n=t.getFlattenedResults();return Xr(n,e)},t.setValue=function(e){var n=t.props.selectFirstResult;t.setState({value:e,selectedIndex:n?0:-1})},t.moveSelectionBy=function(e,n){var r=t.state.selectedIndex,i=t.getFlattenedResults().length-1,o=r+n;o>i?o=0:o<0&&(o=i),t.setState({selectedIndex:o}),t.scrollSelectedItemIntoView(),t.handleSelectionChange(e)},t.scrollSelectedItemIntoView=function(){if(fO()){var e=document.querySelector(".ui.search.active.visible .results.visible");if(e){var t=e.querySelector(".result.active");if(t){var n=t.offsetTop<e.scrollTop,r=t.offsetTop+t.clientHeight>e.scrollTop+e.clientHeight;n?e.scrollTop=t.offsetTop:r&&(e.scrollTop=t.offsetTop+t.clientHeight-e.clientHeight)}}}},t.tryOpen=function(e){void 0===e&&(e=t.state.value);var n=t.props.minCharacters;e.length<n||t.open()},t.open=function(){t.setState({open:!0})},t.close=function(){t.setState({open:!1})},t.renderSearchInput=function(e){var n=t.props,r=n.icon,i=n.input,o=n.placeholder,s=t.state.value;return oD.create(i,{autoGenerateKey:!1,defaultProps:Pe({},e,{autoComplete:"off",icon:r,onChange:t.handleSearchChange,onClick:t.handleInputClick,tabIndex:"0",value:s,placeholder:o}),overrideProps:pD})},t.renderNoResults=function(){var e=t.props,n=e.noResultsDescription,r=e.noResultsMessage;return i.createElement("div",{className:"message empty"},i.createElement("div",{className:"header"},r),n&&i.createElement("div",{className:"description"},n))},t.renderResult=function(e,n,r,o){var s=e.childKey,a=UP(e,["childKey"]);void 0===o&&(o=0);var c=t.props.resultRenderer,l=t.state.selectedIndex,u=n+o;return i.createElement(hD,Pe({key:null!=s?s:a.id||a.title,active:l===u,onClick:t.handleItemClick,onMouseDown:t.handleItemMouseDown,renderer:c},a,{id:u}))},t.renderResults=function(){var e=t.props.results;return aA(e,t.renderResult)},t.renderCategories=function(){var e=t.props,n=e.categoryLayoutRenderer,r=e.categoryRenderer,o=e.results,s=t.state.selectedIndex,a=0;return aA(o,(function(e){var o=e.childKey,c=UP(e,["childKey"]),l=Pe({key:null!=o?o:c.name,active:tO(s,a,a+c.results.length),layoutRenderer:n,renderer:r},c),u=YR(t.renderResult,a);return a+=c.results.length,i.createElement(lD,l,c.results.map(u))}))},t.renderMenuContent=function(){var e=t.props,n=e.category,r=e.showNoResults,i=e.results;return VP(i)?r?t.renderNoResults():null:n?t.renderCategories():t.renderResults()},t.renderResultsMenu=function(){var e=t.state.open?"visible":"",n=t.renderMenuContent();if(n)return i.createElement(fD,{className:e},n)},t}oA(t,e),t.getAutoControlledStateFromProps=function(e,t){if("undefined"!==typeof t.prevValue&&aO()(t.prevValue,t.value))return{prevValue:t.value};var n=e.selectFirstResult?0:-1;return{prevValue:t.value,selectedIndex:n}};var n=t.prototype;return n.shouldComponentUpdate=function(e,t){return!aO()(e,this.props)||!aO()(t,this.state)},n.componentDidUpdate=function(e,t){!t.focus&&this.state.focus?(this.isMouseDown||this.tryOpen(),this.state.open&&uO.sub("keydown",[this.moveSelectionOnKeyDown,this.selectItemOnEnter])):t.focus&&!this.state.focus&&(this.isMouseDown||this.close(),uO.unsub("keydown",[this.moveSelectionOnKeyDown,this.selectItemOnEnter])),!t.open&&this.state.open?(this.open(),uO.sub("click",this.closeOnDocumentClick),uO.sub("keydown",[this.closeOnEscape,this.moveSelectionOnKeyDown,this.selectItemOnEnter])):t.open&&!this.state.open&&(this.close(),uO.unsub("click",this.closeOnDocumentClick),uO.unsub("keydown",[this.closeOnEscape,this.moveSelectionOnKeyDown,this.selectItemOnEnter]))},n.componentWillUnmount=function(){uO.unsub("click",this.closeOnDocumentClick),uO.unsub("keydown",[this.closeOnEscape,this.moveSelectionOnKeyDown,this.selectItemOnEnter])},n.render=function(){var e=this.state,n=e.searchClasses,r=e.focus,o=e.open,s=this.props,a=s.aligned,c=s.category,l=s.className,u=s.fluid,h=s.loading,d=s.size,f=Oe("ui",o&&"active visible",d,n,Me(c,"category"),Me(r,"focus"),Me(u,"fluid"),Me(h,"loading"),Fe(a,"aligned"),"search",l),p=qe(t,this.props),m=Ke(t,this.props),g=IO(p,{htmlProps:bO}),v=g[0],y=g[1];return i.createElement(m,Pe({},y,{className:f,onBlur:this.handleBlur,onFocus:this.handleFocus,onMouseDown:this.handleMouseDown}),this.renderSearchInput(v),this.renderResultsMenu())},t}(TA);mD.handledProps=["aligned","as","category","categoryLayoutRenderer","categoryRenderer","className","defaultOpen","defaultValue","fluid","icon","input","loading","minCharacters","noResultsDescription","noResultsMessage","onBlur","onFocus","onMouseDown","onResultSelect","onSearchChange","onSelectionChange","open","placeholder","resultRenderer","results","selectFirstResult","showNoResults","size","value"],mD.propTypes={},mD.defaultProps={icon:"search",input:"text",minCharacters:1,noResultsMessage:"No results found.",showNoResults:!0},mD.autoControlledProps=["open","value"],mD.Category=lD,mD.Result=hD,mD.Results=fD;var gD=n(651);const vD=n.n(gD)()("65OAN0Y5F8","107f126e7ff48bbd211f9c03abe30209").initIndex("gameforum");var yD=n(579);const wD=function(e){let{user:t}=e;const n=ee(),[r,o]=(0,i.useState)(""),[s,a]=(0,i.useState)([]);return(0,yD.jsxs)(FP,{children:[(0,yD.jsx)(FP.Item,{as:xe,to:"/",children:"\u554a\u54c8\u59c6\u7279\u904a\u6232\u8ad6\u58c7"}),(0,yD.jsx)(FP.Item,{as:xe,to:"/gamenews",children:"\u904a\u6232"}),(0,yD.jsx)(FP.Item,{as:xe,to:"/posts",children:"\u8a0e\u8ad6"}),(0,yD.jsxs)(FP.Menu,{position:"right",children:[(0,yD.jsx)(FP.Item,{children:(0,yD.jsx)(mD,{value:r,onSearchChange:function(e,t){let{value:n}=t;o(n),vD.search(n).then((e=>{const t=e.hits.map((e=>({title:e.title,description:e.description,id:e.objectID})));a(t)}))},results:s,noResultsMessage:"\u627e\u4e0d\u5230\u76f8\u95dc\u6587\u7ae0",onResultSelect:function(e,t){let{result:r}=t;n("/posts/".concat(r.id))}})}),t?(0,yD.jsxs)(yD.Fragment,{children:[(0,yD.jsx)(FP.Item,{as:xe,to:"/new-post",children:"\u767c\u8868\u6587\u7ae0"}),(0,yD.jsx)(FP.Item,{as:xe,to:"/my/posts",children:"\u6703\u54e1"}),(0,yD.jsx)(FP.Item,{as:xe,to:"/rewards",children:"\u7a4d\u5206\u514c\u63db"}),(0,yD.jsx)(FP.Item,{onClick:()=>mN.auth().signOut(),children:"\u767b\u51fa"})]}):(0,yD.jsx)(FP.Item,{as:xe,to:"/signin",children:"\u8a3b\u518a/\u767b\u5165"})]})]})};const bD=function(e,t,n){"__proto__"==t&&gA?gA(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n};var _D=Object.prototype.hasOwnProperty;const ED=function(e,t,n){var r=e[t];_D.call(e,t)&&We(r,n)&&(void 0!==n||t in e)||bD(e,t,n)};const ID=function(e,t,n,r){if(!wt(e))return e;for(var i=-1,o=(t=Jr(t,e)).length,s=o-1,a=e;null!=a&&++i<o;){var c=$r(t[i]),l=n;if("__proto__"===c||"constructor"===c||"prototype"===c)return e;if(i!=s){var u=a[c];void 0===(l=r?r(u,c,a):void 0)&&(l=wt(u)?u:Un(t[i+1])?[]:{})}ED(a,c,l),a=a[c]}return e};const TD=function(e,t,n){return null==e?e:ID(e,t,n)};var SD=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).inputRef=(0,i.createRef)(),t.labelRef=(0,i.createRef)(),t.canToggle=function(){var e=t.props,n=e.disabled,r=e.radio,i=e.readOnly,o=t.state.checked;return!n&&!i&&!(r&&o)},t.computeTabIndex=function(){var e=t.props,n=e.disabled,r=e.tabIndex;return ji(r)?n?-1:0:r},t.handleClick=function(e){var n=t.props.id,r=t.state,i=r.checked,o=r.indeterminate,s=EA(t.inputRef.current,"contains",e.target),a=EA(t.labelRef.current,"contains",e.target),c=!a&&!s,l=!ji(n);a&&l||EA(t.props,"onClick",e,Pe({},t.props,{checked:!i,indeterminate:!!o})),t.isClickFromMouse&&(t.isClickFromMouse=!1,a&&!l&&t.handleChange(e),c&&t.handleChange(e),a&&l&&e.stopPropagation())},t.handleChange=function(e){var n=t.state.checked;t.canToggle()&&(EA(t.props,"onChange",e,Pe({},t.props,{checked:!n,indeterminate:!1})),t.setState({checked:!n,indeterminate:!1}))},t.handleMouseDown=function(e){var n=t.state,r=n.checked,i=n.indeterminate;EA(t.props,"onMouseDown",e,Pe({},t.props,{checked:!!r,indeterminate:!!i})),e.defaultPrevented||EA(t.inputRef.current,"focus"),e.preventDefault()},t.handleMouseUp=function(e){var n=t.state,r=n.checked,i=n.indeterminate;t.isClickFromMouse=!0,EA(t.props,"onMouseUp",e,Pe({},t.props,{checked:!!r,indeterminate:!!i}))},t.setIndeterminate=function(){var e=t.state.indeterminate;TD(t.inputRef,"current.indeterminate",!!e)},t}oA(t,e);var n=t.prototype;return n.componentDidMount=function(){this.setIndeterminate()},n.componentDidUpdate=function(){this.setIndeterminate()},n.render=function(){var e=this.props,n=e.className,r=e.disabled,o=e.label,s=e.id,a=e.name,c=e.radio,l=e.readOnly,u=e.slider,h=e.toggle,d=e.type,f=e.value,p=this.state,m=p.checked,g=p.indeterminate,v=Oe("ui",Me(m,"checked"),Me(r,"disabled"),Me(g,"indeterminate"),Me(ji(o),"fitted"),Me(c,"radio"),Me(l,"read-only"),Me(u,"slider"),Me(h,"toggle"),"checkbox",n),y=qe(t,this.props),w=Ke(t,this.props),b=IO(y,{htmlProps:bO}),_=b[0],E=b[1],I=Ki(o,{defaultProps:{htmlFor:s},autoGenerateKey:!1})||i.createElement("label",{htmlFor:s});return i.createElement(w,Pe({},E,{className:v,onClick:this.handleClick,onChange:this.handleChange,onMouseDown:this.handleMouseDown,onMouseUp:this.handleMouseUp}),i.createElement(AO,{innerRef:this.inputRef},i.createElement("input",Pe({},_,{checked:m,className:"hidden",disabled:r,id:s,name:a,readOnly:!0,tabIndex:this.computeTabIndex(),type:d,value:f}))),i.createElement(AO,{innerRef:this.labelRef},I))},t}(TA);function kD(e){var t=e.slider,n=e.toggle,r=e.type,o=qe(kD,e),s=!(t||n)||void 0;return i.createElement(SD,Pe({},o,{type:r,radio:s,slider:t,toggle:n}))}SD.handledProps=["as","checked","className","defaultChecked","defaultIndeterminate","disabled","fitted","id","indeterminate","label","name","onChange","onClick","onMouseDown","onMouseUp","radio","readOnly","slider","tabIndex","toggle","type","value"],SD.propTypes={},SD.defaultProps={type:"checkbox"},SD.autoControlledProps=["checked","indeterminate"],kD.handledProps=["slider","toggle","type"],kD.propTypes={},kD.defaultProps={type:"radio"};const CD=kD;function xD(e){var t=e.children,n=e.className,r=e.content,o=e.control,s=e.disabled,a=e.error,c=e.inline,l=e.label,u=e.required,h=e.type,d=e.width,f=e.id,p=Oe(Me(s,"disabled"),Me(a,"error"),Me(c,"inline"),Me(u,"required"),Be(d,"wide"),"field",n),m=qe(xD,e),g=Ke(xD,e),v=Xr(a,"pointing","above"),y=JO.create(a,{autoGenerateKey:!1,defaultProps:{prompt:!0,pointing:v,id:f?f+"-error-message":void 0,role:"alert","aria-atomic":!0}}),w=("below"===v||"right"===v)&&y,b=("above"===v||"left"===v)&&y;if(ji(o))return ji(l)?i.createElement(g,Pe({},m,{className:p,id:f}),mi(t)?r:t):i.createElement(g,Pe({},m,{className:p,id:f}),w,Ki(l,{autoGenerateKey:!1}),b);var _={"aria-describedby":f&&a?f+"-error-message":null,"aria-invalid":!!a||void 0},E=Pe({},m,{content:r,children:t,disabled:s,required:u,type:h,id:f});return"input"!==o||"checkbox"!==h&&"radio"!==h?o===SD||o===CD?i.createElement(g,{className:p},w,(0,i.createElement)(o,Pe({},_,E,{label:l})),b):i.createElement(g,{className:p},Ki(l,{defaultProps:{htmlFor:f},autoGenerateKey:!1}),w,(0,i.createElement)(o,Pe({},_,E)),b):i.createElement(g,{className:p},i.createElement("label",null,w,(0,i.createElement)(o,Pe({},_,E))," ",l,b))}xD.handledProps=["as","children","className","content","control","disabled","error","id","inline","label","required","type","width"],xD.propTypes={};const ND=xD;function AD(e){var t=e.control,n=qe(AD,e),r=Ke(AD,e);return i.createElement(r,Pe({},n,{control:t}))}AD.handledProps=["as","control"],AD.propTypes={},AD.defaultProps={as:ND,control:rD};const PD=AD;function RD(e){var t=e.control,n=qe(RD,e),r=Ke(RD,e);return i.createElement(r,Pe({},n,{control:t}))}RD.handledProps=["as","control"],RD.propTypes={},RD.defaultProps={as:ND,control:SD};const OD=RD;const DD=function(e){for(var t=-1,n=null==e?0:e.length,r=0,i=[];++t<n;){var o=e[t];o&&(i[r++]=o)}return i};const LD=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0};const MD=function(e,t){var n=!0;return hi(e,(function(e,r,i){return n=!!t(e,r,i)})),n};const FD=function(e,t,n){var r=yn(e)?LD:MD;return n&&fi(e,t,n)&&(t=void 0),r(e,ai(t,3))};const UD=function(e,t,n,r){var i=-1,o=Ei,s=!0,a=e.length,c=[],l=t.length;if(!a)return c;n&&(t=Kr(t,Bn(n))),r?(o=Ii,s=!1):t.length>=200&&(o=ln,s=!1,t=new cn(t));e:for(;++i<a;){var u=e[i],h=null==n?u:n(u);if(u=r||0!==u?u:0,s&&h===h){for(var d=l;d--;)if(t[d]===h)continue e;c.push(u)}else o(t,h,r)||c.push(u)}return c};const jD=function(e){return kn(e)&&rr(e)};var VD=_A((function(e,t){return jD(e)?UD(e,t):[]}));const zD=VD;const BD=function(e){return function(t,n,r){var i=Object(t);if(!rr(t)){var o=ai(n,3);t=ir(t),n=function(e){return o(i[e],e,i)}}var s=e(t,n,r);return s>-1?i[o?t[s]:s]:void 0}};var qD=Math.max;const KD=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:WR(n);return i<0&&(i=qD(r+i,0)),yi(e,ai(t,3),i)};const HD=BD(KD);const GD=function(e,t,n){var r=null==e?0:e.length;return r?(t=n||void 0===t?1:WR(t),uA(e,0,(t=r-t)<0?0:t)):[]};const WD=ii("length");var QD="\\ud800-\\udfff",JD="["+QD+"]",$D="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",YD="\\ud83c[\\udffb-\\udfff]",XD="[^"+QD+"]",ZD="(?:\\ud83c[\\udde6-\\uddff]){2}",eL="[\\ud800-\\udbff][\\udc00-\\udfff]",tL="(?:"+$D+"|"+YD+")"+"?",nL="[\\ufe0e\\ufe0f]?",rL=nL+tL+("(?:\\u200d(?:"+[XD,ZD,eL].join("|")+")"+nL+tL+")*"),iL="(?:"+[XD+$D+"?",$D,ZD,eL,JD].join("|")+")",oL=RegExp(YD+"(?="+YD+")|"+iL+rL,"g");const sL=function(e){for(var t=oL.lastIndex=0;oL.test(e);)++t;return t};const aL=function(e){return uP(e)?sL(e):WD(e)};const cL=function(e){if(null==e)return 0;if(rr(e))return Fi(e)?aL(e):e.length;var t=Ir(e);return"[object Map]"==t||"[object Set]"==t?e.size:nr(e).length};var lL=lt?lt.isConcatSpreadable:void 0;const uL=function(e){return yn(e)||Pn(e)||!!(lL&&e&&e[lL])};const hL=function e(t,n,r,i,o){var s=-1,a=t.length;for(r||(r=uL),o||(o=[]);++s<a;){var c=t[s];n>0&&r(c)?n>1?e(c,n-1,r,i,o):vn(o,c):i||(o[o.length]=c)}return o};var dL=_A((function(e,t){return jD(e)?UD(e,hL(t,1,jD,!0)):[]}));const fL=dL;const pL=_A((function(e){return Ci(hL(e,1,jD,!0))}));const mL=function(e,t){return Nr(e,t)};const gL=function(e,t,n){for(var r=-1,i=t.length,o={};++r<i;){var s=t[r],a=Yr(e,s);n(a,s)&&ID(o,Jr(s,e),a)}return o};const vL=function(e,t){return gL(e,t,(function(t,n){return ti(e,n)}))};const yL=function(e){return(null==e?0:e.length)?hL(e,1):[]};const wL=function(e){return bA(pA(e,void 0,yL),e+"")}((function(e,t){return null==e?{}:vL(e,t)}));var bL=function(e){function t(){return e.apply(this,arguments)||this}return oA(t,e),t.prototype.render=function(){var e=this.props,n=e.className,r=e.name,o=Oe(r,"flag",n),s=qe(t,this.props),a=Ke(t,this.props);return i.createElement(a,Pe({},s,{className:o}))},t}(i.PureComponent);bL.handledProps=["as","className","name"],bL.propTypes={},bL.defaultProps={as:"i"},bL.create=zi(bL,(function(e){return{name:e}}));const _L=bL;function EL(e){var t=e.className,n=Oe("divider",t),r=qe(EL,e),o=Ke(EL,e);return i.createElement(o,Pe({},r,{className:n}))}EL.handledProps=["as","className"],EL.propTypes={};const IL=EL;var TL=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).handleClick=function(e){EA(t.props,"onClick",e,t.props)},t}return oA(t,e),t.prototype.render=function(){var e=this.props,n=e.active,r=e.children,o=e.className,s=e.content,a=e.disabled,c=e.description,l=e.flag,u=e.icon,h=e.image,d=e.label,f=e.selected,p=e.text,m=Oe(Me(n,"active"),Me(a,"disabled"),Me(f,"selected"),"item",o),g=ji(u)?function(e,t){return pi(i.Children.toArray(e),{type:t})}(r,"DropdownMenu")&&"dropdown":u,v=qe(t,this.props),y=Ke(t,this.props),w={role:"option","aria-disabled":a,"aria-checked":n,"aria-selected":f};if(!mi(r))return i.createElement(y,Pe({},v,w,{className:m,onClick:this.handleClick}),r);var b=_L.create(l,{autoGenerateKey:!1}),_=RP.create(g,{autoGenerateKey:!1}),E=KO.create(h,{autoGenerateKey:!1}),I=JO.create(d,{autoGenerateKey:!1}),T=Vi("span",(function(e){return{children:e}}),c,{defaultProps:{className:"description"},autoGenerateKey:!1}),S=Vi("span",(function(e){return{children:e}}),mi(s)?p:s,{defaultProps:{className:"text"},autoGenerateKey:!1});return i.createElement(y,Pe({},v,w,{className:m,onClick:this.handleClick}),E,_,b,I,T,S)},t}(i.Component);TL.handledProps=["active","as","children","className","content","description","disabled","flag","icon","image","label","onClick","selected","text","value"],TL.propTypes={},TL.create=zi(TL,(function(e){return e}));const SL=TL;function kL(e){var t=e.children,n=e.className,r=e.content,o=e.icon,s=Oe("header",n),a=qe(kL,e),c=Ke(kL,e);return mi(t)?i.createElement(c,Pe({},a,{className:s}),RP.create(o,{autoGenerateKey:!1}),r):i.createElement(c,Pe({},a,{className:s}),t)}kL.handledProps=["as","children","className","content","icon"],kL.propTypes={},kL.create=zi(kL,(function(e){return{content:e}}));const CL=kL;function xL(e){var t=e.children,n=e.className,r=e.content,o=e.direction,s=e.open,a=e.scrolling,c=Oe(o,Me(s,"visible"),Me(a,"scrolling"),"menu transition",n),l=qe(xL,e),u=Ke(xL,e);return i.createElement(u,Pe({},l,{className:c}),mi(t)?r:t)}xL.handledProps=["as","children","className","content","direction","open","scrolling"],xL.propTypes={};const NL=xL;var AL=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).handleChange=function(e){var n=Xr(e,"target.value");EA(t.props,"onChange",e,Pe({},t.props,{value:n}))},t}return oA(t,e),t.prototype.render=function(){var e=this.props,n=e.autoComplete,r=e.className,o=e.tabIndex,s=e.type,a=e.value,c=Oe("search",r),l=qe(t,this.props);return i.createElement("input",Pe({},l,{"aria-autocomplete":"list",autoComplete:n,className:c,onChange:this.handleChange,tabIndex:o,type:s,value:a}))},t}(i.Component);AL.handledProps=["as","autoComplete","className","tabIndex","type","value"],AL.propTypes={},AL.defaultProps={autoComplete:"off",type:"text"},AL.create=zi(AL,(function(e){return{type:e}}));const PL=AL;function RL(e){var t=e.children,n=e.className,r=e.content,o=Oe("divider",n),s=qe(RL,e),a=Ke(RL,e);return i.createElement(a,Pe({"aria-atomic":!0,"aria-live":"polite",role:"alert"},s,{className:o}),mi(t)?r:t)}RL.handledProps=["as","children","className","content"],RL.propTypes={},RL.create=zi(RL,(function(e){return{content:e}}));const OL=RL;var DL=/[\\^$.*+?()[\]{}|]/g,LL=RegExp(DL.source);const ML=function(e){return(e=Qr(e))&&LL.test(e)?e.replace(DL,"\\$&"):e};const FL=function(e,t){var n=[];return hi(e,(function(e,r,i){t(e,r,i)&&n.push(e)})),n};const UL=function(e,t){return(yn(e)?bn:FL)(e,ai(t,3))};function jL(e){var t=e.additionLabel,n=e.additionPosition,r=e.allowAdditions,o=e.deburr,s=e.multiple,a=e.options,c=e.search,l=e.searchQuery,u=e.value,h=a;if(s&&(h=UL(h,(function(e){return!vO(u,e.value)}))),c&&l)if(bt(c))h=c(h,l);else{var d=o?PA(l):l,f=new RegExp(ML(d),"i");h=UL(h,(function(e){return f.test(o?PA(e.text):e.text)}))}if(r&&c&&l&&!pi(h,{text:l})){var p={key:"addition",text:[i.isValidElement(t)?i.cloneElement(t,{key:"addition-label"}):t||"",i.createElement("b",{key:"addition-query"},l)],value:l,className:"addition","data-additional":!0};"top"===n?h.unshift(p):h.push(p)}return h}function VL(e){var t,n=e.additionLabel,r=e.additionPosition,i=e.allowAdditions,o=e.deburr,s=e.multiple,a=e.options,c=e.search,l=e.searchQuery,u=e.selectedIndex,h=e.value,d=jL({value:h,options:a,searchQuery:l,additionLabel:n,additionPosition:r,allowAdditions:i,deburr:o,multiple:s,search:c}),f=rO(d,(function(e,t,n){return t.disabled||e.push(n),e}),[]);if(!u||u<0){var p=f[0];t=s?p:KD(d,["value",h])||f[0]}else if(s)t=HD(f,(function(e){return e>=u})),u>=d.length-1&&(t=f[f.length-1]);else{var m=KD(d,["value",h]);t=vO(f,m)?m:void 0}return(!t||t<0)&&(t=f[0]),t}jL.handledProps=[];var zL=function(e,t){return ji(e)?t:e},BL=function(e){return e?e.map((function(e){return wL(e,["key","value"])})):e};function qL(e){var t=e.flag,n=e.image,r=e.text;return bt(r)?r:{content:i.createElement(i.Fragment,null,_L.create(t),KO.create(n),r)}}var KL=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).searchRef=(0,i.createRef)(),t.sizerRef=(0,i.createRef)(),t.ref=(0,i.createRef)(),t.handleChange=function(e,n){EA(t.props,"onChange",e,Pe({},t.props,{value:n}))},t.closeOnChange=function(e){var n=t.props,r=n.closeOnChange,i=n.multiple;(IA(r)?!i:r)&&t.close(e,Ti)},t.closeOnEscape=function(e){t.props.closeOnEscape&&oO().getCode(e)===oO().Escape&&(e.preventDefault(),t.close(e))},t.moveSelectionOnKeyDown=function(e){var n,r=t.props,i=r.multiple,o=r.selectOnNavigation;if(t.state.open){var s=((n={})[oO().ArrowDown]=1,n[oO().ArrowUp]=-1,n)[oO().getCode(e)];if(void 0!==s){e.preventDefault();var a=t.getSelectedIndexAfterMove(s);!i&&o&&t.makeSelectedItemActive(e,a),t.setState({selectedIndex:a})}}},t.openOnSpace=function(e){var n,r,i,o=t.state.focus&&!t.state.open&&oO().getCode(e)===oO().Spacebar,s="INPUT"!==(null==(n=e.target)?void 0:n.tagName)&&"TEXTAREA"!==(null==(r=e.target)?void 0:r.tagName)&&!0!==(null==(i=e.target)?void 0:i.isContentEditable);o&&(s&&e.preventDefault(),t.open(e))},t.openOnArrow=function(e){var n=t.state,r=n.focus,i=n.open;if(r&&!i){var o=oO().getCode(e);o!==oO().ArrowDown&&o!==oO().ArrowUp||(e.preventDefault(),t.open(e))}},t.makeSelectedItemActive=function(e,n){var r=t.state,i=r.open,o=r.value,s=t.props.multiple,a=t.getSelectedItem(n),c=Xr(a,"value"),l=Xr(a,"disabled");if(ji(c)||!i||l)return o;var u=s?pL(o,[c]):c;return(s?!!fL(u,o).length:u!==o)&&(t.setState({value:u}),t.handleChange(e,u),a["data-additional"]&&EA(t.props,"onAddItem",e,Pe({},t.props,{value:c}))),o},t.selectItemOnEnter=function(e){var n=t.props.search,r=t.state,i=r.open,o=r.selectedIndex;if(i&&(oO().getCode(e)===oO().Enter||!n&&oO().getCode(e)===oO().Spacebar)){e.preventDefault();var s=cL(jL({value:t.state.value,options:t.props.options,searchQuery:t.state.searchQuery,additionLabel:t.props.additionLabel,additionPosition:t.props.additionPosition,allowAdditions:t.props.allowAdditions,deburr:t.props.deburr,multiple:t.props.multiple,search:t.props.search}));if(!n||0!==s){var a=t.makeSelectedItemActive(e,o);t.setState({selectedIndex:VL({additionLabel:t.props.additionLabel,additionPosition:t.props.additionPosition,allowAdditions:t.props.allowAdditions,deburr:t.props.deburr,multiple:t.props.multiple,search:t.props.search,selectedIndex:o,value:a,options:t.props.options,searchQuery:""})}),t.closeOnChange(e),t.clearSearchQuery(),n&&EA(t.searchRef.current,"focus")}}},t.removeItemOnBackspace=function(e){var n=t.props,r=n.multiple,i=n.search,o=t.state,s=o.searchQuery,a=o.value;if(oO().getCode(e)===oO().Backspace&&!s&&i&&r&&!VP(a)){e.preventDefault();var c=GD(a);t.setState({value:c}),t.handleChange(e,c)}},t.closeOnDocumentClick=function(e){t.props.closeOnBlur&&(t.ref.current&&RO(t.ref.current,e)||t.close())},t.handleMouseDown=function(e){t.isMouseDown=!0,EA(t.props,"onMouseDown",e,t.props),document.addEventListener("mouseup",t.handleDocumentMouseUp)},t.handleDocumentMouseUp=function(){t.isMouseDown=!1,document.removeEventListener("mouseup",t.handleDocumentMouseUp)},t.handleClick=function(e){var n=t.props,r=n.minCharacters,i=n.search,o=t.state,s=o.open,a=o.searchQuery;if(EA(t.props,"onClick",e,t.props),e.stopPropagation(),!i)return t.toggle(e);s?EA(t.searchRef.current,"focus"):a.length>=r||1===r?t.open(e):EA(t.searchRef.current,"focus")},t.handleIconClick=function(e){var n=t.props.clearable,r=t.hasValue();EA(t.props,"onClick",e,t.props),e.stopPropagation(),n&&r?t.clearValue(e):t.toggle(e)},t.handleItemClick=function(e,n){var r=t.props,i=r.multiple,o=r.search,s=t.state.value,a=n.value;if(e.stopPropagation(),(i||n.disabled)&&e.nativeEvent.stopImmediatePropagation(),!n.disabled){var c=n["data-additional"],l=i?pL(t.state.value,[a]):a;(i?!!fL(l,s).length:l!==s)&&(t.setState({value:l}),t.handleChange(e,l)),t.clearSearchQuery(),EA(o?t.searchRef.current:t.ref.current,"focus"),t.closeOnChange(e),c&&EA(t.props,"onAddItem",e,Pe({},t.props,{value:a}))}},t.handleFocus=function(e){t.state.focus||(EA(t.props,"onFocus",e,t.props),t.setState({focus:!0}))},t.handleBlur=function(e){var n=Xr(e,"currentTarget");if(!n||!n.contains(document.activeElement)){var r=t.props,i=r.closeOnBlur,o=r.multiple,s=r.selectOnBlur;t.isMouseDown||(EA(t.props,"onBlur",e,t.props),s&&!o&&(t.makeSelectedItemActive(e,t.state.selectedIndex),i&&t.close()),t.setState({focus:!1}),t.clearSearchQuery())}},t.handleSearchChange=function(e,n){var r=n.value;e.stopPropagation();var i=t.props.minCharacters,o=t.state.open,s=r;EA(t.props,"onSearchChange",e,Pe({},t.props,{searchQuery:s})),t.setState({searchQuery:s,selectedIndex:0}),!o&&s.length>=i?t.open():o&&1!==i&&s.length<i&&t.close()},t.handleKeyDown=function(e){t.moveSelectionOnKeyDown(e),t.openOnArrow(e),t.openOnSpace(e),t.selectItemOnEnter(e),EA(t.props,"onKeyDown",e)},t.getSelectedItem=function(e){var n=jL({value:t.state.value,options:t.props.options,searchQuery:t.state.searchQuery,additionLabel:t.props.additionLabel,additionPosition:t.props.additionPosition,allowAdditions:t.props.allowAdditions,deburr:t.props.deburr,multiple:t.props.multiple,search:t.props.search});return Xr(n,"["+e+"]")},t.getItemByValue=function(e){var n=t.props.options;return HD(n,{value:e})},t.getDropdownAriaOptions=function(){var e=t.props,n=e.loading,r=e.disabled,i=e.search,o=e.multiple,s={role:i?"combobox":"listbox","aria-busy":n,"aria-disabled":r,"aria-expanded":!!t.state.open};return"listbox"===s.role&&(s["aria-multiselectable"]=o),s},t.clearSearchQuery=function(){var e=t.state.searchQuery;void 0!==e&&""!==e&&t.setState({searchQuery:""})},t.handleLabelClick=function(e,n){e.stopPropagation(),t.setState({selectedLabel:n.value}),EA(t.props,"onLabelClick",e,n)},t.handleLabelRemove=function(e,n){e.stopPropagation();var r=t.state.value,i=zD(r,n.value);t.setState({value:i}),t.handleChange(e,i)},t.getSelectedIndexAfterMove=function(e,n){void 0===n&&(n=t.state.selectedIndex);var r=jL({value:t.state.value,options:t.props.options,searchQuery:t.state.searchQuery,additionLabel:t.props.additionLabel,additionPosition:t.props.additionPosition,allowAdditions:t.props.allowAdditions,deburr:t.props.deburr,multiple:t.props.multiple,search:t.props.search});if(void 0!==r&&!FD(r,"disabled")){var i=r.length-1,o=n+e;return!t.props.wrapSelection&&(o>i||o<0)?o=n:o>i?o=0:o<0&&(o=i),r[o].disabled?t.getSelectedIndexAfterMove(e,o):o}},t.handleIconOverrides=function(e){var n=t.props.clearable;return{className:Oe(n&&t.hasValue()&&"clear",e.className),onClick:function(n){EA(e,"onClick",n,e),t.handleIconClick(n)}}},t.clearValue=function(e){var n=t.props.multiple?[]:"";t.setState({value:n}),t.handleChange(e,n)},t.computeSearchInputTabIndex=function(){var e=t.props,n=e.disabled,r=e.tabIndex;return ji(r)?n?-1:0:r},t.computeSearchInputWidth=function(){var e=t.state.searchQuery;if(t.sizerRef.current&&e){t.sizerRef.current.style.display="inline",t.sizerRef.current.textContent=e;var n=Math.ceil(t.sizerRef.current.getBoundingClientRect().width);return t.sizerRef.current.style.removeProperty("display"),n}},t.computeTabIndex=function(){var e=t.props,n=e.disabled,r=e.search,i=e.tabIndex;if(!r)return n?-1:ji(i)?0:i},t.handleSearchInputOverrides=function(e){return{onChange:function(n,r){EA(e,"onChange",n,r),t.handleSearchChange(n,r)}}},t.hasValue=function(){var e=t.props.multiple,n=t.state.value;return e?!VP(n):!ji(n)&&""!==n},t.scrollSelectedItemIntoView=function(){if(t.ref.current){var e=t.ref.current.querySelector(".menu.visible");if(e){var n=e.querySelector(".item.selected");if(n){var r=n.offsetTop<e.scrollTop,i=n.offsetTop+n.clientHeight>e.scrollTop+e.clientHeight;r?e.scrollTop=n.offsetTop:i&&(e.scrollTop=n.offsetTop+n.clientHeight-e.clientHeight)}}}},t.setOpenDirection=function(){if(t.ref.current){var e=t.ref.current.querySelector(".menu.visible");if(e){var n=t.ref.current.getBoundingClientRect(),r=e.clientHeight,i=document.documentElement.clientHeight-n.top-n.height-r,o=n.top-r,s=i<0&&o>i;!s!==!t.state.upward&&t.setState({upward:s})}}},t.open=function(e,n){void 0===e&&(e=null),void 0===n&&(n=!0);var r=t.props,i=r.disabled,o=r.search;i||(o&&EA(t.searchRef.current,"focus"),EA(t.props,"onOpen",e,t.props),n&&t.setState({open:!0}),t.scrollSelectedItemIntoView())},t.close=function(e,n){void 0===n&&(n=t.handleClose),t.state.open&&(EA(t.props,"onClose",e,t.props),t.setState({open:!1},n))},t.handleClose=function(){var e=document.activeElement===t.searchRef.current;!e&&t.ref.current&&t.ref.current.blur();var n=document.activeElement===t.ref.current,r=e||n;t.setState({focus:r})},t.toggle=function(e){return t.state.open?t.close(e):t.open(e)},t.renderText=function(){var e,n=t.props,r=n.multiple,i=n.placeholder,o=n.search,s=n.text,a=t.state,c=a.searchQuery,l=a.selectedIndex,u=a.value,h=a.open,d=t.hasValue(),f=Oe(i&&!d&&"default","text",o&&c&&"filtered"),p=i;return s?p=s:h&&!r?e=t.getSelectedItem(l):d&&(e=t.getItemByValue(u)),OL.create(e?qL(e):p,{defaultProps:{className:f}})},t.renderSearchInput=function(){var e=t.props,n=e.search,r=e.searchInput,o=t.state.searchQuery;return n&&i.createElement(AO,{innerRef:t.searchRef},PL.create(r,{defaultProps:{style:{width:t.computeSearchInputWidth()},tabIndex:t.computeSearchInputTabIndex(),value:o},overrideProps:t.handleSearchInputOverrides}))},t.renderSearchSizer=function(){var e=t.props,n=e.search,r=e.multiple;return n&&r&&i.createElement("span",{className:"sizer",ref:t.sizerRef})},t.renderLabels=function(){var e=t.props,n=e.multiple,r=e.renderLabel,i=t.state,o=i.selectedLabel,s=i.value;if(n&&!VP(s)){var a=aA(s,t.getItemByValue);return aA(DD(a),(function(e,n){var i={active:e.value===o,as:"a",key:zL(e.key,e.value),onClick:t.handleLabelClick,onRemove:t.handleLabelRemove,value:e.value};return JO.create(r(e,n,i),{defaultProps:i})}))}},t.renderOptions=function(){var e=t.props,n=e.lazyLoad,r=e.multiple,o=e.search,s=e.noResultsMessage,a=t.state,c=a.open,l=a.selectedIndex,u=a.value;if(n&&!c)return null;var h=jL({value:t.state.value,options:t.props.options,searchQuery:t.state.searchQuery,additionLabel:t.props.additionLabel,additionPosition:t.props.additionPosition,allowAdditions:t.props.allowAdditions,deburr:t.props.deburr,multiple:t.props.multiple,search:t.props.search});if(null!==s&&o&&VP(h))return i.createElement("div",{className:"message"},s);var d=r?function(e){return vO(u,e)}:function(e){return e===u};return aA(h,(function(e,n){return SL.create(Pe({active:d(e.value),selected:l===n},e,{key:zL(e.key,e.value),style:Pe({},e.style,{pointerEvents:"all"})}),{generateKey:!1,overrideProps:function(e){return{onClick:function(n,r){null==e.onClick||e.onClick(n,r),t.handleItemClick(n,r)}}}})}))},t.renderMenu=function(){var e=t.props,n=e.children,r=e.direction,o=e.header,s=t.state.open,a=t.getDropdownMenuAriaOptions();if(!mi(n)){var c=i.Children.only(n),l=Oe(r,Me(s,"visible"),c.props.className);return(0,i.cloneElement)(c,Pe({className:l},a))}return i.createElement(NL,Pe({},a,{direction:r,open:s}),CL.create(o,{autoGenerateKey:!1}),t.renderOptions())},t}oA(t,e);var n=t.prototype;return n.getInitialAutoControlledState=function(){return{focus:!1,searchQuery:""}},t.getAutoControlledStateFromProps=function(e,t,n){var r={__options:e.options,__value:t.value};return(!aO()(n.__value,t.value)||!mL(BL(e.options),BL(n.__options)))&&(r.selectedIndex=VL({additionLabel:e.additionLabel,additionPosition:e.additionPosition,allowAdditions:e.allowAdditions,deburr:e.deburr,multiple:e.multiple,search:e.search,selectedIndex:t.selectedIndex,value:t.value,options:e.options,searchQuery:t.searchQuery})),r},n.componentDidMount=function(){this.state.open&&this.open(null,!1)},n.shouldComponentUpdate=function(e,t){return!aO()(e,this.props)||!aO()(t,this.state)},n.componentDidUpdate=function(e,t){var n=this.props,r=n.closeOnBlur,i=n.minCharacters,o=n.openOnFocus,s=n.search;if(!t.focus&&this.state.focus){if(!this.isMouseDown){var a=!s||s&&1===i&&!this.state.open;o&&a&&this.open()}}else t.focus&&!this.state.focus&&!this.isMouseDown&&r&&this.close();!t.open&&this.state.open?(this.setOpenDirection(),this.scrollSelectedItemIntoView()):t.open&&this.state.open,t.selectedIndex!==this.state.selectedIndex&&this.scrollSelectedItemIntoView()},n.getDropdownMenuAriaOptions=function(){var e=this.props,t=e.search,n=e.multiple,r={};return t&&(r["aria-multiselectable"]=n,r.role="listbox"),r},n.render=function(){var e=this.props,n=e.basic,r=e.button,o=e.className,s=e.compact,a=e.disabled,c=e.error,l=e.fluid,u=e.floating,h=e.icon,d=e.inline,f=e.item,p=e.labeled,m=e.loading,g=e.multiple,v=e.pointing,y=e.search,w=e.selection,b=e.scrolling,_=e.simple,E=e.trigger,I=this.state,T=I.focus,S=I.open,k=I.upward,C=Oe("ui",Me(S,"active visible"),Me(a,"disabled"),Me(c,"error"),Me(m,"loading"),Me(n,"basic"),Me(r,"button"),Me(s,"compact"),Me(l,"fluid"),Me(u,"floating"),Me(d,"inline"),Me(p,"labeled"),Me(f,"item"),Me(g,"multiple"),Me(y,"search"),Me(w,"selection"),Me(_,"simple"),Me(b,"scrolling"),Me(k,"upward"),Ue(v,"pointing"),"dropdown",o),x=qe(t,this.props),N=Ke(t,this.props),A=this.getDropdownAriaOptions(N,this.props);return i.createElement(AO,{innerRef:this.ref},i.createElement(N,Pe({},x,A,{className:C,onBlur:this.handleBlur,onClick:this.handleClick,onKeyDown:this.handleKeyDown,onMouseDown:this.handleMouseDown,onFocus:this.handleFocus,onChange:this.handleChange,tabIndex:this.computeTabIndex()}),this.renderLabels(),this.renderSearchInput(),this.renderSearchSizer(),E||this.renderText(),RP.create(h,{overrideProps:this.handleIconOverrides,autoGenerateKey:!1}),this.renderMenu(),S&&i.createElement(lO(),{name:"keydown",on:this.closeOnEscape}),S&&i.createElement(lO(),{name:"click",on:this.closeOnDocumentClick}),T&&i.createElement(lO(),{name:"keydown",on:this.removeItemOnBackspace})))},t}(TA);function HL(e){var t=e.control,n=qe(HL,e),r=Ke(HL,e);return i.createElement(r,Pe({},n,{control:t}))}KL.handledProps=["additionLabel","additionPosition","allowAdditions","as","basic","button","children","className","clearable","closeOnBlur","closeOnChange","closeOnEscape","compact","deburr","defaultOpen","defaultSearchQuery","defaultSelectedLabel","defaultUpward","defaultValue","direction","disabled","error","floating","fluid","header","icon","inline","item","labeled","lazyLoad","loading","minCharacters","multiple","noResultsMessage","onAddItem","onBlur","onChange","onClick","onClose","onFocus","onLabelClick","onMouseDown","onOpen","onSearchChange","open","openOnFocus","options","placeholder","pointing","renderLabel","scrolling","search","searchInput","searchQuery","selectOnBlur","selectOnNavigation","selectedLabel","selection","simple","tabIndex","text","trigger","upward","value","wrapSelection"],KL.propTypes={},KL.defaultProps={additionLabel:"Add ",additionPosition:"top",closeOnBlur:!0,closeOnEscape:!0,deburr:!1,icon:"dropdown",minCharacters:1,noResultsMessage:"No results found.",openOnFocus:!0,renderLabel:qL,searchInput:"text",selectOnBlur:!0,selectOnNavigation:!0,wrapSelection:!0},KL.autoControlledProps=["open","searchQuery","selectedLabel","value","upward"],KL.Divider=IL,KL.Header=CL,KL.Item=SL,KL.Menu=NL,KL.SearchInput=PL,KL.Text=OL,HL.handledProps=["as","control"],HL.propTypes={},HL.defaultProps={as:ND,control:KL};const GL=HL;function WL(e){var t=e.children,n=e.className,r=e.grouped,o=e.inline,s=e.unstackable,a=e.widths,c=Oe(Me(r,"grouped"),Me(o,"inline"),Me(s,"unstackable"),Be(a,null,!0),"fields",n),l=qe(WL,e),u=Ke(WL,e);return i.createElement(u,Pe({},l,{className:c}),t)}WL.handledProps=["as","children","className","grouped","inline","unstackable","widths"],WL.propTypes={};const QL=WL;function JL(e){var t=e.control,n=qe(JL,e),r=Ke(JL,e);return i.createElement(r,Pe({},n,{control:t}))}JL.handledProps=["as","control"],JL.propTypes={},JL.defaultProps={as:ND,control:oD};const $L=JL;function YL(e){var t=e.control,n=qe(YL,e),r=Ke(YL,e);return i.createElement(r,Pe({},n,{control:t}))}YL.handledProps=["as","control"],YL.propTypes={},YL.defaultProps={as:ND,control:CD};const XL=YL;function ZL(e){return i.createElement(KL,Pe({},e,{selection:!0}))}ZL.handledProps=["options"],ZL.propTypes={},ZL.Divider=KL.Divider,ZL.Header=KL.Header,ZL.Item=KL.Item,ZL.Menu=KL.Menu;const eM=ZL;function tM(e){var t=e.control,n=e.options,r=qe(tM,e),o=Ke(tM,e);return i.createElement(o,Pe({},r,{control:t,options:n}))}tM.handledProps=["as","control","options"],tM.propTypes={},tM.defaultProps={as:ND,control:eM};const nM=tM;var rM=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).ref=(0,i.createRef)(),t.focus=function(){return t.ref.current.focus()},t.handleChange=function(e){var n=Xr(e,"target.value");EA(t.props,"onChange",e,Pe({},t.props,{value:n}))},t.handleInput=function(e){var n=Xr(e,"target.value");EA(t.props,"onInput",e,Pe({},t.props,{value:n}))},t}return oA(t,e),t.prototype.render=function(){var e=this.props,n=e.rows,r=e.value,o=qe(t,this.props),s=Ke(t,this.props);return i.createElement(AO,{innerRef:this.ref},i.createElement(s,Pe({},o,{onChange:this.handleChange,onInput:this.handleInput,rows:n,value:r})))},t}(i.Component);rM.handledProps=["as","onChange","onInput","rows","value"],rM.propTypes={},rM.defaultProps={as:"textarea",rows:3};const iM=rM;function oM(e){var t=e.control,n=qe(oM,e),r=Ke(oM,e);return i.createElement(r,Pe({},n,{control:t}))}oM.handledProps=["as","control"],oM.propTypes={},oM.defaultProps={as:ND,control:iM};const sM=oM;var aM=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).handleSubmit=function(e){"string"!==typeof t.props.action&&EA(e,"preventDefault");for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];EA.apply(void 0,[t.props,"onSubmit",e,t.props].concat(r))},t}return oA(t,e),t.prototype.render=function(){var e=this.props,n=e.action,r=e.children,o=e.className,s=e.error,a=e.inverted,c=e.loading,l=e.reply,u=e.size,h=e.success,d=e.unstackable,f=e.warning,p=e.widths,m=Oe("ui",u,Me(s,"error"),Me(a,"inverted"),Me(c,"loading"),Me(l,"reply"),Me(h,"success"),Me(d,"unstackable"),Me(f,"warning"),Be(p,null,!0),"form",o),g=qe(t,this.props),v=Ke(t,this.props);return i.createElement(v,Pe({},g,{action:n,className:m,onSubmit:this.handleSubmit}),r)},t}(i.Component);aM.handledProps=["action","as","children","className","error","inverted","loading","onSubmit","reply","size","success","unstackable","warning","widths"],aM.propTypes={},aM.defaultProps={as:"form"},aM.Field=ND,aM.Button=PD,aM.Checkbox=OD,aM.Dropdown=GL,aM.Group=QL,aM.Input=$L,aM.Radio=XL,aM.Select=nM,aM.TextArea=sM;const cM=aM;function lM(e){var t=e.children,n=e.className,r=e.content,o=Oe("content",n),s=qe(lM,e),a=Ke(lM,e);return i.createElement(a,Pe({},s,{className:o}),mi(t)?r:t)}lM.handledProps=["as","children","className","content"],lM.propTypes={};const uM=lM;function hM(e){var t=e.children,n=e.className,r=e.content,o=Oe("header",n),s=qe(hM,e),a=Ke(hM,e);return i.createElement(a,Pe({},s,{className:o}),mi(t)?r:t)}hM.handledProps=["as","children","className","content"],hM.propTypes={},hM.create=zi(hM,(function(e){return{content:e}}));const dM=hM;function fM(e){var t=e.children,n=e.className,r=e.content,o=Oe("content",n),s=qe(fM,e),a=Ke(fM,e);return i.createElement(a,Pe({},s,{className:o}),mi(t)?r:t)}fM.handledProps=["as","children","className","content"],fM.propTypes={},fM.defaultProps={as:"li"},fM.create=zi(fM,(function(e){return{content:e}}));const pM=fM;function mM(e){var t=e.children,n=e.className,r=e.items,o=Oe("list",n),s=qe(mM,e),a=Ke(mM,e);return i.createElement(a,Pe({},s,{className:o}),mi(t)?aA(r,pM.create):t)}mM.handledProps=["as","children","className","items"],mM.propTypes={},mM.defaultProps={as:"ul"},mM.create=zi(mM,(function(e){return{items:e}}));const gM=mM;var vM=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).handleDismiss=function(e){var n=t.props.onDismiss;n&&n(e,t.props)},t}return oA(t,e),t.prototype.render=function(){var e=this.props,n=e.attached,r=e.children,o=e.className,s=e.color,a=e.compact,c=e.content,l=e.error,u=e.floating,h=e.header,d=e.hidden,f=e.icon,p=e.info,m=e.list,g=e.negative,v=e.onDismiss,y=e.positive,w=e.size,b=e.success,_=e.visible,E=e.warning,I=Oe("ui",s,w,Me(a,"compact"),Me(l,"error"),Me(u,"floating"),Me(d,"hidden"),Me(f,"icon"),Me(p,"info"),Me(g,"negative"),Me(y,"positive"),Me(b,"success"),Me(_,"visible"),Me(E,"warning"),Ue(n,"attached"),"message",o),T=v&&i.createElement(RP,{name:"close",onClick:this.handleDismiss}),S=qe(t,this.props),k=Ke(t,this.props);return mi(r)?i.createElement(k,Pe({},S,{className:I}),T,RP.create(f,{autoGenerateKey:!1}),(!ji(h)||!ji(c)||!ji(m))&&i.createElement(uM,null,dM.create(h,{autoGenerateKey:!1}),gM.create(m,{autoGenerateKey:!1}),Hi(c,{autoGenerateKey:!1}))):i.createElement(k,Pe({},S,{className:I}),T,r)},t}(i.Component);vM.handledProps=["as","attached","children","className","color","compact","content","error","floating","header","hidden","icon","info","list","negative","onDismiss","positive","size","success","visible","warning"],vM.propTypes={},vM.Content=uM,vM.Header=dM,vM.List=gM,vM.Item=pM;const yM=function(){const e=ee(),[t,n]=(0,i.useState)("register"),[r,o]=(0,i.useState)(""),[s,a]=(0,i.useState)(""),[c,l]=(0,i.useState)(""),[u,h]=(0,i.useState)(!1);return(0,yD.jsxs)(vi,{children:[(0,yD.jsxs)(FP,{widths:"2",children:[(0,yD.jsx)(FP.Item,{active:"register"===t,onClick:()=>{l(""),n("register")},children:"\u8a3b\u518a"}),(0,yD.jsx)(FP.Item,{active:"signin"===t,onClick:()=>{l(""),n("signin")},children:"\u767b\u5165"})]}),(0,yD.jsxs)(cM,{onSubmit:function(n){n.preventDefault(),h(!0),"register"===t?mN.auth().createUserWithEmailAndPassword(r,s).then((()=>{o(""),a(""),l(""),h(!1),e("/my/settings")})).catch((e=>{switch(e.code){case"auth/email-already-in-use":l("\u4fe1\u7bb1\u5df2\u5b58\u5728");break;case"auth/invalid-email":l("\u4fe1\u7bb1\u683c\u5f0f\u4e0d\u6b63\u78ba");break;case"auth/weak-password":l("\u5bc6\u78bc\u5f37\u5ea6\u4e0d\u8db3");break;default:l("\u8a3b\u518a\u5931\u6557\uff0c\u8acb\u7a0d\u5f8c\u518d\u8a66")}h(!1)})):"signin"===t&&mN.auth().signInWithEmailAndPassword(r,s).then((()=>{o(""),a(""),l(""),h(!1),e("/")})).catch((e=>{"auth/invalid-email"===e.code?l("\u4fe1\u7bb1\u683c\u5f0f\u4e0d\u6b63\u78ba"):l("\u4fe1\u7bb1\u4e0d\u5b58\u5728\u6216\u5bc6\u78bc\u932f\u8aa4"),h(!1)}))},children:[(0,yD.jsx)(cM.Input,{label:"\u4fe1\u7bb1",value:r,onChange:e=>o(e.target.value),placeholder:"\u8acb\u8f38\u5165\u4fe1\u7bb1"}),(0,yD.jsx)(cM.Input,{label:"\u5bc6\u78bc",value:s,onChange:e=>a(e.target.value),placeholder:"\u8acb\u8f38\u5165\u5bc6\u78bc",type:"password"}),c&&(0,yD.jsx)(vM,{negative:!0,children:c}),(0,yD.jsxs)(cM.Button,{loading:u,children:["register"===t&&"\u8a3b\u518a","signin"===t&&"\u767b\u5165"]})]})]})};const wM=function(){return(0,yD.jsx)(vi,{children:"\u65b0\u805e"})};function bM(e){var t=e.children,n=e.className,r=e.content,o=Oe("header",n),s=qe(bM,e),a=Ke(bM,e);return i.createElement(a,Pe({},s,{className:o}),mi(t)?r:t)}bM.handledProps=["as","children","className","content"],bM.propTypes={},bM.create=zi(bM,(function(e){return{content:e}}));const _M=bM;function EM(e){var t=e.children,n=e.className,r=e.content,o=Oe("description",n),s=qe(EM,e),a=Ke(EM,e);return i.createElement(a,Pe({},s,{className:o}),mi(t)?r:t)}EM.handledProps=["as","children","className","content"],EM.propTypes={},EM.create=zi(EM,(function(e){return{content:e}}));const IM=EM;function TM(e){var t=e.children,n=e.className,r=e.content,o=Oe("extra",n),s=qe(TM,e),a=Ke(TM,e);return i.createElement(a,Pe({},s,{className:o}),mi(t)?r:t)}TM.handledProps=["as","children","className","content"],TM.propTypes={},TM.create=zi(TM,(function(e){return{content:e}}));const SM=TM;function kM(e){var t=e.children,n=e.className,r=e.content,o=Oe("meta",n),s=qe(kM,e),a=Ke(kM,e);return i.createElement(a,Pe({},s,{className:o}),mi(t)?r:t)}kM.handledProps=["as","children","className","content"],kM.propTypes={},kM.create=zi(kM,(function(e){return{content:e}}));const CM=kM;function xM(e){var t=e.children,n=e.className,r=e.content,o=e.description,s=e.extra,a=e.header,c=e.meta,l=e.verticalAlign,u=Oe(ze(l),"content",n),h=qe(xM,e),d=Ke(xM,e);return mi(t)?i.createElement(d,Pe({},h,{className:u}),_M.create(a,{autoGenerateKey:!1}),CM.create(c,{autoGenerateKey:!1}),IM.create(o,{autoGenerateKey:!1}),SM.create(s,{autoGenerateKey:!1}),r):i.createElement(d,Pe({},h,{className:u}),t)}xM.handledProps=["as","children","className","content","description","extra","header","meta","verticalAlign"],xM.propTypes={};const NM=xM;function AM(e){var t=e.children,n=e.className,r=e.content,o=e.divided,s=e.items,a=e.link,c=e.relaxed,l=e.unstackable,u=Oe("ui",Me(o,"divided"),Me(a,"link"),Me(l,"unstackable"),Ue(c,"relaxed"),"items",n),h=qe(AM,e),d=Ke(AM,e);if(!mi(t))return i.createElement(d,Pe({},h,{className:u}),t);if(!mi(r))return i.createElement(d,Pe({},h,{className:u}),r);var f=aA(s,(function(e){var t=e.childKey,n=UP(e,["childKey"]),r=null!=t?t:[n.content,n.description,n.header,n.meta].join("-");return i.createElement(LM,Pe({},n,{key:r}))}));return i.createElement(d,Pe({},h,{className:u}),f)}AM.handledProps=["as","children","className","content","divided","items","link","relaxed","unstackable"],AM.propTypes={};const PM=AM;function RM(e){var t=e.size,n=qe(RM,e);return i.createElement(KO,Pe({},n,{size:t,ui:!!t,wrapped:!0}))}RM.handledProps=["size"],RM.propTypes={},RM.create=zi(RM,(function(e){return{src:e}}));const OM=RM;function DM(e){var t=e.children,n=e.className,r=e.content,o=e.description,s=e.extra,a=e.header,c=e.image,l=e.meta,u=Oe("item",n),h=qe(DM,e),d=Ke(DM,e);return mi(t)?i.createElement(d,Pe({},h,{className:u}),OM.create(c,{autoGenerateKey:!1}),i.createElement(NM,{content:r,description:o,extra:s,header:a,meta:l})):i.createElement(d,Pe({},h,{className:u}),t)}DM.handledProps=["as","children","className","content","description","extra","header","image","meta"],DM.Content=NM,DM.Description=IM,DM.Extra=SM,DM.Group=PM,DM.Header=_M,DM.Image=OM,DM.Meta=CM,DM.propTypes={};const LM=DM;var MM=!("undefined"===typeof window||!window.document||!window.document.createElement);var FM=void 0;function UM(){return void 0===FM&&(FM=function(){if(!MM)return!1;if(!window.addEventListener||!window.removeEventListener||!Object.defineProperty)return!1;var e=!1;try{var t=Object.defineProperty({},"passive",{get:function(){e=!0}}),n=function(){};window.addEventListener("testPassiveEventSupport",n,t),window.removeEventListener("testPassiveEventSupport",n,t)}catch(vV){}return e}()),FM}function jM(e){e.handlers===e.nextHandlers&&(e.nextHandlers=e.handlers.slice())}function VM(e){this.target=e,this.events={}}VM.prototype.getEventHandlers=function(e,t){var n,r=String(e)+" "+String((n=t)?!0===n?100:(0|n.capture)+(n.passive<<1)+(n.once<<2):0);return this.events[r]||(this.events[r]={handlers:[],handleEvent:void 0},this.events[r].nextHandlers=this.events[r].handlers),this.events[r]},VM.prototype.handleEvent=function(e,t,n){var r=this.getEventHandlers(e,t);r.handlers=r.nextHandlers,r.handlers.forEach((function(e){e&&e(n)}))},VM.prototype.add=function(e,t,n){var r=this,i=this.getEventHandlers(e,n);jM(i),0===i.nextHandlers.length&&(i.handleEvent=this.handleEvent.bind(this,e,n),this.target.addEventListener(e,i.handleEvent,n)),i.nextHandlers.push(t);var o=!0,s=function(){if(o){o=!1,jM(i);var s=i.nextHandlers.indexOf(t);i.nextHandlers.splice(s,1),0===i.nextHandlers.length&&(r.target&&r.target.removeEventListener(e,i.handleEvent,n),i.handleEvent=void 0)}};return s};var zM="__consolidated_events_handlers__";function BM(e,t,n,r){e[zM]||(e[zM]=new VM(e));var i=function(e){if(e)return UM()?e:!!e.capture}(r);return e[zM].add(t,n,i)}var qM=n(86);function KM(e,t){var n,r=(n=e,!isNaN(parseFloat(n))&&isFinite(n)?parseFloat(n):"px"===n.slice(-2)?parseFloat(n.slice(0,-2)):void 0);if("number"===typeof r)return r;var i=function(e){if("%"===e.slice(-1))return parseFloat(e.slice(0,-1))/100}(e);return"number"===typeof i?i*t:void 0}var HM="above",GM="inside",WM="below",QM="invisible";function JM(e){return"string"===typeof e.type}var $M;var YM=[];function XM(e){YM.push(e),$M||($M=setTimeout((function(){var e;for($M=null;e=YM.shift();)e()}),0));var t=!0;return function(){if(t){t=!1;var n=YM.indexOf(e);-1!==n&&(YM.splice(n,1),!YM.length&&$M&&(clearTimeout($M),$M=null))}}}var ZM="undefined"!==typeof window,eF={debug:!1,scrollableAncestor:void 0,children:void 0,topOffset:"0px",bottomOffset:"0px",horizontal:!1,onEnter:function(){},onLeave:function(){},onPositionChange:function(){},fireOnRapidScroll:!0},tF=function(e){function t(t){var n;return(n=e.call(this,t)||this).refElement=function(e){n._ref=e},n}oA(t,e);var r=t.prototype;return r.componentDidMount=function(){var e=this;ZM&&(this.cancelOnNextTick=XM((function(){e.cancelOnNextTick=null;var t=e.props,n=t.children;t.debug;!function(e,t){if(e&&!JM(e)&&!t)throw new Error("<Waypoint> needs a DOM element to compute boundaries. The child you passed is neither a DOM element (e.g. <div>) nor does it use the innerRef prop.\n\nSee https://goo.gl/LrBNgw for more info.")}(n,e._ref),e._handleScroll=e._handleScroll.bind(e),e.scrollableAncestor=e._findScrollableAncestor(),e.scrollEventListenerUnsubscribe=BM(e.scrollableAncestor,"scroll",e._handleScroll,{passive:!0}),e.resizeEventListenerUnsubscribe=BM(window,"resize",e._handleScroll,{passive:!0}),e._handleScroll(null)})))},r.componentDidUpdate=function(){var e=this;ZM&&this.scrollableAncestor&&(this.cancelOnNextTick||(this.cancelOnNextTick=XM((function(){e.cancelOnNextTick=null,e._handleScroll(null)}))))},r.componentWillUnmount=function(){ZM&&(this.scrollEventListenerUnsubscribe&&this.scrollEventListenerUnsubscribe(),this.resizeEventListenerUnsubscribe&&this.resizeEventListenerUnsubscribe(),this.cancelOnNextTick&&this.cancelOnNextTick())},r._findScrollableAncestor=function(){var e=this.props,t=e.horizontal,r=e.scrollableAncestor;if(r)return function(e){return"window"===e?n.g.window:e}(r);for(var i=this._ref;i.parentNode;){if((i=i.parentNode)===document.body)return window;var o=window.getComputedStyle(i),s=(t?o.getPropertyValue("overflow-x"):o.getPropertyValue("overflow-y"))||o.getPropertyValue("overflow");if("auto"===s||"scroll"===s||"overlay"===s)return i}return window},r._handleScroll=function(e){if(this._ref){var t=this._getBounds(),n=function(e){return e.viewportBottom-e.viewportTop===0?QM:e.viewportTop<=e.waypointTop&&e.waypointTop<=e.viewportBottom||e.viewportTop<=e.waypointBottom&&e.waypointBottom<=e.viewportBottom||e.waypointTop<=e.viewportTop&&e.viewportBottom<=e.waypointBottom?GM:e.viewportBottom<e.waypointTop?WM:e.waypointTop<e.viewportTop?HM:QM}(t),r=this._previousPosition,i=this.props,o=(i.debug,i.onPositionChange),s=i.onEnter,a=i.onLeave,c=i.fireOnRapidScroll;if(this._previousPosition=n,r!==n){var l={currentPosition:n,previousPosition:r,event:e,waypointTop:t.waypointTop,waypointBottom:t.waypointBottom,viewportTop:t.viewportTop,viewportBottom:t.viewportBottom};o.call(this,l),n===GM?s.call(this,l):r===GM&&a.call(this,l),c&&(r===WM&&n===HM||r===HM&&n===WM)&&(s.call(this,{currentPosition:GM,previousPosition:r,event:e,waypointTop:t.waypointTop,waypointBottom:t.waypointBottom,viewportTop:t.viewportTop,viewportBottom:t.viewportBottom}),a.call(this,{currentPosition:n,previousPosition:GM,event:e,waypointTop:t.waypointTop,waypointBottom:t.waypointBottom,viewportTop:t.viewportTop,viewportBottom:t.viewportBottom}))}}},r._getBounds=function(){var e,t,n=this.props,r=n.horizontal,i=(n.debug,this._ref.getBoundingClientRect()),o=i.left,s=i.top,a=i.right,c=i.bottom,l=r?o:s,u=r?a:c;this.scrollableAncestor===window?(e=r?window.innerWidth:window.innerHeight,t=0):(e=r?this.scrollableAncestor.offsetWidth:this.scrollableAncestor.offsetHeight,t=r?this.scrollableAncestor.getBoundingClientRect().left:this.scrollableAncestor.getBoundingClientRect().top);var h=this.props,d=h.bottomOffset;return{waypointTop:l,waypointBottom:u,viewportTop:t+KM(h.topOffset,e),viewportBottom:t+e-KM(d,e)}},r.render=function(){var e=this,t=this.props.children;if(!t)return i.createElement("span",{ref:this.refElement,style:{fontSize:0}});if(JM(t)||(0,qM.isForwardRef)(t)){return i.cloneElement(t,{ref:function(n){e.refElement(n),t.ref&&("function"===typeof t.ref?t.ref(n):t.ref.current=n)}})}return i.cloneElement(t,{innerRef:this.refElement})},t}(i.PureComponent);tF.above=HM,tF.below=WM,tF.inside=GM,tF.invisible=QM,tF.defaultProps=eF,tF.displayName="Waypoint";const nF=function(e){var t;let{post:n}=e;return(0,yD.jsxs)(LM,{as:xe,to:"/posts/".concat(n.id),children:[(0,yD.jsx)(LM.Image,{src:n.imageUrl||"https://upload.wikimedia.org/wikipedia/commons/7/78/Image.jpg",size:"small"}),(0,yD.jsxs)(LM.Content,{children:[(0,yD.jsxs)(LM.Meta,{children:[n.author.photoURL?(0,yD.jsx)(KO,{src:n.author.photoURL,avatar:!0}):(0,yD.jsx)(RP,{name:"user circle"})," ",n.author.displayName||"\u4f7f\u7528\u8005","\u3002",n.topic]}),(0,yD.jsxs)(LM.Header,{children:[" ",n.title," "]}),(0,yD.jsxs)(LM.Description,{children:[" ",n.content," "]}),(0,yD.jsxs)(LM.Extra,{children:["\u7559\u8a00 ",n.commentsCount||0,"\u3002\u8b9a ",(null===(t=n.likedBy)||void 0===t?void 0:t.length)||0]})]})]})};const rF=function(){const e=X(),t=new URLSearchParams(e.search).get("topic"),[n,r]=(0,i.useState)([]),[o,s]=(0,i.useState)(!0),a=(0,i.useRef)();return(0,i.useEffect)((()=>{let e=!0;return t?mN.firestore().collection("posts").where("topic","==",t).orderBy("createdAt","desc").limit(4).get().then((e=>{const t=e.docs.map((e=>{const t=e.id;return{...e.data(),id:t}}));a.current=e.docs[e.docs.length-1],r(t),s(!1)})):mN.firestore().collection("posts").orderBy("createdAt","desc").limit(6).get().then((e=>{const t=e.docs.map((e=>{const t=e.id;return{...e.data(),id:t}}));a.current=e.docs[e.docs.length-1],r(t),s(!1)})),()=>{e=!1}}),[t]),o?(0,yD.jsx)("div",{children:"Loading..."}):(0,yD.jsxs)(yD.Fragment,{children:[(0,yD.jsx)(LM.Group,{children:n.map((e=>(0,yD.jsx)(nF,{post:e},e.id)))}),(0,yD.jsx)(tF,{onEnter:()=>{a.current&&(t?mN.firestore().collection("posts").where("topic","==",t).orderBy("createdAt","desc").startAfter(a.current).limit(4).get().then((e=>{const t=e.docs.map((e=>{const t=e.id;return{...e.data(),id:t}}));a.current=e.docs[e.docs.length-1],r([...n,...t]),s(!1)})):mN.firestore().collection("posts").orderBy("createdAt","desc").startAfter(a.current).limit(4).get().then((e=>{const t=e.docs.map((e=>{const t=e.id;return{...e.data(),id:t}}));a.current=e.docs[e.docs.length-1],r([...n,...t]),s(!1)})))}})]})};function iF(e){var t=e.children,n=e.className,r=e.content,o=Oe("sub header",n),s=qe(iF,e),a=Ke(iF,e);return i.createElement(a,Pe({},s,{className:o}),mi(t)?r:t)}iF.handledProps=["as","children","className","content"],iF.propTypes={},iF.create=zi(iF,(function(e){return{content:e}}));const oF=iF;function sF(e){var t=e.children,n=e.className,r=e.content,o=Oe("content",n),s=qe(sF,e),a=Ke(sF,e);return i.createElement(a,Pe({},s,{className:o}),mi(t)?r:t)}sF.handledProps=["as","children","className","content"],sF.propTypes={};const aF=sF;function cF(e){var t=e.attached,n=e.block,r=e.children,o=e.className,s=e.color,a=e.content,c=e.disabled,l=e.dividing,u=e.floated,h=e.icon,d=e.image,f=e.inverted,p=e.size,m=e.sub,g=e.subheader,v=e.textAlign,y=Oe("ui",s,p,Me(n,"block"),Me(c,"disabled"),Me(l,"dividing"),Fe(u,"floated"),Me(!0===h,"icon"),Me(!0===d,"image"),Me(f,"inverted"),Me(m,"sub"),Ue(t,"attached"),Ve(v),"header",o),w=qe(cF,e),b=Ke(cF,e);if(!mi(r))return i.createElement(b,Pe({},w,{className:y}),r);var _=RP.create(h,{autoGenerateKey:!1}),E=KO.create(d,{autoGenerateKey:!1}),I=oF.create(g,{autoGenerateKey:!1});return _||E?i.createElement(b,Pe({},w,{className:y}),_||E,(a||I)&&i.createElement(aF,null,a,I)):i.createElement(b,Pe({},w,{className:y}),a,I)}cF.handledProps=["as","attached","block","children","className","color","content","disabled","dividing","floated","icon","image","inverted","size","sub","subheader","textAlign"],cF.propTypes={},cF.Content=aF,cF.Subheader=oF;const lF=cF,uF="firebasestorage.googleapis.com",hF="storageBucket";class dF extends yo{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;super(mF(e),"Firebase Storage: ".concat(t," (").concat(mF(e),")")),this.status_=n,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,dF.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return mF(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message="".concat(this._baseMessage,"\n").concat(this.customData.serverResponse):this.message=this._baseMessage}}var fF,pF;function mF(e){return"storage/"+e}function gF(){return new dF(fF.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function vF(){return new dF(fF.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function yF(){return new dF(fF.CANCELED,"User canceled the upload/download.")}function wF(){return new dF(fF.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function bF(e){return new dF(fF.INVALID_ARGUMENT,e)}function _F(){return new dF(fF.APP_DELETED,"The Firebase app was deleted.")}function EF(e){return new dF(fF.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function IF(e,t){return new dF(fF.INVALID_FORMAT,"String does not match format '"+e+"': "+t)}function TF(e){throw new dF(fF.INTERNAL_ERROR,"Internal error: "+e)}!function(e){e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment"}(fF||(fF={}));class SF{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let n;try{n=SF.makeFromUrl(e,t)}catch(vV){return new SF(e,"")}if(""===n.path)return n;throw r=e,new dF(fF.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+r+"'.");var r}static makeFromUrl(e,t){let n=null;const r="([A-Za-z0-9.\\-_]+)";const i=new RegExp("^gs://"+r+"(/(.*))?$","i");function o(e){e.path_=decodeURIComponent(e.path)}const s=t.replace(/[.]/g,"\\."),a=[{regex:i,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp("^https?://".concat(s,"/").concat("v[A-Za-z0-9_]+","/b/").concat(r,"/o").concat("(/([^?#]*).*)?$"),"i"),indices:{bucket:1,path:3},postModify:o},{regex:new RegExp("^https?://".concat(t===uF?"(?:storage.googleapis.com|storage.cloud.google.com)":t,"/").concat(r,"/").concat("([^?#]*)"),"i"),indices:{bucket:1,path:2},postModify:o}];for(let c=0;c<a.length;c++){const t=a[c],r=t.regex.exec(e);if(r){const e=r[t.indices.bucket];let i=r[t.indices.path];i||(i=""),n=new SF(e,i),t.postModify(n);break}}if(null==n)throw function(e){return new dF(fF.INVALID_URL,"Invalid URL '"+e+"'.")}(e);return n}}class kF{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(){}}function CF(e){return"string"===typeof e||e instanceof String}function xF(e){return NF()&&e instanceof Blob}function NF(){return"undefined"!==typeof Blob}function AF(e,t,n,r){if(r<t)throw bF("Invalid value for '".concat(e,"'. Expected ").concat(t," or greater."));if(r>n)throw bF("Invalid value for '".concat(e,"'. Expected ").concat(n," or less."))}function PF(e,t,n){let r=t;return null==n&&(r="https://".concat(t)),"".concat(n,"://").concat(r,"/v0").concat(e)}function RF(e){const t=encodeURIComponent;let n="?";for(const r in e)if(e.hasOwnProperty(r)){n=n+(t(r)+"="+t(e[r]))+"&"}return n=n.slice(0,-1),n}function OF(e,t){const n=e>=500&&e<600,r=-1!==[408,429].indexOf(e),i=-1!==t.indexOf(e);return n||r||i}!function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"}(pF||(pF={}));class DF{constructor(e,t,n,r,i,o,s,a,c,l,u){let h=!(arguments.length>11&&void 0!==arguments[11])||arguments[11];this.url_=e,this.method_=t,this.headers_=n,this.body_=r,this.successCodes_=i,this.additionalRetryCodes_=o,this.callback_=s,this.errorCallback_=a,this.timeout_=c,this.progressCallback_=l,this.connectionFactory_=u,this.retry=h,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise(((e,t)=>{this.resolve_=e,this.reject_=t,this.start_()}))}start_(){const e=(e,t)=>{if(t)return void e(!1,new LF(!1,null,!0));const n=this.connectionFactory_();this.pendingConnection_=n;const r=e=>{const t=e.loaded,n=e.lengthComputable?e.total:-1;null!==this.progressCallback_&&this.progressCallback_(t,n)};null!==this.progressCallback_&&n.addUploadProgressListener(r),n.send(this.url_,this.method_,this.body_,this.headers_).then((()=>{null!==this.progressCallback_&&n.removeUploadProgressListener(r),this.pendingConnection_=null;const t=n.getErrorCode()===pF.NO_ERROR,i=n.getStatus();if(!t||OF(i,this.additionalRetryCodes_)&&this.retry){const t=n.getErrorCode()===pF.ABORT;return void e(!1,new LF(!1,null,t))}const o=-1!==this.successCodes_.indexOf(i);e(!0,new LF(o,n))}))},t=(e,t)=>{const n=this.resolve_,r=this.reject_,i=t.connection;if(t.wasSuccessCode)try{const e=this.callback_(i,i.getResponse());!function(e){return void 0!==e}(e)?n():n(e)}catch(vV){r(vV)}else if(null!==i){const e=gF();e.serverResponse=i.getErrorText(),this.errorCallback_?r(this.errorCallback_(i,e)):r(e)}else if(t.canceled){r(this.appDelete_?_F():yF())}else{r(vF())}};this.canceled_?t(0,new LF(!1,null,!0)):this.backoffId_=function(e,t,n){let r=1,i=null,o=null,s=!1,a=0;function c(){return 2===a}let l=!1;function u(){if(!l){l=!0;for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.apply(null,n)}}function h(t){i=setTimeout((()=>{i=null,e(f,c())}),t)}function d(){o&&clearTimeout(o)}function f(e){if(l)return void d();for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];if(e)return d(),void u.call(null,e,...n);if(c()||s)return d(),void u.call(null,e,...n);let o;r<64&&(r*=2),1===a?(a=2,o=0):o=1e3*(r+Math.random()),h(o)}let p=!1;function m(e){p||(p=!0,d(),l||(null!==i?(e||(a=2),clearTimeout(i),h(0)):e||(a=1)))}return h(0),o=setTimeout((()=>{s=!0,m(!0)}),n),m}(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function(e){e(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class LF{constructor(e,t,n){this.wasSuccessCode=e,this.connection=t,this.canceled=!!n}}function MF(){return"undefined"!==typeof BlobBuilder?BlobBuilder:"undefined"!==typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function FF(){const e=MF();for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(void 0!==e){const t=new e;for(let e=0;e<n.length;e++)t.append(n[e]);return t.getBlob()}if(NF())return new Blob(n);throw new dF(fF.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}function UF(e){if("undefined"===typeof atob)throw t="base-64",new dF(fF.UNSUPPORTED_ENVIRONMENT,"".concat(t," is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information."));var t;return atob(e)}const jF={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class VF{constructor(e,t){this.data=e,this.contentType=t||null}}function zF(e,t){switch(e){case jF.RAW:return new VF(BF(t));case jF.BASE64:case jF.BASE64URL:return new VF(qF(e,t));case jF.DATA_URL:return new VF(function(e){const t=new KF(e);return t.base64?qF(jF.BASE64,t.rest):function(e){let t;try{t=decodeURIComponent(e)}catch(vV){throw IF(jF.DATA_URL,"Malformed data URL.")}return BF(t)}(t.rest)}(t),new KF(t).contentType)}throw gF()}function BF(e){const t=[];for(let n=0;n<e.length;n++){let r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|63&r);else if(55296===(64512&r)){if(n<e.length-1&&56320===(64512&e.charCodeAt(n+1))){r=65536|(1023&r)<<10|1023&e.charCodeAt(++n),t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r)}else t.push(239,191,189)}else 56320===(64512&r)?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(t)}function qF(e,t){switch(e){case jF.BASE64:{const n=-1!==t.indexOf("-"),r=-1!==t.indexOf("_");if(n||r){throw IF(e,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?")}break}case jF.BASE64URL:{const n=-1!==t.indexOf("+"),r=-1!==t.indexOf("/");if(n||r){throw IF(e,"Invalid character '"+(n?"+":"/")+"' found: is it base64 encoded?")}t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=UF(t)}catch(vV){if(vV.message.includes("polyfill"))throw vV;throw IF(e,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class KF{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(null===t)throw IF(jF.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const n=t[1]||null;null!=n&&(this.base64=function(e,t){if(!(e.length>=t.length))return!1;return e.substring(e.length-t.length)===t}(n,";base64"),this.contentType=this.base64?n.substring(0,n.length-7):n),this.rest=e.substring(e.indexOf(",")+1)}}class HF{constructor(e,t){let n=0,r="";xF(e)?(this.data_=e,n=e.size,r=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),n=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),n=e.length),this.size_=n,this.type_=r}size(){return this.size_}type(){return this.type_}slice(e,t){if(xF(this.data_)){const n=function(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}(this.data_,e,t);return null===n?null:new HF(n)}{const n=new Uint8Array(this.data_.buffer,e,t-e);return new HF(n,!0)}}static getBlob(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(NF()){const e=t.map((e=>e instanceof HF?e.data_:e));return new HF(FF.apply(null,e))}{const e=t.map((e=>CF(e)?zF(jF.RAW,e).data:e.data_));let n=0;e.forEach((e=>{n+=e.byteLength}));const r=new Uint8Array(n);let i=0;return e.forEach((e=>{for(let t=0;t<e.length;t++)r[i++]=e[t]})),new HF(r,!0)}}uploadData(){return this.data_}}function GF(e){let t;try{t=JSON.parse(e)}catch(vV){return null}return function(e){return"object"===typeof e&&!Array.isArray(e)}(t)?t:null}function WF(e){const t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}function QF(e,t){return t}class JF{constructor(e,t,n,r){this.server=e,this.local=t||e,this.writable=!!n,this.xform=r||QF}}let $F=null;function YF(){if($F)return $F;const e=[];e.push(new JF("bucket")),e.push(new JF("generation")),e.push(new JF("metageneration")),e.push(new JF("name","fullPath",!0));const t=new JF("name");t.xform=function(e,t){return function(e){return!CF(e)||e.length<2?e:WF(e)}(t)},e.push(t);const n=new JF("size");return n.xform=function(e,t){return void 0!==t?Number(t):t},e.push(n),e.push(new JF("timeCreated")),e.push(new JF("updated")),e.push(new JF("md5Hash",null,!0)),e.push(new JF("cacheControl",null,!0)),e.push(new JF("contentDisposition",null,!0)),e.push(new JF("contentEncoding",null,!0)),e.push(new JF("contentLanguage",null,!0)),e.push(new JF("contentType",null,!0)),e.push(new JF("metadata","customMetadata",!0)),$F=e,$F}function XF(e,t,n){const r={type:"file"},i=n.length;for(let o=0;o<i;o++){const e=n[o];r[e.local]=e.xform(r,t[e.server])}return function(e,t){Object.defineProperty(e,"ref",{get:function(){const n=e.bucket,r=e.fullPath,i=new SF(n,r);return t._makeStorageReference(i)}})}(r,e),r}function ZF(e,t,n){const r=GF(t);if(null===r)return null;return XF(e,r,n)}function eU(e,t){const n={},r=t.length;for(let i=0;i<r;i++){const r=t[i];r.writable&&(n[r.server]=e[r.local])}return JSON.stringify(n)}const tU="prefixes",nU="items";function rU(e,t,n){const r=GF(n);if(null===r)return null;return function(e,t,n){const r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n[tU])for(const i of n[tU]){const n=i.replace(/\/$/,""),o=e._makeStorageReference(new SF(t,n));r.prefixes.push(o)}if(n[nU])for(const i of n[nU]){const n=e._makeStorageReference(new SF(t,i.name));r.items.push(n)}return r}(e,t,r)}class iU{constructor(e,t,n,r){this.url=e,this.method=t,this.handler=n,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function oU(e){if(!e)throw gF()}function sU(e,t){return function(n,r){const i=ZF(e,r,t);return oU(null!==i),i}}function aU(e,t){return function(n,r){const i=ZF(e,r,t);return oU(null!==i),function(e,t,n,r){const i=GF(t);if(null===i)return null;if(!CF(i.downloadTokens))return null;const o=i.downloadTokens;if(0===o.length)return null;const s=encodeURIComponent;return o.split(",").map((t=>{const i=e.bucket,o=e.fullPath;return PF("/b/"+s(i)+"/o/"+s(o),n,r)+RF({alt:"media",token:t})}))[0]}(i,r,e.host,e._protocol)}}function cU(e){return function(t,n){let r;var i,o;return 401===t.getStatus()?r=t.getErrorText().includes("Firebase App Check token is invalid")?new dF(fF.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project."):new dF(fF.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again."):402===t.getStatus()?(o=e.bucket,r=new dF(fF.QUOTA_EXCEEDED,"Quota for bucket '"+o+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):403===t.getStatus()?(i=e.path,r=new dF(fF.UNAUTHORIZED,"User does not have permission to access '"+i+"'.")):r=n,r.status=t.getStatus(),r.serverResponse=n.serverResponse,r}}function lU(e){const t=cU(e);return function(n,r){let i=t(n,r);var o;return 404===n.getStatus()&&(o=e.path,i=new dF(fF.OBJECT_NOT_FOUND,"Object '"+o+"' does not exist.")),i.serverResponse=r.serverResponse,i}}function uU(e,t,n){const r=PF(t.fullServerUrl(),e.host,e._protocol),i=e.maxOperationRetryTime,o=new iU(r,"GET",sU(e,n),i);return o.errorHandler=lU(t),o}function hU(e,t,n,r,i){const o={};t.isRoot?o.prefix="":o.prefix=t.path+"/",n&&n.length>0&&(o.delimiter=n),r&&(o.pageToken=r),i&&(o.maxResults=i);const s=PF(t.bucketOnlyServerUrl(),e.host,e._protocol),a=e.maxOperationRetryTime,c=new iU(s,"GET",function(e,t){return function(n,r){const i=rU(e,t,r);return oU(null!==i),i}}(e,t.bucket),a);return c.urlParams=o,c.errorHandler=cU(t),c}function dU(e,t,n){const r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=function(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}(null,t)),r}function fU(e,t,n,r,i){const o=t.bucketOnlyServerUrl(),s={"X-Goog-Upload-Protocol":"multipart"};const a=function(){let e="";for(let t=0;t<2;t++)e+=Math.random().toString().slice(2);return e}();s["Content-Type"]="multipart/related; boundary="+a;const c=dU(t,r,i),l="--"+a+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+eU(c,n)+"\r\n--"+a+"\r\nContent-Type: "+c.contentType+"\r\n\r\n",u="\r\n--"+a+"--",h=HF.getBlob(l,r,u);if(null===h)throw wF();const d={name:c.fullPath},f=PF(o,e.host,e._protocol),p=e.maxUploadRetryTime,m=new iU(f,"POST",sU(e,n),p);return m.urlParams=d,m.headers=s,m.body=h.uploadData(),m.errorHandler=cU(t),m}class pU{constructor(e,t,n,r){this.current=e,this.total=t,this.finalized=!!n,this.metadata=r||null}}function mU(e,t){let n=null;try{n=e.getResponseHeader("X-Goog-Upload-Status")}catch(vV){oU(!1)}return oU(!!n&&-1!==(t||["active"]).indexOf(n)),n}const gU=262144;function vU(e,t,n,r,i,o,s,a){const c=new pU(0,0);if(s?(c.current=s.current,c.total=s.total):(c.current=0,c.total=r.size()),r.size()!==c.total)throw new dF(fF.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.");const l=c.total-c.current;let u=l;i>0&&(u=Math.min(u,i));const h=c.current,d=h+u;let f="";f=0===u?"finalize":l===u?"upload, finalize":"upload";const p={"X-Goog-Upload-Command":f,"X-Goog-Upload-Offset":"".concat(c.current)},m=r.slice(h,d);if(null===m)throw wF();const g=t.maxUploadRetryTime,v=new iU(n,"POST",(function(e,n){const i=mU(e,["active","final"]),s=c.current+u,a=r.size();let l;return l="final"===i?sU(t,o)(e,n):null,new pU(s,a,"final"===i,l)}),g);return v.headers=p,v.body=m.uploadData(),v.progressCallback=a||null,v.errorHandler=cU(e),v}const yU={STATE_CHANGED:"state_changed"},wU={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function bU(e){switch(e){case"running":case"pausing":case"canceling":return wU.RUNNING;case"paused":return wU.PAUSED;case"success":return wU.SUCCESS;case"canceled":return wU.CANCELED;default:return wU.ERROR}}class _U{constructor(e,t,n){const r=function(e){return"function"===typeof e}(e)||null!=t||null!=n;if(r)this.next=e,this.error=null!==t&&void 0!==t?t:void 0,this.complete=null!==n&&void 0!==n?n:void 0;else{const t=e;this.next=t.next,this.error=t.error,this.complete=t.complete}}}function EU(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];Promise.resolve().then((()=>e(...n)))}}let IU=null;class TU{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=pF.NO_ERROR,this.sendPromise_=new Promise((e=>{this.xhr_.addEventListener("abort",(()=>{this.errorCode_=pF.ABORT,e()})),this.xhr_.addEventListener("error",(()=>{this.errorCode_=pF.NETWORK_ERROR,e()})),this.xhr_.addEventListener("load",(()=>{e()}))}))}send(e,t,n,r){if(this.sent_)throw TF("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==r)for(const i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw TF("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw TF("cannot .getStatus() before sending");try{return this.xhr_.status}catch(vV){return-1}}getResponse(){if(!this.sent_)throw TF("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw TF("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}class SU extends TU{initXhr(){this.xhr_.responseType="text"}}function kU(){return IU?IU():new SU}class CU{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=t,this._metadata=n,this._mappings=YF(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=e=>{if(this._request=void 0,this._chunkMultiplier=1,e._codeEquals(fF.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const t=this.isExponentialBackoffExpired();if(OF(e.status,[])){if(!t)return this.sleepTime=Math.max(2*this.sleepTime,1e3),this._needToFetchStatus=!0,void this.completeTransitions_();e=vF()}this._error=e,this._transition("error")}},this._metadataErrorHandler=e=>{this._request=void 0,e._codeEquals(fF.CANCELED)?this.completeTransitions_():(this._error=e,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise(((e,t)=>{this._resolve=e,this._reject=t,this._start()})),this._promise.then(null,(()=>{}))}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const e=this._transferred;return t=>this._updateProgress(e+t)}_shouldDoResumable(e){return e.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout((()=>{this.pendingTimeout=void 0,this._continueUpload()}),this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then((t=>{let[n,r]=t;switch(this._state){case"running":e(n,r);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}}))}_createResumable(){this._resolveToken(((e,t)=>{const n=function(e,t,n,r,i){const o=t.bucketOnlyServerUrl(),s=dU(t,r,i),a={name:s.fullPath},c=PF(o,e.host,e._protocol),l={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":"".concat(r.size()),"X-Goog-Upload-Header-Content-Type":s.contentType,"Content-Type":"application/json; charset=utf-8"},u=eU(s,n),h=e.maxUploadRetryTime,d=new iU(c,"POST",(function(e){let t;mU(e);try{t=e.getResponseHeader("X-Goog-Upload-URL")}catch(vV){oU(!1)}return oU(CF(t)),t}),h);return d.urlParams=a,d.headers=l,d.body=u,d.errorHandler=cU(t),d}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(n,kU,e,t);this._request=r,r.getPromise().then((e=>{this._request=void 0,this._uploadUrl=e,this._needToFetchStatus=!1,this.completeTransitions_()}),this._errorHandler)}))}_fetchStatus(){const e=this._uploadUrl;this._resolveToken(((t,n)=>{const r=function(e,t,n,r){const i=e.maxUploadRetryTime,o=new iU(n,"POST",(function(e){const t=mU(e,["active","final"]);let n=null;try{n=e.getResponseHeader("X-Goog-Upload-Size-Received")}catch(vV){oU(!1)}n||oU(!1);const i=Number(n);return oU(!isNaN(i)),new pU(i,r.size(),"final"===t)}),i);return o.headers={"X-Goog-Upload-Command":"query"},o.errorHandler=cU(t),o}(this._ref.storage,this._ref._location,e,this._blob),i=this._ref.storage._makeRequest(r,kU,t,n);this._request=i,i.getPromise().then((e=>{this._request=void 0,this._updateProgress(e.current),this._needToFetchStatus=!1,e.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()}),this._errorHandler)}))}_continueUpload(){const e=gU*this._chunkMultiplier,t=new pU(this._transferred,this._blob.size()),n=this._uploadUrl;this._resolveToken(((r,i)=>{let o;try{o=vU(this._ref._location,this._ref.storage,n,this._blob,e,this._mappings,t,this._makeProgressCallback())}catch(vV){return this._error=vV,void this._transition("error")}const s=this._ref.storage._makeRequest(o,kU,r,i,!1);this._request=s,s.getPromise().then((e=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(e.current),e.finalized?(this._metadata=e.metadata,this._transition("success")):this.completeTransitions_()}),this._errorHandler)}))}_increaseMultiplier(){2*(gU*this._chunkMultiplier)<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken(((e,t)=>{const n=uU(this._ref.storage,this._ref._location,this._mappings),r=this._ref.storage._makeRequest(n,kU,e,t);this._request=r,r.getPromise().then((e=>{this._request=void 0,this._metadata=e,this._transition("success")}),this._metadataErrorHandler)}))}_oneShotUpload(){this._resolveToken(((e,t)=>{const n=fU(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(n,kU,e,t);this._request=r,r.getPromise().then((e=>{this._request=void 0,this._metadata=e,this._updateProgress(this._blob.size()),this._transition("success")}),this._errorHandler)}))}_updateProgress(e){const t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const t="paused"===this._state;this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=e,this._notifyObservers();break;case"canceled":this._error=yF(),this._state=e,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const e=bU(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,t,n,r){const i=new _U(t||void 0,n||void 0,r||void 0);return this._addObserver(i),()=>{this._removeObserver(i)}}then(e,t){return this._promise.then(e,t)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const t=this._observers.indexOf(e);-1!==t&&this._observers.splice(t,1)}_notifyObservers(){this._finishPromise();this._observers.slice().forEach((e=>{this._notifyObserver(e)}))}_finishPromise(){if(void 0!==this._resolve){let e=!0;switch(bU(this._state)){case wU.SUCCESS:EU(this._resolve.bind(null,this.snapshot))();break;case wU.CANCELED:case wU.ERROR:EU(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(bU(this._state)){case wU.RUNNING:case wU.PAUSED:e.next&&EU(e.next.bind(e,this.snapshot))();break;case wU.SUCCESS:e.complete&&EU(e.complete.bind(e))();break;default:e.error&&EU(e.error.bind(e,this._error))()}}resume(){const e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e}pause(){const e="running"===this._state;return e&&this._transition("pausing"),e}cancel(){const e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e}}class xU{constructor(e,t){this._service=e,this._location=t instanceof SF?t:SF.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new xU(e,t)}get root(){const e=new SF(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return WF(this._location.path)}get storage(){return this._service}get parent(){const e=function(e){if(0===e.length)return null;const t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this._location.path);if(null===e)return null;const t=new SF(this._location.bucket,e);return new xU(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw EF(e)}}function NU(e){const t={prefixes:[],items:[]};return AU(e,t).then((()=>t))}async function AU(e,t,n){const r={pageToken:n},i=await PU(e,r);t.prefixes.push(...i.prefixes),t.items.push(...i.items),null!=i.nextPageToken&&await AU(e,t,i.nextPageToken)}function PU(e,t){null!=t&&"number"===typeof t.maxResults&&AF("options.maxResults",1,1e3,t.maxResults);const n=t||{},r=hU(e.storage,e._location,"/",n.pageToken,n.maxResults);return e.storage.makeRequestWithTokens(r,kU)}function RU(e,t){e._throwIfRoot("updateMetadata");const n=function(e,t,n,r){const i=PF(t.fullServerUrl(),e.host,e._protocol),o=eU(n,r),s=e.maxOperationRetryTime,a=new iU(i,"PATCH",sU(e,r),s);return a.headers={"Content-Type":"application/json; charset=utf-8"},a.body=o,a.errorHandler=lU(t),a}(e.storage,e._location,t,YF());return e.storage.makeRequestWithTokens(n,kU)}function OU(e){e._throwIfRoot("getDownloadURL");const t=function(e,t,n){const r=PF(t.fullServerUrl(),e.host,e._protocol),i=e.maxOperationRetryTime,o=new iU(r,"GET",aU(e,n),i);return o.errorHandler=lU(t),o}(e.storage,e._location,YF());return e.storage.makeRequestWithTokens(t,kU).then((e=>{if(null===e)throw new dF(fF.NO_DOWNLOAD_URL,"The given file does not have any download URLs.");return e}))}function DU(e){e._throwIfRoot("deleteObject");const t=function(e,t){const n=PF(t.fullServerUrl(),e.host,e._protocol),r=e.maxOperationRetryTime,i=new iU(n,"DELETE",(function(e,t){}),r);return i.successCodes=[200,204],i.errorHandler=lU(t),i}(e.storage,e._location);return e.storage.makeRequestWithTokens(t,kU)}function LU(e,t){const n=function(e,t){const n=t.split("/").filter((e=>e.length>0)).join("/");return 0===e.length?n:e+"/"+n}(e._location.path,t),r=new SF(e._location.bucket,n);return new xU(e.storage,r)}function MU(e,t){if(e instanceof jU){const n=e;if(null==n._bucket)throw new dF(fF.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+hF+"' property when initializing the app?");const r=new xU(n,n._bucket);return null!=t?MU(r,t):r}return void 0!==t?LU(e,t):e}function FU(e,t){if(t&&/^[A-Za-z]+:\/\//.test(t)){if(e instanceof jU)return new xU(e,t);throw bF("To use ref(service, url), the first argument must be a Storage instance.")}return MU(e,t)}function UU(e,t){const n=null===t||void 0===t?void 0:t[hF];return null==n?null:SF.makeFromBucketSpec(n,e)}class jU{constructor(e,t,n,r,i){this.app=e,this._authProvider=t,this._appCheckProvider=n,this._url=r,this._firebaseVersion=i,this._bucket=null,this._host=uF,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=r?SF.makeFromBucketSpec(r,this._host):UU(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,null!=this._url?this._bucket=SF.makeFromBucketSpec(this._url,e):this._bucket=UU(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){AF("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){AF("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(null!==t)return t.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});if(e){return(await e.getToken()).token}return null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach((e=>e.cancel())),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new xU(this,e)}_makeRequest(e,t,n,r){let i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];if(this._deleted)return new kF(_F());{const o=function(e,t,n,r,i,o){let s=!(arguments.length>6&&void 0!==arguments[6])||arguments[6];const a=RF(e.urlParams),c=e.url+a,l=Object.assign({},e.headers);return function(e,t){t&&(e["X-Firebase-GMPID"]=t)}(l,t),function(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}(l,n),function(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(null!==t&&void 0!==t?t:"AppManager")}(l,o),function(e,t){null!==t&&(e["X-Firebase-AppCheck"]=t)}(l,r),new DF(c,e.method,l,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i,s)}(e,this._appId,n,r,t,this._firebaseVersion,i);return this._requests.add(o),o.getPromise().then((()=>this._requests.delete(o)),(()=>this._requests.delete(o))),o}}async makeRequestWithTokens(e,t){const[n,r]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,n,r).getPromise()}}const VU="@firebase/storage",zU="0.12.4",BU="storage";function qU(e,t,n){return function(e,t,n){return e._throwIfRoot("uploadBytesResumable"),new CU(e,new HF(t),n)}(e=Ao(e),t,n)}function KU(e){return function(e){e._throwIfRoot("getMetadata");const t=uU(e.storage,e._location,YF());return e.storage.makeRequestWithTokens(t,kU)}(e=Ao(e))}function HU(e,t){return FU(e=Ao(e),t)}function GU(e,t,n){!function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e.host="".concat(t,":").concat(n),e._protocol="http";const{mockUserToken:i}=r;i&&(e._overrideAuthToken="string"===typeof i?i:co(i,e.app.options.projectId))}(e,t,n,arguments.length>3&&void 0!==arguments[3]?arguments[3]:{})}function WU(e,t){let{instanceIdentifier:n}=t;const r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),o=e.getProvider("app-check-internal");return new jU(r,i,o,n,Js)}Vs(new Po(BU,WU,"PUBLIC").setMultipleInstances(!0)),ta(VU,zU,""),ta(VU,zU,"esm2017");class QU{constructor(e,t,n){this._delegate=e,this.task=t,this.ref=n}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class JU{constructor(e,t){this._delegate=e,this._ref=t,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new QU(this._delegate.snapshot,this,this._ref)}then(e,t){return this._delegate.then((t=>{if(e)return e(new QU(t,this,this._ref))}),t)}on(e,t,n,r){let i;return t&&(i="function"===typeof t?e=>t(new QU(e,this,this._ref)):{next:t.next?e=>t.next(new QU(e,this,this._ref)):void 0,complete:t.complete||void 0,error:t.error||void 0}),this._delegate.on(e,i,n||void 0,r||void 0)}}class $U{constructor(e,t){this._delegate=e,this._service=t}get prefixes(){return this._delegate.prefixes.map((e=>new YU(e,this._service)))}get items(){return this._delegate.items.map((e=>new YU(e,this._service)))}get nextPageToken(){return this._delegate.nextPageToken||null}}class YU{constructor(e,t){this._delegate=e,this.storage=t}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(e){const t=function(e,t){return LU(e,t)}(this._delegate,e);return new YU(t,this.storage)}get root(){return new YU(this._delegate.root,this.storage)}get parent(){const e=this._delegate.parent;return null==e?null:new YU(e,this.storage)}put(e,t){return this._throwIfRoot("put"),new JU(qU(this._delegate,e,t),this)}putString(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:jF.RAW,n=arguments.length>2?arguments[2]:void 0;this._throwIfRoot("putString");const r=zF(t,e),i=Object.assign({},n);return null==i.contentType&&null!=r.contentType&&(i.contentType=r.contentType),new JU(new CU(this._delegate,new HF(r.data,!0),i),this)}listAll(){return function(e){return NU(e=Ao(e))}(this._delegate).then((e=>new $U(e,this.storage)))}list(e){return function(e,t){return PU(e=Ao(e),t)}(this._delegate,e||void 0).then((e=>new $U(e,this.storage)))}getMetadata(){return KU(this._delegate)}updateMetadata(e){return function(e,t){return RU(e=Ao(e),t)}(this._delegate,e)}getDownloadURL(){return function(e){return OU(e=Ao(e))}(this._delegate)}delete(){return this._throwIfRoot("delete"),function(e){return DU(e=Ao(e))}(this._delegate)}_throwIfRoot(e){if(""===this._delegate._location.path)throw EF(e)}}class XU{constructor(e,t){this.app=e,this._delegate=t}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(e){if(ZU(e))throw bF("ref() expected a child path but got a URL, use refFromURL instead.");return new YU(HU(this._delegate,e),this)}refFromURL(e){if(!ZU(e))throw bF("refFromURL() expected a full URL but got a child path, use ref() instead.");try{SF.makeFromUrl(e,this._delegate.host)}catch(vV){throw bF("refFromUrl() expected a valid full URL but got an invalid one.")}return new YU(HU(this._delegate,e),this)}setMaxUploadRetryTime(e){this._delegate.maxUploadRetryTime=e}setMaxOperationRetryTime(e){this._delegate.maxOperationRetryTime=e}useEmulator(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};GU(this._delegate,e,t,n)}}function ZU(e){return/^[A-Za-z]+:\/\//.test(e)}function ej(e,t){let{instanceIdentifier:n}=t;const r=e.getProvider("app-compat").getImmediate(),i=e.getProvider("storage").getImmediate({identifier:n});return new XU(r,i)}!function(e){const t={TaskState:wU,TaskEvent:yU,StringFormat:jF,Storage:XU,Reference:YU};e.INTERNAL.registerComponent(new Po("storage-compat",ej,"PUBLIC").setServiceProps(t).setMultipleInstances(!0)),e.registerVersion("@firebase/storage-compat","0.3.7")}(ba);const tj=function(){const e=ee(),[t,n]=(0,i.useState)(""),[r,o]=(0,i.useState)(""),[s,a]=(0,i.useState)([]),[c,l]=(0,i.useState)(""),[u,h]=(0,i.useState)(null),[d,f]=(0,i.useState)(!1);(0,i.useEffect)((()=>{mN.firestore().collection("topics").get().then((e=>{const t=e.docs.map((e=>e.data()));a(t)}))}),[]);const p=s.map((e=>({text:e.name,value:e.name}))),m=u?URL.createObjectURL(u):"https://upload.wikimedia.org/wikipedia/commons/7/78/Image.jpg";return(0,yD.jsxs)(vi,{children:[(0,yD.jsx)(lF,{children:"\u767c\u8868\u6587\u7ae0"}),(0,yD.jsxs)(cM,{onSubmit:function(){f(!0);const n=mN.firestore().collection("posts").doc(),i=mN.storage().ref("post-image/"+n.id),o={contentType:u.type};i.put(u,o).then((()=>{i.getDownloadURL().then((i=>{n.set({title:t,content:r,topic:c,createdAt:mN.firestore.Timestamp.now(),author:{displayName:mN.auth().currentUser.displayName||"",photoURL:mN.auth().currentUser.photoURL||"",uid:mN.auth().currentUser.uid,email:mN.auth().currentUser.email},imageUrl:i}).then((()=>{f(!1),e("/posts")}))}))}))},children:[(0,yD.jsx)(KO,{src:m,size:"small",floated:"left"}),(0,yD.jsx)(rD,{basic:!0,as:"label",htmlFor:"post-image",children:"\u4e0a\u50b3\u6587\u7ae0\u5716\u7247"}),(0,yD.jsx)(cM.Input,{type:"file",id:"post-image",style:{display:"none"},onChange:e=>h(e.target.files[0])}),(0,yD.jsx)(cM.Input,{placeholder:"\u8f38\u5165\u6587\u7ae0\u6a19\u984c",value:t,onChange:e=>n(e.target.value)}),(0,yD.jsx)(cM.TextArea,{placeholder:"\u8f38\u5165\u6587\u7ae0\u5167\u5bb9",value:r,onChange:e=>o(e.target.value)}),(0,yD.jsx)(cM.Dropdown,{placeholder:"\u9078\u64c7\u6587\u7ae0\u4e3b\u984c",options:p,selection:!0,value:c,onChange:(e,t)=>{let{value:n}=t;return l(n)}}),(0,yD.jsx)(cM.Button,{loading:d,children:"\u9001\u51fa"})]})]})};function nj(e){var t=e.children,n=e.className,r=e.compact,o=e.content,s=e.horizontal,a=e.piled,c=e.raised,l=e.size,u=e.stacked,h=Oe("ui",l,Me(r,"compact"),Me(s,"horizontal"),Me(a,"piled"),Me(c,"raised"),Me(u,"stacked"),"segments",n),d=qe(nj,e),f=Ke(nj,e);return i.createElement(f,Pe({},d,{className:h}),mi(t)?o:t)}nj.handledProps=["as","children","className","compact","content","horizontal","piled","raised","size","stacked"],nj.propTypes={};const rj=nj;function ij(e){var t=e.children,n=e.className,r=e.content,o=Oe("inline",n),s=qe(ij,e),a=Ke(ij,e);return i.createElement(a,Pe({},s,{className:o}),mi(t)?r:t)}ij.handledProps=["as","children","className","content"],ij.propTypes={};const oj=ij;function sj(e){var t=e.attached,n=e.basic,r=e.children,o=e.circular,s=e.className,a=e.clearing,c=e.color,l=e.compact,u=e.content,h=e.disabled,d=e.floated,f=e.inverted,p=e.loading,m=e.placeholder,g=e.padded,v=e.piled,y=e.raised,w=e.secondary,b=e.size,_=e.stacked,E=e.tertiary,I=e.textAlign,T=e.vertical,S=Oe("ui",c,b,Me(n,"basic"),Me(o,"circular"),Me(a,"clearing"),Me(l,"compact"),Me(h,"disabled"),Me(f,"inverted"),Me(p,"loading"),Me(m,"placeholder"),Me(v,"piled"),Me(y,"raised"),Me(w,"secondary"),Me(_,"stacked"),Me(E,"tertiary"),Me(T,"vertical"),Ue(t,"attached"),Ue(g,"padded"),Ve(I),Fe(d,"floated"),"segment",s),k=qe(sj,e),C=Ke(sj,e);return i.createElement(C,Pe({},k,{className:S}),mi(r)?u:r)}sj.handledProps=["as","attached","basic","children","circular","className","clearing","color","compact","content","disabled","floated","inverted","loading","padded","piled","placeholder","raised","secondary","size","stacked","tertiary","textAlign","vertical"],sj.Group=rj,sj.Inline=oj,sj.propTypes={};const aj=sj;function cj(e){var t=e.active,n=e.className,r=e.children,o=e.content,s=Oe(Me(t,"active"),n),a=qe(cj,e),c=Ke(cj,e);return i.createElement(c,Pe({},a,{className:s}),mi(r)?o:r)}cj.handledProps=["active","as","children","className","content"],cj.defaultProps={as:"a"},cj.propTypes={};const lj=cj;function uj(e){var t=e.className,n=e.children,r=e.content,o=Oe("actions",t),s=qe(uj,e),a=Ke(uj,e);return i.createElement(a,Pe({},s,{className:o}),mi(n)?r:n)}uj.handledProps=["as","children","className","content"],uj.propTypes={};const hj=uj;function dj(e){var t=e.className,n=e.children,r=e.content,o=Oe("author",t),s=qe(dj,e),a=Ke(dj,e);return i.createElement(a,Pe({},s,{className:o}),mi(n)?r:n)}dj.handledProps=["as","children","className","content"],dj.propTypes={};const fj=dj;function pj(e){var t=e.className,n=e.src,r=Oe("avatar",t),o=qe(pj,e),s=IO(o,{htmlProps:EO}),a=s[0],c=s[1],l=Ke(pj,e);return i.createElement(l,Pe({},c,{className:r}),Bi(n,{autoGenerateKey:!1,defaultProps:a}))}pj.handledProps=["as","className","src"],pj.propTypes={};const mj=pj;function gj(e){var t=e.className,n=e.children,r=e.content,o=Oe(t,"content"),s=qe(gj,e),a=Ke(gj,e);return i.createElement(a,Pe({},s,{className:o}),mi(n)?r:n)}gj.handledProps=["as","children","className","content"],gj.propTypes={};const vj=gj;function yj(e){var t=e.className,n=e.children,r=e.collapsed,o=e.content,s=e.minimal,a=e.size,c=e.threaded,l=Oe("ui",a,Me(r,"collapsed"),Me(s,"minimal"),Me(c,"threaded"),"comments",t),u=qe(yj,e),h=Ke(yj,e);return i.createElement(h,Pe({},u,{className:l}),mi(n)?o:n)}yj.handledProps=["as","children","className","collapsed","content","minimal","size","threaded"],yj.propTypes={};const wj=yj;function bj(e){var t=e.className,n=e.children,r=e.content,o=Oe("metadata",t),s=qe(bj,e),a=Ke(bj,e);return i.createElement(a,Pe({},s,{className:o}),mi(n)?r:n)}bj.handledProps=["as","children","className","content"],bj.propTypes={};const _j=bj;function Ej(e){var t=e.className,n=e.children,r=e.content,o=Oe(t,"text"),s=qe(Ej,e),a=Ke(Ej,e);return i.createElement(a,Pe({},s,{className:o}),mi(n)?r:n)}Ej.handledProps=["as","children","className","content"],Ej.propTypes={};const Ij=Ej;function Tj(e){var t=e.className,n=e.children,r=e.collapsed,o=e.content,s=Oe(Me(r,"collapsed"),"comment",t),a=qe(Tj,e),c=Ke(Tj,e);return i.createElement(c,Pe({},a,{className:s}),mi(n)?o:n)}Tj.handledProps=["as","children","className","collapsed","content"],Tj.propTypes={},Tj.Author=fj,Tj.Action=lj,Tj.Actions=hj,Tj.Avatar=mj,Tj.Content=vj,Tj.Group=wj,Tj.Metadata=_j,Tj.Text=Ij;const Sj=Tj;const kj=function(){var e,t,n,r;const{postId:o}=function(){let{matches:e}=i.useContext(J),t=e[e.length-1];return t?t.params:{}}(),[s,a]=(0,i.useState)({author:{}}),[c,l]=(0,i.useState)(""),[u,h]=(0,i.useState)(!1),[d,f]=(0,i.useState)([]);(0,i.useEffect)((()=>{mN.firestore().collection("posts").doc(o).onSnapshot((e=>{const t=e.data();a(t)}))}),[o]),(0,i.useEffect)((()=>{mN.firestore().collection("posts").doc(o).collection("comments").orderBy("createdAt").onSnapshot((e=>{const t=e.docs.map((e=>e.data()));f(t)}))}),[o]);const p=mN.auth().currentUser;function m(e,t){if(!p)return;const n=p.uid;mN.firestore().collection("posts").doc(o).update({[t]:e?mN.firestore.FieldValue.arrayRemove(n):mN.firestore.FieldValue.arrayUnion(n)})}const g=p&&(null===(e=s.collectedBy)||void 0===e?void 0:e.includes(p.uid)),v=p&&(null===(t=s.likedBy)||void 0===t?void 0:t.includes(p.uid));return(0,yD.jsxs)(yD.Fragment,{children:[s.author.photoURL?(0,yD.jsx)(KO,{src:s.author.photoURL,avatar:!0}):(0,yD.jsx)(RP,{name:"user circle"}),s.author.displayName||"\u4f7f\u7528\u8005",(0,yD.jsxs)(lF,{children:[s.title,(0,yD.jsxs)(lF.Subheader,{children:[s.topic,"\u3002",null===(n=s.createdAt)||void 0===n?void 0:n.toDate().toLocaleDateString()]})]}),(0,yD.jsx)(KO,{src:s.imageUrl}),(0,yD.jsx)(aj,{basic:!0,vertical:!0,children:s.content}),(0,yD.jsxs)(aj,{basic:!0,vertical:!0,children:["\u7559\u8a00 ",s.commentsCount||0,"\u3002\u8b9a ",(null===(r=s.likedBy)||void 0===r?void 0:r.length)||0," \u3002",(0,yD.jsx)(RP,{name:"thumbs up".concat(v?"":" outline"," "),color:v?"blue":"grey",link:!0,onClick:()=>m(v,"likedBy")}),"\u3002",(0,yD.jsx)(RP,{name:"bookmark".concat(g?"":" outline"," "),color:g?"blue":"grey",link:!0,onClick:()=>m(g,"collectedBy")})]}),(0,yD.jsxs)(Sj.Group,{children:[(0,yD.jsxs)(cM,{children:[(0,yD.jsx)(cM.TextArea,{value:c,onChange:e=>l(e.target.value)}),(0,yD.jsx)(cM.Button,{onClick:function(){if(!p)return;h(!0);const e=mN.firestore(),t=e.batch(),n=e.collection("posts").doc(o);t.update(n,{commentsCount:mN.firestore.FieldValue.increment(1)});const r=n.collection("comments").doc();t.set(r,{content:c,createdAt:mN.firestore.Timestamp.now(),author:{uid:mN.auth().currentUser.uid,displayName:mN.auth().currentUser.displayName||"",photoURL:mN.auth().currentUser.photoURL||""}});const i=e.collection("userpoints").doc(p.uid);t.update(i,{points:mN.firestore.FieldValue.increment(5)}),t.commit().then((()=>{l(""),h(!1)}))},loading:u,children:"\u7559\u8a00"})]}),(0,yD.jsxs)(lF,{children:["\u5171 ",s.commentsCount||0," \u5247\u7559\u8a00 "]}),d.map((e=>{var t;return(0,yD.jsxs)(Sj,{children:[(0,yD.jsx)(Sj.Avatar,{src:e.author.photoURL}),(0,yD.jsxs)(Sj.Content,{children:[(0,yD.jsx)(Sj.Author,{as:"span",children:e.author.displayName||"\u4f7f\u7528\u8005"}),(0,yD.jsxs)(Sj.Metadata,{children:[" ",e.createdAt.toDate().toLocaleString()," "]}),(0,yD.jsx)(Sj.Text,{children:e.content})]})]},null===(t=e.createdAt)||void 0===t?void 0:t.seconds)}))]})]})};const Cj=function(){const[e,t]=(0,i.useState)([]),[n,r]=(0,i.useState)(!0);return(0,i.useEffect)((()=>{let e=!0;return mN.firestore().collection("posts").where("author.uid","==",mN.auth().currentUser.uid).get().then((e=>{const n=e.docs.map((e=>{const t=e.id;return{...e.data(),id:t}}));t(n),r(!1)})),()=>{e=!1}}),[]),n?(0,yD.jsx)("div",{children:"Loading..."}):(0,yD.jsxs)(yD.Fragment,{children:[(0,yD.jsx)(lF,{children:"\u6211\u7684\u6587\u7ae0"}),(0,yD.jsx)(LM.Group,{children:e.map((e=>(0,yD.jsx)(nF,{post:e},e.id)))})]})};const xj=function(){const[e,t]=(0,i.useState)([]),[n,r]=(0,i.useState)(!0);return(0,i.useEffect)((()=>{let e=!0;return mN.firestore().collection("posts").where("collectedBy","array-contains",mN.auth().currentUser.uid).get().then((e=>{const n=e.docs.map((e=>{const t=e.id;return{...e.data(),id:t}}));t(n),r(!1)})),()=>{e=!1}}),[]),n?(0,yD.jsx)("div",{children:"Loading..."}):(0,yD.jsxs)(yD.Fragment,{children:[(0,yD.jsx)(lF,{children:"\u6211\u7684\u6536\u85cf"}),(0,yD.jsx)(LM.Group,{children:e.map((e=>(0,yD.jsx)(nF,{post:e},e.id)))})]})};var Nj=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).handleButtonOverrides=function(e){return{onClick:function(n,r){EA(e,"onClick",n,r),EA(t.props,"onActionClick",n,r)}}},t}return oA(t,e),t.prototype.render=function(){var e=this,n=this.props,r=n.actions,o=n.children,s=n.className,a=n.content,c=Oe("actions",s),l=qe(t,this.props),u=Ke(t,this.props);return mi(o)?mi(a)?i.createElement(u,Pe({},l,{className:c}),aA(r,(function(t){return rD.create(t,{overrideProps:e.handleButtonOverrides})}))):i.createElement(u,Pe({},l,{className:c}),a):i.createElement(u,Pe({},l,{className:c}),o)},t}(i.Component);function Aj(e){var t=e.children,n=e.className,r=e.content,o=e.image,s=e.scrolling,a=Oe(n,Me(o,"image"),Me(s,"scrolling"),"content"),c=qe(Aj,e),l=Ke(Aj,e);return i.createElement(l,Pe({},c,{className:a}),mi(t)?r:t)}Nj.handledProps=["actions","as","children","className","content","onActionClick"],Nj.propTypes={},Nj.create=zi(Nj,(function(e){return{actions:e}})),Aj.handledProps=["as","children","className","content","image","scrolling"],Aj.propTypes={},Aj.create=zi(Aj,(function(e){return{content:e}}));const Pj=Aj;function Rj(e){var t=e.children,n=e.className,r=e.content,o=Oe("description",n),s=qe(Rj,e),a=Ke(Rj,e);return i.createElement(a,Pe({},s,{className:o}),mi(t)?r:t)}Rj.handledProps=["as","children","className","content"],Rj.propTypes={};const Oj=Rj;const Dj=fO()?i.useLayoutEffect:i.useEffect;var Lj=/\s+/;var Mj=new Map,Fj=function(e,t){var n=function(e){var t=[];return e?(e.forEach((function(e){"string"===typeof e.current&&e.current.split(Lj).forEach((function(e){t.push(e)}))})),t.filter((function(e,t,n){return e.length>0&&n.indexOf(e)===t}))):[]}(t),r=function(e,t){return[t.filter((function(t){return-1===e.indexOf(t)})),e.filter((function(e){return-1===t.indexOf(e)}))]}(Mj.get(e)||[],n),i=r[0],o=r[1];e&&(i.forEach((function(t){return e.classList.add(t)})),o.forEach((function(t){return e.classList.remove(t)}))),Mj.set(e,n)},Uj=new function(){var e=this;this.add=function(t,n){if(e.nodes.has(t)){e.nodes.get(t).add(n)}else{var r=new Set;r.add(n),e.nodes.set(t,r)}},this.del=function(t,n){if(e.nodes.has(t)){var r=e.nodes.get(t);1!==r.size?r.delete(n):e.nodes.delete(t)}},this.emit=function(t,n){n(t,e.nodes.get(t))},this.nodes=new Map};function jj(e){var t=e.blurring,n=e.children,r=e.className,o=e.centered,s=e.content,a=e.inverted,c=e.mountNode,l=e.scrolling,u=i.useRef(),h=Oe("ui",Me(a,"inverted"),Me(!o,"top aligned"),"page modals dimmer transition visible active",r),d=Oe("dimmable dimmed",Me(t,"blurring"),Me(l,"scrolling")),f=qe(jj,e),p=Ke(jj,e);return function(e,t){var n=i.useRef(),r=i.useRef(!1);Dj((function(){if(n.current=t,r.current){var i=SO(e)?e.current:e;Uj.emit(i,Fj)}r.current=!0}),[t]),Dj((function(){var t=SO(e)?e.current:e;return Uj.add(t,n),Uj.emit(t,Fj),function(){Uj.del(t,n),Uj.emit(t,Fj)}}),[e])}(c,d),i.useEffect((function(){u.current&&u.current.style&&u.current.style.setProperty("display","flex","important")}),[]),i.createElement(AO,{innerRef:u},i.createElement(p,Pe({},f,{className:h}),mi(n)?s:n))}jj.handledProps=["as","blurring","centered","children","className","content","inverted","mountNode","scrolling"],jj.propTypes={},jj.create=zi(jj,(function(e){return{content:e}}));const Vj=jj;function zj(e){var t=e.children,n=e.className,r=e.content,o=Oe("header",n),s=qe(zj,e),a=Ke(zj,e);return i.createElement(a,Pe({},s,{className:o}),mi(t)?r:t)}zj.handledProps=["as","children","className","content"],zj.propTypes={},zj.create=zi(zj,(function(e){return{content:e}}));const Bj=zj;var qj=function(e){function t(){for(var n,r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return(n=e.call.apply(e,[this].concat(o))||this).legacy=fO()&&!window.ActiveXObject&&"ActiveXObject"in window,n.ref=(0,i.createRef)(),n.dimmerRef=(0,i.createRef)(),n.latestDocumentMouseDownEvent=null,n.getMountNode=function(){return fO()?n.props.mountNode||document.body:null},n.handleActionsOverrides=function(e){return{onActionClick:function(t,r){EA(e,"onActionClick",t,r),EA(n.props,"onActionClick",t,n.props),n.handleClose(t)}}},n.handleClose=function(e){n.setState({open:!1}),EA(n.props,"onClose",e,Pe({},n.props,{open:!1}))},n.handleDocumentMouseDown=function(e){n.latestDocumentMouseDownEvent=e},n.handleDocumentClick=function(e){var t=n.props.closeOnDimmerClick,r=n.latestDocumentMouseDownEvent;n.latestDocumentMouseDownEvent=null,!t||RO(n.ref.current,r)||RO(n.ref.current,e)||(n.setState({open:!1}),EA(n.props,"onClose",e,Pe({},n.props,{open:!1})))},n.handleIconOverrides=function(e){return{onClick:function(t){EA(e,"onClick",t),n.handleClose(t)}}},n.handleOpen=function(e){EA(n.props,"onOpen",e,Pe({},n.props,{open:!0})),n.setState({open:!0})},n.handlePortalMount=function(e){var t=n.props.eventPool;n.setState({scrolling:!1}),n.setPositionAndClassNames(),uO.sub("mousedown",n.handleDocumentMouseDown,{pool:t,target:n.dimmerRef.current}),uO.sub("click",n.handleDocumentClick,{pool:t,target:n.dimmerRef.current}),EA(n.props,"onMount",e,n.props)},n.handlePortalUnmount=function(e){var t=n.props.eventPool;cancelAnimationFrame(n.animationRequestId),uO.unsub("mousedown",n.handleDocumentMouseDown,{pool:t,target:n.dimmerRef.current}),uO.unsub("click",n.handleDocumentClick,{pool:t,target:n.dimmerRef.current}),EA(n.props,"onUnmount",e,n.props)},n.setPositionAndClassNames=function(){var e,t=n.props.centered,r={};if(n.ref.current){var i=n.ref.current.getBoundingClientRect(),o=function(e){var t=e.height+0,n=e.height+0,r=window.innerHeight;return r/2+-n/2+t+50<r}(i);e=!o;var s=n.legacy?function(e,t,n){var r=t&&e?-n.height/2:0;return{marginLeft:-n.width/2,marginTop:r}}(o,t,i):{};aO()(n.state.legacyStyles,s)||(r.legacyStyles=s),n.state.scrolling!==e&&(r.scrolling=e)}VP(r)||n.setState(r),n.animationRequestId=requestAnimationFrame(n.setPositionAndClassNames)},n.renderContent=function(e){var r=n.props,o=r.actions,s=r.basic,a=r.children,c=r.className,l=r.closeIcon,u=r.content,h=r.header,d=r.size,f=r.style,p=n.state,m=p.legacyStyles,g=p.scrolling,v=Oe("ui",d,Me(s,"basic"),Me(n.legacy,"legacy"),Me(g,"scrolling"),"modal transition visible active",c),y=Ke(t,n.props),w=!0===l?"close":l,b=RP.create(w,{overrideProps:n.handleIconOverrides});return i.createElement(AO,{innerRef:n.ref},i.createElement(y,Pe({},e,{className:v,style:Pe({},m,f)}),b,mi(a)?i.createElement(i.Fragment,null,Bj.create(h,{autoGenerateKey:!1}),Pj.create(u,{autoGenerateKey:!1}),Nj.create(o,{overrideProps:n.handleActionsOverrides})):a))},n}oA(t,e);var n=t.prototype;return n.componentWillUnmount=function(){this.handlePortalUnmount()},n.render=function(){var e=this.props,n=e.centered,r=e.closeOnDocumentClick,o=e.dimmer,s=e.eventPool,a=e.trigger,c=this.state,l=c.open,u=c.scrolling,h=this.getMountNode();if(!fO())return(0,i.isValidElement)(a)?a:null;var d=qe(t,this.props),f=MO.handledProps,p=rO(d,(function(e,t,n){return vO(f,n)||(e[n]=t),e}),{}),m=wL(d,f);return i.createElement(MO,Pe({closeOnDocumentClick:r},m,{trigger:a,eventPool:s,mountNode:h,open:l,onClose:this.handleClose,onMount:this.handlePortalMount,onOpen:this.handleOpen,onUnmount:this.handlePortalUnmount}),i.createElement(AO,{innerRef:this.dimmerRef},Vj.create(Li(o)?o:{},{autoGenerateKey:!1,defaultProps:{blurring:"blurring"===o,inverted:"inverted"===o},overrideProps:{children:this.renderContent(p),centered:n,mountNode:h,scrolling:u}})))},t}(TA);qj.handledProps=["actions","as","basic","centered","children","className","closeIcon","closeOnDimmerClick","closeOnDocumentClick","content","defaultOpen","dimmer","eventPool","header","mountNode","onActionClick","onClose","onMount","onOpen","onUnmount","open","size","style","trigger"],qj.propTypes={},qj.defaultProps={centered:!0,dimmer:!0,closeOnDimmerClick:!0,closeOnDocumentClick:!1,eventPool:"Modal"},qj.autoControlledProps=["open"],qj.Actions=Nj,qj.Content=Pj,qj.Description=Oj,qj.Dimmer=Vj,qj.Header=Bj;const Kj=qj;function Hj(e){let{user:t}=e;const[n,r]=(0,i.useState)(!1),[o,s]=(0,i.useState)(""),[a,c]=(0,i.useState)(!1);return(0,yD.jsxs)(yD.Fragment,{children:[(0,yD.jsxs)(lF,{size:"small",children:["\u6703\u54e1\u540d\u7a31",(0,yD.jsx)(rD,{floated:"right",onClick:()=>r(!0),children:"\u4fee\u6539"})]}),(0,yD.jsx)(aj,{vertical:!0,children:t.displayName}),(0,yD.jsxs)(Kj,{open:n,size:"mini",children:[(0,yD.jsx)(Kj.Header,{children:"\u4fee\u6539\u6703\u54e1\u540d\u7a31"}),(0,yD.jsx)(Kj.Content,{children:(0,yD.jsx)(oD,{placeholder:"\u8f38\u5165\u65b0\u7684\u6703\u54e1\u540d\u7a31",value:o,onChange:e=>s(e.target.value),fluid:!0})}),(0,yD.jsxs)(Kj.Actions,{children:[(0,yD.jsx)(rD,{onClick:()=>r(!1),children:"\u53d6\u6d88"}),(0,yD.jsx)(rD,{onClick:function(){c(!0),t.updateProfile({displayName:o}).then((()=>{c(!1),s(""),r(!1)}))},loading:a,children:"\u4fee\u6539"})]})]})]})}function Gj(e){let{user:t}=e;const[n,r]=(0,i.useState)(!1),[o,s]=(0,i.useState)(!1),[a,c]=(0,i.useState)(null),l=a?URL.createObjectURL(a):t.photoURL;return(0,yD.jsxs)(yD.Fragment,{children:[(0,yD.jsxs)(lF,{size:"small",children:["\u6703\u54e1\u7167\u7247",(0,yD.jsx)(rD,{floated:"right",onClick:()=>r(!0),children:"\u4fee\u6539"})]}),(0,yD.jsx)(aj,{vertical:!0,children:(0,yD.jsx)(KO,{src:t.photoURL,avatar:!0,style:{transform:"scale(1.5)"}})}),(0,yD.jsxs)(Kj,{open:n,size:"mini",children:[(0,yD.jsx)(Kj.Header,{children:"\u4fee\u6539\u6703\u54e1\u7167\u7247"}),(0,yD.jsxs)(Kj.Content,{image:!0,children:[(0,yD.jsx)("span",{style:{marginRight:"30px"}}),(0,yD.jsx)(KO,{src:l,avatar:!0,wrapped:!0,style:{transform:"scale(2.3)"}}),(0,yD.jsxs)(Kj.Description,{children:[(0,yD.jsx)(rD,{as:"label",htmlFor:"post-image",children:"\u4e0a\u50b3"}),(0,yD.jsx)(oD,{type:"file",id:"post-image",style:{display:"none"},onChange:e=>c(e.target.files[0])})]})]}),(0,yD.jsxs)(Kj.Actions,{children:[(0,yD.jsx)(rD,{onClick:()=>r(!1),children:"\u53d6\u6d88"}),(0,yD.jsx)(rD,{onClick:function(){s(!0);const e=mN.storage().ref("user-photos/"+t.uid),n={contentType:a.type};e.put(a,n).then((()=>{e.getDownloadURL().then((e=>{t.updateProfile({photoURL:e}).then((()=>{s(!1),c(""),r(!1)}))}))}))},loading:o,children:"\u4fee\u6539"})]})]})]})}function Wj(e){let{user:t}=e;const[n,r]=(0,i.useState)(!1),[o,s]=(0,i.useState)(!1),[a,c]=(0,i.useState)(""),[l,u]=(0,i.useState)("");return(0,yD.jsxs)(yD.Fragment,{children:[(0,yD.jsxs)(lF,{size:"small",children:["\u6703\u54e1\u5bc6\u78bc",(0,yD.jsx)(rD,{floated:"right",onClick:()=>s(!0),children:"\u4fee\u6539"})]}),(0,yD.jsx)(aj,{vertical:!0,children:"******"}),(0,yD.jsxs)(Kj,{open:o,size:"mini",children:[(0,yD.jsx)(Kj.Header,{children:"\u4fee\u6539\u6703\u54e1\u5bc6\u78bc"}),(0,yD.jsxs)(Kj.Content,{children:[(0,yD.jsx)(lF,{size:"small",children:"\u76ee\u524d\u5bc6\u78bc"}),(0,yD.jsx)(oD,{placeholder:"\u8f38\u5165\u820a\u5bc6\u78bc",value:a,onChange:e=>c(e.target.value),fluid:!0}),(0,yD.jsx)(lF,{size:"small",children:"\u65b0\u5bc6\u78bc"}),(0,yD.jsx)(oD,{placeholder:"\u8f38\u5165\u65b0\u5bc6\u78bc",value:l,onChange:e=>u(e.target.value),fluid:!0})]}),(0,yD.jsxs)(Kj.Actions,{children:[(0,yD.jsx)(rD,{onClick:()=>s(!1),children:"\u53d6\u6d88"}),(0,yD.jsx)(rD,{onClick:function(){r(!0);const e=mN.auth.EmailAuthProvider.credential(t.email,a);t.reauthenticateWithCredential(e).then((()=>{t.updatePassword(l).then((()=>{s(!1),c(""),u(""),r(!1)}))})),t.updatePassword(l)},loading:n,children:"\u4fee\u6539"})]})]})]})}function Qj(){const[e,t]=(0,i.useState)(!1),n=mN.firestore().collection("userpoints").doc(mN.auth().currentUser.uid);return(0,i.useEffect)((()=>{const e=n.onSnapshot((e=>{e.exists?t(!0):t(!1)}));return()=>e()}),[]),(0,yD.jsx)(yD.Fragment,{children:(0,yD.jsxs)(lF,{size:"small",children:["\u7a4d\u5206\u7cfb\u7d71",(0,yD.jsx)(rD,{floated:"right",onClick:function(){n.set({points:0}).then((()=>{localStorage.setItem("activated","true"),t(!0)}))},disabled:e,children:e?"\u5df2\u555f\u7528":"\u555f\u7528"})]})})}const Jj=function(){const[e,t]=(0,i.useState)({});return(0,i.useEffect)((()=>{mN.auth().onAuthStateChanged((e=>{t(e)}))}),[]),(0,yD.jsxs)(yD.Fragment,{children:[(0,yD.jsx)(lF,{children:"\u6703\u54e1\u8cc7\u6599"}),(0,yD.jsx)(Hj,{user:e}),(0,yD.jsx)(Gj,{user:e}),(0,yD.jsx)(Wj,{user:e}),(0,yD.jsx)(Qj,{})]})};function $j(e){var t=e.children,n=e.className,r=e.content,o=Oe(n,"description"),s=qe($j,e),a=Ke($j,e);return i.createElement(a,Pe({},s,{className:o}),mi(t)?r:t)}$j.handledProps=["as","children","className","content"],$j.propTypes={},$j.create=zi($j,(function(e){return{content:e}}));const Yj=$j;function Xj(e){var t=e.children,n=e.className,r=e.content,o=Oe("header",n),s=qe(Xj,e),a=Ke(Xj,e);return i.createElement(a,Pe({},s,{className:o}),mi(t)?r:t)}Xj.handledProps=["as","children","className","content"],Xj.propTypes={},Xj.create=zi(Xj,(function(e){return{content:e}}));const Zj=Xj;function eV(e){var t=e.children,n=e.className,r=e.content,o=e.description,s=e.floated,a=e.header,c=e.verticalAlign,l=Oe(Fe(s,"floated"),ze(c),"content",n),u=qe(eV,e),h=Ke(eV,e);return mi(t)?i.createElement(h,Pe({},u,{className:l}),Zj.create(a),Yj.create(o),r):i.createElement(h,Pe({},u,{className:l}),t)}eV.handledProps=["as","children","className","content","description","floated","header","verticalAlign"],eV.propTypes={},eV.create=zi(eV,(function(e){return{content:e}}));const tV=eV;function nV(e){var t=e.className,n=e.verticalAlign,r=Oe(ze(n),t),o=qe(nV,e);return i.createElement(RP,Pe({},o,{className:r}))}nV.handledProps=["className","verticalAlign"],nV.propTypes={},nV.create=zi(nV,(function(e){return{name:e}}));const rV=nV;var iV=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).handleClick=function(e){t.props.disabled||EA(t.props,"onClick",e,t.props)},t}return oA(t,e),t.prototype.render=function(){var e=this.props,n=e.active,r=e.children,o=e.className,s=e.content,a=e.description,c=e.disabled,l=e.header,u=e.icon,h=e.image,d=e.value,f=Ke(t,this.props),p=Oe(Me(n,"active"),Me(c,"disabled"),Me("li"!==f,"item"),o),m=qe(t,this.props),g="li"===f?{value:d}:{"data-value":d};if(!mi(r))return i.createElement(f,Pe({},g,{role:"listitem",className:p,onClick:this.handleClick},m),r);var v=rV.create(u,{autoGenerateKey:!1}),y=KO.create(h,{autoGenerateKey:!1});if(!(0,i.isValidElement)(s)&&Li(s))return i.createElement(f,Pe({},g,{role:"listitem",className:p,onClick:this.handleClick},m),v||y,tV.create(s,{autoGenerateKey:!1,defaultProps:{header:l,description:a}}));var w=Zj.create(l,{autoGenerateKey:!1}),b=Yj.create(a,{autoGenerateKey:!1});return v||y?i.createElement(f,Pe({},g,{role:"listitem",className:p,onClick:this.handleClick},m),v||y,(s||w||b)&&i.createElement(tV,null,w,b,s)):i.createElement(f,Pe({},g,{role:"listitem",className:p,onClick:this.handleClick},m),w,b,s)},t}(i.Component);iV.handledProps=["active","as","children","className","content","description","disabled","header","icon","image","onClick","value"],iV.propTypes={},iV.create=zi(iV,(function(e){return{content:e}}));const oV=iV;function sV(e){var t=e.children,n=e.className,r=e.content,o=qe(sV,e),s=Ke(sV,e),a=Oe(Me("ul"!==s&&"ol"!==s,"list"),n);return i.createElement(s,Pe({},o,{className:a}),mi(t)?r:t)}sV.handledProps=["as","children","className","content"],sV.propTypes={};const aV=sV;var cV=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).handleItemOverrides=function(e){return{onClick:function(n,r){EA(e,"onClick",n,r),EA(t.props,"onItemClick",n,r)}}},t}return oA(t,e),t.prototype.render=function(){var e=this,n=this.props,r=n.animated,o=n.bulleted,s=n.celled,a=n.children,c=n.className,l=n.content,u=n.divided,h=n.floated,d=n.horizontal,f=n.inverted,p=n.items,m=n.link,g=n.ordered,v=n.relaxed,y=n.selection,w=n.size,b=n.verticalAlign,_=Oe("ui",w,Me(r,"animated"),Me(o,"bulleted"),Me(s,"celled"),Me(u,"divided"),Me(d,"horizontal"),Me(f,"inverted"),Me(m,"link"),Me(g,"ordered"),Me(y,"selection"),Ue(v,"relaxed"),Fe(h,"floated"),ze(b),"list",c),E=qe(t,this.props),I=Ke(t,this.props);return mi(a)?mi(l)?i.createElement(I,Pe({role:"list",className:_},E),aA(p,(function(t){return oV.create(t,{overrideProps:e.handleItemOverrides})}))):i.createElement(I,Pe({role:"list",className:_},E),l):i.createElement(I,Pe({role:"list",className:_},E),a)},t}(i.Component);cV.handledProps=["animated","as","bulleted","celled","children","className","content","divided","floated","horizontal","inverted","items","link","onItemClick","ordered","relaxed","selection","size","verticalAlign"],cV.propTypes={},cV.Content=tV,cV.Description=Yj,cV.Header=Zj,cV.Icon=rV,cV.Item=oV,cV.List=aV;const lV=cV;const uV=function(){const[e,t]=(0,i.useState)([]),[n,r]=(0,i.useState)(0),[o,s]=(0,i.useState)(""),a=mN.auth().currentUser;return(0,i.useEffect)((()=>{mN.firestore().collection("rewards").get().then((e=>{const n=e.docs.map((e=>e.data()));t(n)})),a&&mN.firestore().collection("users").doc(a.uid).get().then((e=>{e.exists&&r(e.data().points)}))}),[a]),(0,yD.jsx)(yD.Fragment,{children:(0,yD.jsxs)(vi,{children:[(0,yD.jsx)("h1",{children:"\u7a4d\u5206\u514c\u63db\u5546\u57ce"}),(0,yD.jsxs)("p",{children:["\u4f60\u7684\u7a4d\u5206\uff1a",n]}),o&&(0,yD.jsx)(vM,{children:o}),(0,yD.jsx)(lV,{children:e.map((e=>(0,yD.jsx)(lV.Item,{children:(0,yD.jsxs)(lV.Content,{children:[(0,yD.jsx)(lV.Header,{children:e.name}),(0,yD.jsxs)(lV.Description,{children:["\u6240\u9700\u7a4d\u5206\uff1a",e.pointsRequired]}),(0,yD.jsx)(rD,{onClick:()=>function(e){if(n<e.pointsRequired)return void s("\u4f60\u7684\u7a4d\u5206\u4e0d\u8db3");mN.firestore().collection("users").doc(a.uid).update({points:mN.firestore.FieldValue.increment(-e.pointsRequired)}).then((()=>{s("\u514c\u63db\u6210\u529f"),r(n-e.pointsRequired)}))}(e),children:"\u514c\u63db"})]})},e.name)))})]})})};const hV=function(){const e=X(),t=new URLSearchParams(e.search).get("topic"),[n,r]=(0,i.useState)([]);return(0,i.useEffect)((()=>{mN.firestore().collection("topics").get().then((e=>{const t=e.docs.map((e=>e.data()));r(t)}))}),[]),(0,yD.jsx)(lV,{animated:!0,selection:!0,children:n.map((e=>(0,yD.jsx)(lV.Item,{as:xe,to:"/posts?topic=".concat(e.name),active:t===e.name,children:e.name},e.name)))})};const dV=function(){const e=X();return(0,yD.jsx)(lV,{animated:!0,selection:!0,children:[{name:"\u6211\u7684\u6587\u7ae0",path:"posts"},{name:"\u6211\u7684\u6536\u85cf",path:"collections"},{name:"\u6703\u54e1\u8cc7\u6599",path:"settings"}].map((t=>(0,yD.jsx)(lV.Item,{as:xe,to:t.path,active:"/my/"+t.path===e.pathname,children:t.name},t.name)))})};const fV=()=>(0,yD.jsxs)(vi,{children:[(0,yD.jsx)(rA,{children:["https://cdn.pixabay.com/photo/2016/11/04/03/20/cat-1796834_640.jpg","https://thumb.photo-ac.com/f3/f36c375c339f1212cceb122fdb9d0808_t.jpeg","https://memeprod.ap-south-1.linodeobjects.com/user-template/ceded397639ef369a044490617be3b74.png"].map(((e,t)=>(0,yD.jsx)("div",{className:"each-slide",children:(0,yD.jsx)("div",{style:{backgroundImage:"url(".concat(e,")")}})},t)))}),(0,yD.jsx)("h1",{children:"\u516c\u544a"}),(0,yD.jsx)("h1",{children:"\u8a0e\u8ad6\u6587\u7ae0"}),(0,yD.jsx)(rF,{})]}),pV=()=>(0,yD.jsx)(vi,{children:(0,yD.jsx)(Yi,{children:(0,yD.jsxs)(Yi.Row,{children:[(0,yD.jsx)(Yi.Column,{width:3,children:(0,yD.jsx)(hV,{})}),(0,yD.jsx)(Yi.Column,{width:10,children:(0,yD.jsx)(ge,{})}),(0,yD.jsx)(Yi.Column,{width:3})]})})}),mV=e=>{let{user:t}=e;return(0,yD.jsx)(yD.Fragment,{children:t?(0,yD.jsx)(vi,{children:(0,yD.jsx)(Yi,{children:(0,yD.jsxs)(Yi.Row,{children:[(0,yD.jsx)(Yi.Column,{width:3,children:(0,yD.jsx)(dV,{})}),(0,yD.jsx)(Yi.Column,{width:10,children:(0,yD.jsx)(ge,{})}),(0,yD.jsx)(Yi.Column,{width:3})]})})}):(0,yD.jsx)(me,{to:"/"})})},gV=function(){const[e,t]=(0,i.useState)(null);return(0,i.useEffect)((()=>{mN.auth().onAuthStateChanged((e=>{t(e)}))}),[]),(0,yD.jsxs)(Se,{basename:"/gameforum",children:[(0,yD.jsx)(wD,{user:e}),(0,yD.jsxs)(we,{children:[(0,yD.jsx)(ve,{path:"/",element:(0,yD.jsx)(fV,{})}),(0,yD.jsxs)(ve,{path:"/posts",element:(0,yD.jsx)(pV,{}),children:[(0,yD.jsx)(ve,{index:!0,element:(0,yD.jsx)(rF,{})}),(0,yD.jsx)(ve,{path:":postId",element:(0,yD.jsx)(kj,{})})]}),(0,yD.jsxs)(ve,{path:"/my",element:(0,yD.jsx)(mV,{user:e}),children:[(0,yD.jsx)(ve,{index:!0,element:""}),(0,yD.jsx)(ve,{path:"posts",element:(0,yD.jsx)(Cj,{})}),(0,yD.jsx)(ve,{path:"collections",element:(0,yD.jsx)(xj,{})}),(0,yD.jsx)(ve,{path:"settings",element:(0,yD.jsx)(Jj,{})})]}),(0,yD.jsx)(ve,{path:"/rewards",element:e?(0,yD.jsx)(uV,{}):(0,yD.jsx)(me,{to:"/"})}),(0,yD.jsx)(ve,{path:"/signin",element:e?(0,yD.jsx)(me,{to:"/"}):(0,yD.jsx)(yM,{})}),(0,yD.jsx)(ve,{path:"/new-post",element:e?(0,yD.jsx)(tj,{}):(0,yD.jsx)(me,{to:"/"})}),(0,yD.jsx)(ve,{path:"/gamenews",element:(0,yD.jsx)(wM,{})})]})]})};r.createRoot(document.getElementById("root")).render((0,yD.jsx)(gV,{}))})()})();
//# sourceMappingURL=main.786e0c8d.js.map